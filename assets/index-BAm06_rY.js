var sB=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var AF=sB((ua,la)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();function uB(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var aS={exports:{}},Ec={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT;function lB(){if(GT)return Ec;GT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,a,s){var l=null;if(s!==void 0&&(l=""+s),a.key!==void 0&&(l=""+a.key),"key"in a){s={};for(var d in a)d!=="key"&&(s[d]=a[d])}else s=a;return a=s.ref,{$$typeof:e,type:r,key:l,ref:a!==void 0?a:null,props:s}}return Ec.Fragment=t,Ec.jsx=n,Ec.jsxs=n,Ec}var qT;function dB(){return qT||(qT=1,aS.exports=lB()),aS.exports}var wn=dB(),sS={exports:{}},Ac={},uS={exports:{}},lS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $T;function cB(){return $T||($T=1,function(e){function t(D,K){var J=D.length;D.push(K);e:for(;0<J;){var re=J-1>>>1,M=D[re];if(0<a(M,K))D[re]=K,D[J]=M,J=re;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var K=D[0],J=D.pop();if(J!==K){D[0]=J;e:for(var re=0,M=D.length,X=M>>>1;re<X;){var ye=2*(re+1)-1,Ee=D[ye],se=ye+1,we=D[se];if(0>a(Ee,J))se<M&&0>a(we,Ee)?(D[re]=we,D[se]=J,re=se):(D[re]=Ee,D[ye]=J,re=ye);else if(se<M&&0>a(we,J))D[re]=we,D[se]=J,re=se;else break e}}return K}function a(D,K){var J=D.sortIndex-K.sortIndex;return J!==0?J:D.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var f=[],p=[],h=1,g=null,v=3,S=!1,b=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;function O(D){for(var K=n(p);K!==null;){if(K.callback===null)r(p);else if(K.startTime<=D)r(p),K.sortIndex=K.expirationTime,t(f,K);else break;K=n(p)}}function I(D){if(_=!1,O(D),!b)if(n(f)!==null)b=!0,F();else{var K=n(p);K!==null&&P(I,K.startTime-D)}}var V=!1,U=-1,x=5,$=-1;function W(){return!(e.unstable_now()-$<x)}function z(){if(V){var D=e.unstable_now();$=D;var K=!0;try{e:{b=!1,_&&(_=!1,A(U),U=-1),S=!0;var J=v;try{t:{for(O(D),g=n(f);g!==null&&!(g.expirationTime>D&&W());){var re=g.callback;if(typeof re=="function"){g.callback=null,v=g.priorityLevel;var M=re(g.expirationTime<=D);if(D=e.unstable_now(),typeof M=="function"){g.callback=M,O(D),K=!0;break t}g===n(f)&&r(f),O(D)}else r(f);g=n(f)}if(g!==null)K=!0;else{var X=n(p);X!==null&&P(I,X.startTime-D),K=!1}}break e}finally{g=null,v=J,S=!1}K=void 0}}finally{K?L():V=!1}}}var L;if(typeof w=="function")L=function(){w(z)};else if(typeof MessageChannel<"u"){var T=new MessageChannel,N=T.port2;T.port1.onmessage=z,L=function(){N.postMessage(null)}}else L=function(){E(z,0)};function F(){V||(V=!0,L())}function P(D,K){U=E(function(){D(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){b||S||(b=!0,F())},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(f)},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var J=v;v=K;try{return D()}finally{v=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,K){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var J=v;v=D;try{return K()}finally{v=J}},e.unstable_scheduleCallback=function(D,K,J){var re=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?re+J:re):J=re,D){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=J+M,D={id:h++,callback:K,priorityLevel:D,startTime:J,expirationTime:M,sortIndex:-1},J>re?(D.sortIndex=J,t(p,D),n(f)===null&&D===n(p)&&(_?(A(U),U=-1):_=!0,P(I,J-re))):(D.sortIndex=M,t(f,D),b||S||(b=!0,F())),D},e.unstable_shouldYield=W,e.unstable_wrapCallback=function(D){var K=v;return function(){var J=v;v=K;try{return D.apply(this,arguments)}finally{v=J}}}}(lS)),lS}var KT;function fB(){return KT||(KT=1,uS.exports=cB()),uS.exports}var dS={exports:{}},nt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WT;function pB(){if(WT)return nt;WT=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=g&&M[g]||M["@@iterator"],typeof M=="function"?M:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,_={};function E(M,X,ye){this.props=M,this.context=X,this.refs=_,this.updater=ye||S}E.prototype.isReactComponent={},E.prototype.setState=function(M,X){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,X,"setState")},E.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function A(){}A.prototype=E.prototype;function w(M,X,ye){this.props=M,this.context=X,this.refs=_,this.updater=ye||S}var O=w.prototype=new A;O.constructor=w,b(O,E.prototype),O.isPureReactComponent=!0;var I=Array.isArray,V={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function x(M,X,ye,Ee,se,we){return ye=we.ref,{$$typeof:e,type:M,key:X,ref:ye!==void 0?ye:null,props:we}}function $(M,X){return x(M.type,X,void 0,void 0,void 0,M.props)}function W(M){return typeof M=="object"&&M!==null&&M.$$typeof===e}function z(M){var X={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ye){return X[ye]})}var L=/\/+/g;function T(M,X){return typeof M=="object"&&M!==null&&M.key!=null?z(""+M.key):X.toString(36)}function N(){}function F(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(N,N):(M.status="pending",M.then(function(X){M.status==="pending"&&(M.status="fulfilled",M.value=X)},function(X){M.status==="pending"&&(M.status="rejected",M.reason=X)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function P(M,X,ye,Ee,se){var we=typeof M;(we==="undefined"||we==="boolean")&&(M=null);var Oe=!1;if(M===null)Oe=!0;else switch(we){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(M.$$typeof){case e:case t:Oe=!0;break;case h:return Oe=M._init,P(Oe(M._payload),X,ye,Ee,se)}}if(Oe)return se=se(M),Oe=Ee===""?"."+T(M,0):Ee,I(se)?(ye="",Oe!=null&&(ye=Oe.replace(L,"$&/")+"/"),P(se,X,ye,"",function(Q){return Q})):se!=null&&(W(se)&&(se=$(se,ye+(se.key==null||M&&M.key===se.key?"":(""+se.key).replace(L,"$&/")+"/")+Oe)),X.push(se)),1;Oe=0;var Ye=Ee===""?".":Ee+":";if(I(M))for(var Le=0;Le<M.length;Le++)Ee=M[Le],we=Ye+T(Ee,Le),Oe+=P(Ee,X,ye,we,se);else if(Le=v(M),typeof Le=="function")for(M=Le.call(M),Le=0;!(Ee=M.next()).done;)Ee=Ee.value,we=Ye+T(Ee,Le++),Oe+=P(Ee,X,ye,we,se);else if(we==="object"){if(typeof M.then=="function")return P(F(M),X,ye,Ee,se);throw X=String(M),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function D(M,X,ye){if(M==null)return M;var Ee=[],se=0;return P(M,Ee,"","",function(we){return X.call(ye,we,se++)}),Ee}function K(M){if(M._status===-1){var X=M._result;X=X(),X.then(function(ye){(M._status===0||M._status===-1)&&(M._status=1,M._result=ye)},function(ye){(M._status===0||M._status===-1)&&(M._status=2,M._result=ye)}),M._status===-1&&(M._status=0,M._result=X)}if(M._status===1)return M._result.default;throw M._result}var J=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)};function re(){}return nt.Children={map:D,forEach:function(M,X,ye){D(M,function(){X.apply(this,arguments)},ye)},count:function(M){var X=0;return D(M,function(){X++}),X},toArray:function(M){return D(M,function(X){return X})||[]},only:function(M){if(!W(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},nt.Component=E,nt.Fragment=n,nt.Profiler=a,nt.PureComponent=w,nt.StrictMode=r,nt.Suspense=f,nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=V,nt.act=function(){throw Error("act(...) is not supported in production builds of React.")},nt.cache=function(M){return function(){return M.apply(null,arguments)}},nt.cloneElement=function(M,X,ye){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var Ee=b({},M.props),se=M.key,we=void 0;if(X!=null)for(Oe in X.ref!==void 0&&(we=void 0),X.key!==void 0&&(se=""+X.key),X)!U.call(X,Oe)||Oe==="key"||Oe==="__self"||Oe==="__source"||Oe==="ref"&&X.ref===void 0||(Ee[Oe]=X[Oe]);var Oe=arguments.length-2;if(Oe===1)Ee.children=ye;else if(1<Oe){for(var Ye=Array(Oe),Le=0;Le<Oe;Le++)Ye[Le]=arguments[Le+2];Ee.children=Ye}return x(M.type,se,void 0,void 0,we,Ee)},nt.createContext=function(M){return M={$$typeof:l,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:s,_context:M},M},nt.createElement=function(M,X,ye){var Ee,se={},we=null;if(X!=null)for(Ee in X.key!==void 0&&(we=""+X.key),X)U.call(X,Ee)&&Ee!=="key"&&Ee!=="__self"&&Ee!=="__source"&&(se[Ee]=X[Ee]);var Oe=arguments.length-2;if(Oe===1)se.children=ye;else if(1<Oe){for(var Ye=Array(Oe),Le=0;Le<Oe;Le++)Ye[Le]=arguments[Le+2];se.children=Ye}if(M&&M.defaultProps)for(Ee in Oe=M.defaultProps,Oe)se[Ee]===void 0&&(se[Ee]=Oe[Ee]);return x(M,we,void 0,void 0,null,se)},nt.createRef=function(){return{current:null}},nt.forwardRef=function(M){return{$$typeof:d,render:M}},nt.isValidElement=W,nt.lazy=function(M){return{$$typeof:h,_payload:{_status:-1,_result:M},_init:K}},nt.memo=function(M,X){return{$$typeof:p,type:M,compare:X===void 0?null:X}},nt.startTransition=function(M){var X=V.T,ye={};V.T=ye;try{var Ee=M(),se=V.S;se!==null&&se(ye,Ee),typeof Ee=="object"&&Ee!==null&&typeof Ee.then=="function"&&Ee.then(re,J)}catch(we){J(we)}finally{V.T=X}},nt.unstable_useCacheRefresh=function(){return V.H.useCacheRefresh()},nt.use=function(M){return V.H.use(M)},nt.useActionState=function(M,X,ye){return V.H.useActionState(M,X,ye)},nt.useCallback=function(M,X){return V.H.useCallback(M,X)},nt.useContext=function(M){return V.H.useContext(M)},nt.useDebugValue=function(){},nt.useDeferredValue=function(M,X){return V.H.useDeferredValue(M,X)},nt.useEffect=function(M,X){return V.H.useEffect(M,X)},nt.useId=function(){return V.H.useId()},nt.useImperativeHandle=function(M,X,ye){return V.H.useImperativeHandle(M,X,ye)},nt.useInsertionEffect=function(M,X){return V.H.useInsertionEffect(M,X)},nt.useLayoutEffect=function(M,X){return V.H.useLayoutEffect(M,X)},nt.useMemo=function(M,X){return V.H.useMemo(M,X)},nt.useOptimistic=function(M,X){return V.H.useOptimistic(M,X)},nt.useReducer=function(M,X,ye){return V.H.useReducer(M,X,ye)},nt.useRef=function(M){return V.H.useRef(M)},nt.useState=function(M){return V.H.useState(M)},nt.useSyncExternalStore=function(M,X,ye){return V.H.useSyncExternalStore(M,X,ye)},nt.useTransition=function(){return V.H.useTransition()},nt.version="19.0.0",nt}var QT;function BE(){return QT||(QT=1,dS.exports=pB()),dS.exports}var cS={exports:{}},ur={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZT;function hB(){if(ZT)return ur;ZT=1;var e=BE();function t(f){var p="https://react.dev/errors/"+f;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)p+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(f,p,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:g==null?null:""+g,children:f,containerInfo:p,implementation:h}}var l=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,p){if(f==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ur.createPortal=function(f,p){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(t(299));return s(f,p,null,h)},ur.flushSync=function(f){var p=l.T,h=r.p;try{if(l.T=null,r.p=2,f)return f()}finally{l.T=p,r.p=h,r.d.f()}},ur.preconnect=function(f,p){typeof f=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(f,p))},ur.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},ur.preinit=function(f,p){if(typeof f=="string"&&p&&typeof p.as=="string"){var h=p.as,g=d(h,p.crossOrigin),v=typeof p.integrity=="string"?p.integrity:void 0,S=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;h==="style"?r.d.S(f,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:g,integrity:v,fetchPriority:S}):h==="script"&&r.d.X(f,{crossOrigin:g,integrity:v,fetchPriority:S,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},ur.preinitModule=function(f,p){if(typeof f=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var h=d(p.as,p.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(f)},ur.preload=function(f,p){if(typeof f=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var h=p.as,g=d(h,p.crossOrigin);r.d.L(f,h,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},ur.preloadModule=function(f,p){if(typeof f=="string")if(p){var h=d(p.as,p.crossOrigin);r.d.m(f,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:h,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(f)},ur.requestFormReset=function(f){r.d.r(f)},ur.unstable_batchedUpdates=function(f,p){return f(p)},ur.useFormState=function(f,p,h){return l.H.useFormState(f,p,h)},ur.useFormStatus=function(){return l.H.useHostTransitionStatus()},ur.version="19.0.0",ur}var JT;function dM(){if(JT)return cS.exports;JT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),cS.exports=hB(),cS.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YT;function mB(){if(YT)return Ac;YT=1;var e=fB(),t=BE(),n=dM();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var s=Symbol.for("react.element"),l=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),p=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),v=Symbol.for("react.consumer"),S=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),I=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var x=Symbol.for("react.client.reference");function $(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===x?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case f:return"Fragment";case d:return"Portal";case h:return"Profiler";case p:return"StrictMode";case _:return"Suspense";case E:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case S:return(i.displayName||"Context")+".Provider";case v:return(i._context.displayName||"Context")+".Consumer";case b:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case A:return o=i.displayName||null,o!==null?o:$(i.type)||"Memo";case w:o=i._payload,i=i._init;try{return $(i(o))}catch{}}return null}var W=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=Object.assign,L,T;function N(i){if(L===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);L=o&&o[1]||"",T=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+L+i+T}var F=!1;function P(i,o){if(!i||F)return"";F=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(o){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(le){var ne=le}Reflect.construct(i,[],be)}else{try{be.call()}catch(le){ne=le}i.call(be.prototype)}}else{try{throw Error()}catch(le){ne=le}(be=i())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(le){if(le&&ne&&typeof le.stack=="string")return[le.stack,ne.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=c.DetermineComponentFrameRoot(),C=y[0],R=y[1];if(C&&R){var H=C.split(`
`),Y=R.split(`
`);for(m=c=0;c<H.length&&!H[c].includes("DetermineComponentFrameRoot");)c++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(c===H.length||m===Y.length)for(c=H.length-1,m=Y.length-1;1<=c&&0<=m&&H[c]!==Y[m];)m--;for(;1<=c&&0<=m;c--,m--)if(H[c]!==Y[m]){if(c!==1||m!==1)do if(c--,m--,0>m||H[c]!==Y[m]){var he=`
`+H[c].replace(" at new "," at ");return i.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",i.displayName)),he}while(1<=c&&0<=m);break}}}finally{F=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?N(u):""}function D(i){switch(i.tag){case 26:case 27:case 5:return N(i.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 15:return i=P(i.type,!1),i;case 11:return i=P(i.type.render,!1),i;case 1:return i=P(i.type,!0),i;default:return""}}function K(i){try{var o="";do o+=D(i),i=i.return;while(i);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function J(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,o.flags&4098&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function re(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function M(i){if(J(i)!==i)throw Error(r(188))}function X(i){var o=i.alternate;if(!o){if(o=J(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,c=o;;){var m=u.return;if(m===null)break;var y=m.alternate;if(y===null){if(c=m.return,c!==null){u=c;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===u)return M(m),i;if(y===c)return M(m),o;y=y.sibling}throw Error(r(188))}if(u.return!==c.return)u=m,c=y;else{for(var C=!1,R=m.child;R;){if(R===u){C=!0,u=m,c=y;break}if(R===c){C=!0,c=m,u=y;break}R=R.sibling}if(!C){for(R=y.child;R;){if(R===u){C=!0,u=y,c=m;break}if(R===c){C=!0,c=y,u=m;break}R=R.sibling}if(!C)throw Error(r(189))}}if(u.alternate!==c)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function ye(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=ye(i),o!==null)return o;i=i.sibling}return null}var Ee=Array.isArray,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,we={pending:!1,data:null,method:null,action:null},Oe=[],Ye=-1;function Le(i){return{current:i}}function Q(i){0>Ye||(i.current=Oe[Ye],Oe[Ye]=null,Ye--)}function G(i,o){Ye++,Oe[Ye]=i.current,i.current=o}var j=Le(null),ie=Le(null),Se=Le(null),Ne=Le(null);function Pe(i,o){switch(G(Se,o),G(ie,i),G(j,null),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)&&(o=o.namespaceURI)?ST(o):0;break;default:if(i=i===8?o.parentNode:o,o=i.tagName,i=i.namespaceURI)i=ST(i),o=bT(i,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}Q(j),G(j,o)}function xe(){Q(j),Q(ie),Q(Se)}function ze(i){i.memoizedState!==null&&G(Ne,i);var o=j.current,u=bT(o,i.type);o!==u&&(G(ie,i),G(j,u))}function Ze(i){ie.current===i&&(Q(j),Q(ie)),Ne.current===i&&(Q(Ne),yc._currentValue=we)}var Ke=Object.prototype.hasOwnProperty,We=e.unstable_scheduleCallback,lt=e.unstable_cancelCallback,pt=e.unstable_shouldYield,dt=e.unstable_requestPaint,St=e.unstable_now,Tt=e.unstable_getCurrentPriorityLevel,Nt=e.unstable_ImmediatePriority,$n=e.unstable_UserBlockingPriority,In=e.unstable_NormalPriority,ga=e.unstable_LowPriority,ya=e.unstable_IdlePriority,np=e.log,ey=e.unstable_setDisableYieldValue,Od=null,Br=null;function qV(i){if(Br&&typeof Br.onCommitFiberRoot=="function")try{Br.onCommitFiberRoot(Od,i,void 0,(i.current.flags&128)===128)}catch{}}function va(i){if(typeof np=="function"&&ey(i),Br&&typeof Br.setStrictMode=="function")try{Br.setStrictMode(Od,i)}catch{}}var xr=Math.clz32?Math.clz32:WV,$V=Math.log,KV=Math.LN2;function WV(i){return i>>>=0,i===0?32:31-($V(i)/KV|0)|0}var rp=128,ip=4194304;function ys(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function op(i,o){var u=i.pendingLanes;if(u===0)return 0;var c=0,m=i.suspendedLanes,y=i.pingedLanes,C=i.warmLanes;i=i.finishedLanes!==0;var R=u&134217727;return R!==0?(u=R&~m,u!==0?c=ys(u):(y&=R,y!==0?c=ys(y):i||(C=R&~C,C!==0&&(c=ys(C))))):(R=u&~m,R!==0?c=ys(R):y!==0?c=ys(y):i||(C=u&~C,C!==0&&(c=ys(C)))),c===0?0:o!==0&&o!==c&&!(o&m)&&(m=c&-c,C=o&-o,m>=C||m===32&&(C&4194176)!==0)?o:c}function Td(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function QV(i,o){switch(i){case 1:case 2:case 4:case 8:return o+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cC(){var i=rp;return rp<<=1,!(rp&4194176)&&(rp=128),i}function fC(){var i=ip;return ip<<=1,!(ip&62914560)&&(ip=4194304),i}function ty(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function Rd(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function ZV(i,o,u,c,m,y){var C=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var R=i.entanglements,H=i.expirationTimes,Y=i.hiddenUpdates;for(u=C&~u;0<u;){var he=31-xr(u),be=1<<he;R[he]=0,H[he]=-1;var ne=Y[he];if(ne!==null)for(Y[he]=null,he=0;he<ne.length;he++){var le=ne[he];le!==null&&(le.lane&=-536870913)}u&=~be}c!==0&&pC(i,c,0),y!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=y&~(C&~o))}function pC(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var c=31-xr(o);i.entangledLanes|=o,i.entanglements[c]=i.entanglements[c]|1073741824|u&4194218}function hC(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var c=31-xr(u),m=1<<c;m&o|i[c]&o&&(i[c]|=o),u&=~m}}function mC(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function gC(){var i=se.p;return i!==0?i:(i=window.event,i===void 0?32:jT(i.type))}function JV(i,o){var u=se.p;try{return se.p=i,o()}finally{se.p=u}}var Sa=Math.random().toString(36).slice(2),ar="__reactFiber$"+Sa,Cr="__reactProps$"+Sa,Uu="__reactContainer$"+Sa,ny="__reactEvents$"+Sa,YV="__reactListeners$"+Sa,XV="__reactHandles$"+Sa,yC="__reactResources$"+Sa,Id="__reactMarker$"+Sa;function ry(i){delete i[ar],delete i[Cr],delete i[ny],delete i[YV],delete i[XV]}function vs(i){var o=i[ar];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Uu]||u[ar]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=AT(i);i!==null;){if(u=i[ar])return u;i=AT(i)}return o}i=u,u=i.parentNode}return null}function Vu(i){if(i=i[ar]||i[Uu]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function Dd(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function ju(i){var o=i[yC];return o||(o=i[yC]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Dn(i){i[Id]=!0}var vC=new Set,SC={};function Ss(i,o){Bu(i,o),Bu(i+"Capture",o)}function Bu(i,o){for(SC[i]=o,i=0;i<o.length;i++)vC.add(o[i])}var Ro=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),e2=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bC={},_C={};function t2(i){return Ke.call(_C,i)?!0:Ke.call(bC,i)?!1:e2.test(i)?_C[i]=!0:(bC[i]=!0,!1)}function ap(i,o,u){if(t2(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var c=o.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function sp(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function Io(i,o,u,c){if(c===null)i.removeAttribute(u);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+c)}}function oi(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function EC(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function n2(i){var o=EC(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),c=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(C){c=""+C,y.call(this,C)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function up(i){i._valueTracker||(i._valueTracker=n2(i))}function AC(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),c="";return i&&(c=EC(i)?i.checked?"true":"false":i.value),i=c,i!==u?(o.setValue(i),!0):!1}function lp(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var r2=/[\n"\\]/g;function ai(i){return i.replace(r2,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function iy(i,o,u,c,m,y,C,R){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),o!=null?C==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+oi(o)):i.value!==""+oi(o)&&(i.value=""+oi(o)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),o!=null?oy(i,C,oi(o)):u!=null?oy(i,C,oi(u)):c!=null&&i.removeAttribute("value"),m==null&&y!=null&&(i.defaultChecked=!!y),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?i.name=""+oi(R):i.removeAttribute("name")}function CC(i,o,u,c,m,y,C,R){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.type=y),o!=null||u!=null){if(!(y!=="submit"&&y!=="reset"||o!=null))return;u=u!=null?""+oi(u):"",o=o!=null?""+oi(o):u,R||o===i.value||(i.value=o),i.defaultValue=o}c=c??m,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=R?i.checked:!!c,i.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C)}function oy(i,o,u){o==="number"&&lp(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function xu(i,o,u,c){if(i=i.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<i.length;u++)m=o.hasOwnProperty("$"+i[u].value),i[u].selected!==m&&(i[u].selected=m),m&&c&&(i[u].defaultSelected=!0)}else{for(u=""+oi(u),o=null,m=0;m<i.length;m++){if(i[m].value===u){i[m].selected=!0,c&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function wC(i,o,u){if(o!=null&&(o=""+oi(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+oi(u):""}function OC(i,o,u,c){if(o==null){if(c!=null){if(u!=null)throw Error(r(92));if(Ee(c)){if(1<c.length)throw Error(r(93));c=c[0]}u=c}u==null&&(u=""),o=u}u=oi(o),i.defaultValue=u,c=i.textContent,c===u&&c!==""&&c!==null&&(i.value=c)}function Hu(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var i2=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function TC(i,o,u){var c=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?c?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":c?i.setProperty(o,u):typeof u!="number"||u===0||i2.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function RC(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var c in u)!u.hasOwnProperty(c)||o!=null&&o.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var m in o)c=o[m],o.hasOwnProperty(m)&&u[m]!==c&&TC(i,m,c)}else for(var y in o)o.hasOwnProperty(y)&&TC(i,y,o[y])}function ay(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var o2=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),a2=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function dp(i){return a2.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var sy=null;function uy(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var zu=null,Fu=null;function IC(i){var o=Vu(i);if(o&&(i=o.stateNode)){var u=i[Cr]||null;e:switch(i=o.stateNode,o.type){case"input":if(iy(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+ai(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var c=u[o];if(c!==i&&c.form===i.form){var m=c[Cr]||null;if(!m)throw Error(r(90));iy(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(o=0;o<u.length;o++)c=u[o],c.form===i.form&&AC(c)}break e;case"textarea":wC(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&xu(i,!!u.multiple,o,!1)}}}var ly=!1;function DC(i,o,u){if(ly)return i(o,u);ly=!0;try{var c=i(o);return c}finally{if(ly=!1,(zu!==null||Fu!==null)&&(Kp(),zu&&(o=zu,i=Fu,Fu=zu=null,IC(o),i)))for(o=0;o<i.length;o++)IC(i[o])}}function Md(i,o){var u=i.stateNode;if(u===null)return null;var c=u[Cr]||null;if(c===null)return null;u=c[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var dy=!1;if(Ro)try{var kd={};Object.defineProperty(kd,"passive",{get:function(){dy=!0}}),window.addEventListener("test",kd,kd),window.removeEventListener("test",kd,kd)}catch{dy=!1}var ba=null,cy=null,cp=null;function MC(){if(cp)return cp;var i,o=cy,u=o.length,c,m="value"in ba?ba.value:ba.textContent,y=m.length;for(i=0;i<u&&o[i]===m[i];i++);var C=u-i;for(c=1;c<=C&&o[u-c]===m[y-c];c++);return cp=m.slice(i,1<c?1-c:void 0)}function fp(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function pp(){return!0}function kC(){return!1}function wr(i){function o(u,c,m,y,C){this._reactName=u,this._targetInst=m,this.type=c,this.nativeEvent=y,this.target=C,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(u=i[R],this[R]=u?u(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?pp:kC,this.isPropagationStopped=kC,this}return z(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=pp)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=pp)},persist:function(){},isPersistent:pp}),o}var bs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hp=wr(bs),Nd=z({},bs,{view:0,detail:0}),s2=wr(Nd),fy,py,Ld,mp=z({},Nd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:my,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ld&&(Ld&&i.type==="mousemove"?(fy=i.screenX-Ld.screenX,py=i.screenY-Ld.screenY):py=fy=0,Ld=i),fy)},movementY:function(i){return"movementY"in i?i.movementY:py}}),NC=wr(mp),u2=z({},mp,{dataTransfer:0}),l2=wr(u2),d2=z({},Nd,{relatedTarget:0}),hy=wr(d2),c2=z({},bs,{animationName:0,elapsedTime:0,pseudoElement:0}),f2=wr(c2),p2=z({},bs,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),h2=wr(p2),m2=z({},bs,{data:0}),LC=wr(m2),g2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},y2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},v2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function S2(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=v2[i])?!!o[i]:!1}function my(){return S2}var b2=z({},Nd,{key:function(i){if(i.key){var o=g2[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=fp(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?y2[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:my,charCode:function(i){return i.type==="keypress"?fp(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?fp(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_2=wr(b2),E2=z({},mp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),PC=wr(E2),A2=z({},Nd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:my}),C2=wr(A2),w2=z({},bs,{propertyName:0,elapsedTime:0,pseudoElement:0}),O2=wr(w2),T2=z({},mp,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),R2=wr(T2),I2=z({},bs,{newState:0,oldState:0}),D2=wr(I2),M2=[9,13,27,32],gy=Ro&&"CompositionEvent"in window,Pd=null;Ro&&"documentMode"in document&&(Pd=document.documentMode);var k2=Ro&&"TextEvent"in window&&!Pd,UC=Ro&&(!gy||Pd&&8<Pd&&11>=Pd),VC=" ",jC=!1;function BC(i,o){switch(i){case"keyup":return M2.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xC(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Gu=!1;function N2(i,o){switch(i){case"compositionend":return xC(o);case"keypress":return o.which!==32?null:(jC=!0,VC);case"textInput":return i=o.data,i===VC&&jC?null:i;default:return null}}function L2(i,o){if(Gu)return i==="compositionend"||!gy&&BC(i,o)?(i=MC(),cp=cy=ba=null,Gu=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return UC&&o.locale!=="ko"?null:o.data;default:return null}}var P2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HC(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!P2[i.type]:o==="textarea"}function zC(i,o,u,c){zu?Fu?Fu.push(c):Fu=[c]:zu=c,o=Yp(o,"onChange"),0<o.length&&(u=new hp("onChange","change",null,u,c),i.push({event:u,listeners:o}))}var Ud=null,Vd=null;function U2(i){hT(i,0)}function gp(i){var o=Dd(i);if(AC(o))return i}function FC(i,o){if(i==="change")return o}var GC=!1;if(Ro){var yy;if(Ro){var vy="oninput"in document;if(!vy){var qC=document.createElement("div");qC.setAttribute("oninput","return;"),vy=typeof qC.oninput=="function"}yy=vy}else yy=!1;GC=yy&&(!document.documentMode||9<document.documentMode)}function $C(){Ud&&(Ud.detachEvent("onpropertychange",KC),Vd=Ud=null)}function KC(i){if(i.propertyName==="value"&&gp(Vd)){var o=[];zC(o,Vd,i,uy(i)),DC(U2,o)}}function V2(i,o,u){i==="focusin"?($C(),Ud=o,Vd=u,Ud.attachEvent("onpropertychange",KC)):i==="focusout"&&$C()}function j2(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return gp(Vd)}function B2(i,o){if(i==="click")return gp(o)}function x2(i,o){if(i==="input"||i==="change")return gp(o)}function H2(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Hr=typeof Object.is=="function"?Object.is:H2;function jd(i,o){if(Hr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),c=Object.keys(o);if(u.length!==c.length)return!1;for(c=0;c<u.length;c++){var m=u[c];if(!Ke.call(o,m)||!Hr(i[m],o[m]))return!1}return!0}function WC(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function QC(i,o){var u=WC(i);i=0;for(var c;u;){if(u.nodeType===3){if(c=i+u.textContent.length,i<=o&&c>=o)return{node:u,offset:o-i};i=c}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=WC(u)}}function ZC(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?ZC(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function JC(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=lp(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=lp(i.document)}return o}function Sy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function z2(i,o){var u=JC(o);o=i.focusedElem;var c=i.selectionRange;if(u!==o&&o&&o.ownerDocument&&ZC(o.ownerDocument.documentElement,o)){if(c!==null&&Sy(o)){if(i=c.start,u=c.end,u===void 0&&(u=i),"selectionStart"in o)o.selectionStart=i,o.selectionEnd=Math.min(u,o.value.length);else if(u=(i=o.ownerDocument||document)&&i.defaultView||window,u.getSelection){u=u.getSelection();var m=o.textContent.length,y=Math.min(c.start,m);c=c.end===void 0?y:Math.min(c.end,m),!u.extend&&y>c&&(m=c,c=y,y=m),m=QC(o,y);var C=QC(o,c);m&&C&&(u.rangeCount!==1||u.anchorNode!==m.node||u.anchorOffset!==m.offset||u.focusNode!==C.node||u.focusOffset!==C.offset)&&(i=i.createRange(),i.setStart(m.node,m.offset),u.removeAllRanges(),y>c?(u.addRange(i),u.extend(C.node,C.offset)):(i.setEnd(C.node,C.offset),u.addRange(i)))}}for(i=[],u=o;u=u.parentNode;)u.nodeType===1&&i.push({element:u,left:u.scrollLeft,top:u.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<i.length;o++)u=i[o],u.element.scrollLeft=u.left,u.element.scrollTop=u.top}}var F2=Ro&&"documentMode"in document&&11>=document.documentMode,qu=null,by=null,Bd=null,_y=!1;function YC(i,o,u){var c=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;_y||qu==null||qu!==lp(c)||(c=qu,"selectionStart"in c&&Sy(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Bd&&jd(Bd,c)||(Bd=c,c=Yp(by,"onSelect"),0<c.length&&(o=new hp("onSelect","select",null,o,u),i.push({event:o,listeners:c}),o.target=qu)))}function _s(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var $u={animationend:_s("Animation","AnimationEnd"),animationiteration:_s("Animation","AnimationIteration"),animationstart:_s("Animation","AnimationStart"),transitionrun:_s("Transition","TransitionRun"),transitionstart:_s("Transition","TransitionStart"),transitioncancel:_s("Transition","TransitionCancel"),transitionend:_s("Transition","TransitionEnd")},Ey={},XC={};Ro&&(XC=document.createElement("div").style,"AnimationEvent"in window||(delete $u.animationend.animation,delete $u.animationiteration.animation,delete $u.animationstart.animation),"TransitionEvent"in window||delete $u.transitionend.transition);function Es(i){if(Ey[i])return Ey[i];if(!$u[i])return i;var o=$u[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in XC)return Ey[i]=o[u];return i}var ew=Es("animationend"),tw=Es("animationiteration"),nw=Es("animationstart"),G2=Es("transitionrun"),q2=Es("transitionstart"),$2=Es("transitioncancel"),rw=Es("transitionend"),iw=new Map,ow="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ki(i,o){iw.set(i,o),Ss(o,[i])}var si=[],Ku=0,Ay=0;function yp(){for(var i=Ku,o=Ay=Ku=0;o<i;){var u=si[o];si[o++]=null;var c=si[o];si[o++]=null;var m=si[o];si[o++]=null;var y=si[o];if(si[o++]=null,c!==null&&m!==null){var C=c.pending;C===null?m.next=m:(m.next=C.next,C.next=m),c.pending=m}y!==0&&aw(u,m,y)}}function vp(i,o,u,c){si[Ku++]=i,si[Ku++]=o,si[Ku++]=u,si[Ku++]=c,Ay|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Cy(i,o,u,c){return vp(i,o,u,c),Sp(i)}function _a(i,o){return vp(i,null,null,o),Sp(i)}function aw(i,o,u){i.lanes|=u;var c=i.alternate;c!==null&&(c.lanes|=u);for(var m=!1,y=i.return;y!==null;)y.childLanes|=u,c=y.alternate,c!==null&&(c.childLanes|=u),y.tag===22&&(i=y.stateNode,i===null||i._visibility&1||(m=!0)),i=y,y=y.return;m&&o!==null&&i.tag===3&&(y=i.stateNode,m=31-xr(u),y=y.hiddenUpdates,i=y[m],i===null?y[m]=[o]:i.push(o),o.lane=u|536870912)}function Sp(i){if(50<dc)throw dc=0,Dv=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var Wu={},sw=new WeakMap;function ui(i,o){if(typeof i=="object"&&i!==null){var u=sw.get(i);return u!==void 0?u:(o={value:i,source:o,stack:K(o)},sw.set(i,o),o)}return{value:i,source:o,stack:K(o)}}var Qu=[],Zu=0,bp=null,_p=0,li=[],di=0,As=null,Do=1,Mo="";function Cs(i,o){Qu[Zu++]=_p,Qu[Zu++]=bp,bp=i,_p=o}function uw(i,o,u){li[di++]=Do,li[di++]=Mo,li[di++]=As,As=i;var c=Do;i=Mo;var m=32-xr(c)-1;c&=~(1<<m),u+=1;var y=32-xr(o)+m;if(30<y){var C=m-m%5;y=(c&(1<<C)-1).toString(32),c>>=C,m-=C,Do=1<<32-xr(o)+m|u<<m|c,Mo=y+i}else Do=1<<y|u<<m|c,Mo=i}function wy(i){i.return!==null&&(Cs(i,1),uw(i,1,0))}function Oy(i){for(;i===bp;)bp=Qu[--Zu],Qu[Zu]=null,_p=Qu[--Zu],Qu[Zu]=null;for(;i===As;)As=li[--di],li[di]=null,Mo=li[--di],li[di]=null,Do=li[--di],li[di]=null}var pr=null,Kn=null,_t=!1,Ni=null,Xi=!1,Ty=Error(r(519));function ws(i){var o=Error(r(418,""));throw zd(ui(o,i)),Ty}function lw(i){var o=i.stateNode,u=i.type,c=i.memoizedProps;switch(o[ar]=i,o[Cr]=c,u){case"dialog":ht("cancel",o),ht("close",o);break;case"iframe":case"object":case"embed":ht("load",o);break;case"video":case"audio":for(u=0;u<fc.length;u++)ht(fc[u],o);break;case"source":ht("error",o);break;case"img":case"image":case"link":ht("error",o),ht("load",o);break;case"details":ht("toggle",o);break;case"input":ht("invalid",o),CC(o,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),up(o);break;case"select":ht("invalid",o);break;case"textarea":ht("invalid",o),OC(o,c.value,c.defaultValue,c.children),up(o)}u=c.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||c.suppressHydrationWarning===!0||vT(o.textContent,u)?(c.popover!=null&&(ht("beforetoggle",o),ht("toggle",o)),c.onScroll!=null&&ht("scroll",o),c.onScrollEnd!=null&&ht("scrollend",o),c.onClick!=null&&(o.onclick=Xp),o=!0):o=!1,o||ws(i)}function dw(i){for(pr=i.return;pr;)switch(pr.tag){case 3:case 27:Xi=!0;return;case 5:case 13:Xi=!1;return;default:pr=pr.return}}function xd(i){if(i!==pr)return!1;if(!_t)return dw(i),_t=!0,!1;var o=!1,u;if((u=i.tag!==3&&i.tag!==27)&&((u=i.tag===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||Kv(i.type,i.memoizedProps)),u=!u),u&&(o=!0),o&&Kn&&ws(i),dw(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(o===0){Kn=Pi(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;i=i.nextSibling}Kn=null}}else Kn=pr?Pi(i.stateNode.nextSibling):null;return!0}function Hd(){Kn=pr=null,_t=!1}function zd(i){Ni===null?Ni=[i]:Ni.push(i)}var Fd=Error(r(460)),cw=Error(r(474)),Ry={then:function(){}};function fw(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ep(){}function pw(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(Ep,Ep),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,i===Fd?Error(r(483)):i;default:if(typeof o.status=="string")o.then(Ep,Ep);else{if(i=Ut,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(c){if(o.status==="pending"){var m=o;m.status="fulfilled",m.value=c}},function(c){if(o.status==="pending"){var m=o;m.status="rejected",m.reason=c}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,i===Fd?Error(r(483)):i}throw Gd=o,Fd}}var Gd=null;function hw(){if(Gd===null)throw Error(r(459));var i=Gd;return Gd=null,i}var Ju=null,qd=0;function Ap(i){var o=qd;return qd+=1,Ju===null&&(Ju=[]),pw(Ju,i,o)}function $d(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Cp(i,o){throw o.$$typeof===s?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function mw(i){var o=i._init;return o(i._payload)}function gw(i){function o(ee,Z){if(i){var te=ee.deletions;te===null?(ee.deletions=[Z],ee.flags|=16):te.push(Z)}}function u(ee,Z){if(!i)return null;for(;Z!==null;)o(ee,Z),Z=Z.sibling;return null}function c(ee){for(var Z=new Map;ee!==null;)ee.key!==null?Z.set(ee.key,ee):Z.set(ee.index,ee),ee=ee.sibling;return Z}function m(ee,Z){return ee=Na(ee,Z),ee.index=0,ee.sibling=null,ee}function y(ee,Z,te){return ee.index=te,i?(te=ee.alternate,te!==null?(te=te.index,te<Z?(ee.flags|=33554434,Z):te):(ee.flags|=33554434,Z)):(ee.flags|=1048576,Z)}function C(ee){return i&&ee.alternate===null&&(ee.flags|=33554434),ee}function R(ee,Z,te,ge){return Z===null||Z.tag!==6?(Z=Ev(te,ee.mode,ge),Z.return=ee,Z):(Z=m(Z,te),Z.return=ee,Z)}function H(ee,Z,te,ge){var Be=te.type;return Be===f?he(ee,Z,te.props.children,ge,te.key):Z!==null&&(Z.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===w&&mw(Be)===Z.type)?(Z=m(Z,te.props),$d(Z,te),Z.return=ee,Z):(Z=zp(te.type,te.key,te.props,null,ee.mode,ge),$d(Z,te),Z.return=ee,Z)}function Y(ee,Z,te,ge){return Z===null||Z.tag!==4||Z.stateNode.containerInfo!==te.containerInfo||Z.stateNode.implementation!==te.implementation?(Z=Av(te,ee.mode,ge),Z.return=ee,Z):(Z=m(Z,te.children||[]),Z.return=ee,Z)}function he(ee,Z,te,ge,Be){return Z===null||Z.tag!==7?(Z=Ps(te,ee.mode,ge,Be),Z.return=ee,Z):(Z=m(Z,te),Z.return=ee,Z)}function be(ee,Z,te){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Z=Ev(""+Z,ee.mode,te),Z.return=ee,Z;if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case l:return te=zp(Z.type,Z.key,Z.props,null,ee.mode,te),$d(te,Z),te.return=ee,te;case d:return Z=Av(Z,ee.mode,te),Z.return=ee,Z;case w:var ge=Z._init;return Z=ge(Z._payload),be(ee,Z,te)}if(Ee(Z)||U(Z))return Z=Ps(Z,ee.mode,te,null),Z.return=ee,Z;if(typeof Z.then=="function")return be(ee,Ap(Z),te);if(Z.$$typeof===S)return be(ee,Bp(ee,Z),te);Cp(ee,Z)}return null}function ne(ee,Z,te,ge){var Be=Z!==null?Z.key:null;if(typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint")return Be!==null?null:R(ee,Z,""+te,ge);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case l:return te.key===Be?H(ee,Z,te,ge):null;case d:return te.key===Be?Y(ee,Z,te,ge):null;case w:return Be=te._init,te=Be(te._payload),ne(ee,Z,te,ge)}if(Ee(te)||U(te))return Be!==null?null:he(ee,Z,te,ge,null);if(typeof te.then=="function")return ne(ee,Z,Ap(te),ge);if(te.$$typeof===S)return ne(ee,Z,Bp(ee,te),ge);Cp(ee,te)}return null}function le(ee,Z,te,ge,Be){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ee=ee.get(te)||null,R(Z,ee,""+ge,Be);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case l:return ee=ee.get(ge.key===null?te:ge.key)||null,H(Z,ee,ge,Be);case d:return ee=ee.get(ge.key===null?te:ge.key)||null,Y(Z,ee,ge,Be);case w:var st=ge._init;return ge=st(ge._payload),le(ee,Z,te,ge,Be)}if(Ee(ge)||U(ge))return ee=ee.get(te)||null,he(Z,ee,ge,Be,null);if(typeof ge.then=="function")return le(ee,Z,te,Ap(ge),Be);if(ge.$$typeof===S)return le(ee,Z,te,Bp(Z,ge),Be);Cp(Z,ge)}return null}function He(ee,Z,te,ge){for(var Be=null,st=null,Fe=Z,Xe=Z=0,Nn=null;Fe!==null&&Xe<te.length;Xe++){Fe.index>Xe?(Nn=Fe,Fe=null):Nn=Fe.sibling;var Et=ne(ee,Fe,te[Xe],ge);if(Et===null){Fe===null&&(Fe=Nn);break}i&&Fe&&Et.alternate===null&&o(ee,Fe),Z=y(Et,Z,Xe),st===null?Be=Et:st.sibling=Et,st=Et,Fe=Nn}if(Xe===te.length)return u(ee,Fe),_t&&Cs(ee,Xe),Be;if(Fe===null){for(;Xe<te.length;Xe++)Fe=be(ee,te[Xe],ge),Fe!==null&&(Z=y(Fe,Z,Xe),st===null?Be=Fe:st.sibling=Fe,st=Fe);return _t&&Cs(ee,Xe),Be}for(Fe=c(Fe);Xe<te.length;Xe++)Nn=le(Fe,ee,Xe,te[Xe],ge),Nn!==null&&(i&&Nn.alternate!==null&&Fe.delete(Nn.key===null?Xe:Nn.key),Z=y(Nn,Z,Xe),st===null?Be=Nn:st.sibling=Nn,st=Nn);return i&&Fe.forEach(function(xa){return o(ee,xa)}),_t&&Cs(ee,Xe),Be}function et(ee,Z,te,ge){if(te==null)throw Error(r(151));for(var Be=null,st=null,Fe=Z,Xe=Z=0,Nn=null,Et=te.next();Fe!==null&&!Et.done;Xe++,Et=te.next()){Fe.index>Xe?(Nn=Fe,Fe=null):Nn=Fe.sibling;var xa=ne(ee,Fe,Et.value,ge);if(xa===null){Fe===null&&(Fe=Nn);break}i&&Fe&&xa.alternate===null&&o(ee,Fe),Z=y(xa,Z,Xe),st===null?Be=xa:st.sibling=xa,st=xa,Fe=Nn}if(Et.done)return u(ee,Fe),_t&&Cs(ee,Xe),Be;if(Fe===null){for(;!Et.done;Xe++,Et=te.next())Et=be(ee,Et.value,ge),Et!==null&&(Z=y(Et,Z,Xe),st===null?Be=Et:st.sibling=Et,st=Et);return _t&&Cs(ee,Xe),Be}for(Fe=c(Fe);!Et.done;Xe++,Et=te.next())Et=le(Fe,ee,Xe,Et.value,ge),Et!==null&&(i&&Et.alternate!==null&&Fe.delete(Et.key===null?Xe:Et.key),Z=y(Et,Z,Xe),st===null?Be=Et:st.sibling=Et,st=Et);return i&&Fe.forEach(function(aB){return o(ee,aB)}),_t&&Cs(ee,Xe),Be}function rn(ee,Z,te,ge){if(typeof te=="object"&&te!==null&&te.type===f&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case l:e:{for(var Be=te.key;Z!==null;){if(Z.key===Be){if(Be=te.type,Be===f){if(Z.tag===7){u(ee,Z.sibling),ge=m(Z,te.props.children),ge.return=ee,ee=ge;break e}}else if(Z.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===w&&mw(Be)===Z.type){u(ee,Z.sibling),ge=m(Z,te.props),$d(ge,te),ge.return=ee,ee=ge;break e}u(ee,Z);break}else o(ee,Z);Z=Z.sibling}te.type===f?(ge=Ps(te.props.children,ee.mode,ge,te.key),ge.return=ee,ee=ge):(ge=zp(te.type,te.key,te.props,null,ee.mode,ge),$d(ge,te),ge.return=ee,ee=ge)}return C(ee);case d:e:{for(Be=te.key;Z!==null;){if(Z.key===Be)if(Z.tag===4&&Z.stateNode.containerInfo===te.containerInfo&&Z.stateNode.implementation===te.implementation){u(ee,Z.sibling),ge=m(Z,te.children||[]),ge.return=ee,ee=ge;break e}else{u(ee,Z);break}else o(ee,Z);Z=Z.sibling}ge=Av(te,ee.mode,ge),ge.return=ee,ee=ge}return C(ee);case w:return Be=te._init,te=Be(te._payload),rn(ee,Z,te,ge)}if(Ee(te))return He(ee,Z,te,ge);if(U(te)){if(Be=U(te),typeof Be!="function")throw Error(r(150));return te=Be.call(te),et(ee,Z,te,ge)}if(typeof te.then=="function")return rn(ee,Z,Ap(te),ge);if(te.$$typeof===S)return rn(ee,Z,Bp(ee,te),ge);Cp(ee,te)}return typeof te=="string"&&te!==""||typeof te=="number"||typeof te=="bigint"?(te=""+te,Z!==null&&Z.tag===6?(u(ee,Z.sibling),ge=m(Z,te),ge.return=ee,ee=ge):(u(ee,Z),ge=Ev(te,ee.mode,ge),ge.return=ee,ee=ge),C(ee)):u(ee,Z)}return function(ee,Z,te,ge){try{qd=0;var Be=rn(ee,Z,te,ge);return Ju=null,Be}catch(Fe){if(Fe===Fd)throw Fe;var st=hi(29,Fe,null,ee.mode);return st.lanes=ge,st.return=ee,st}finally{}}}var Os=gw(!0),yw=gw(!1),Yu=Le(null),wp=Le(0);function vw(i,o){i=zo,G(wp,i),G(Yu,o),zo=i|o.baseLanes}function Iy(){G(wp,zo),G(Yu,Yu.current)}function Dy(){zo=wp.current,Q(Yu),Q(wp)}var ci=Le(null),eo=null;function Ea(i){var o=i.alternate;G(_n,_n.current&1),G(ci,i),eo===null&&(o===null||Yu.current!==null||o.memoizedState!==null)&&(eo=i)}function Sw(i){if(i.tag===22){if(G(_n,_n.current),G(ci,i),eo===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(eo=i)}}else Aa()}function Aa(){G(_n,_n.current),G(ci,ci.current)}function ko(i){Q(ci),eo===i&&(eo=null),Q(_n)}var _n=Le(0);function Op(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if(o.flags&128)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var K2=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,c){i.push(c)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},W2=e.unstable_scheduleCallback,Q2=e.unstable_NormalPriority,En={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function My(){return{controller:new K2,data:new Map,refCount:0}}function Kd(i){i.refCount--,i.refCount===0&&W2(Q2,function(){i.controller.abort()})}var Wd=null,ky=0,Xu=0,el=null;function Z2(i,o){if(Wd===null){var u=Wd=[];ky=0,Xu=jv(),el={status:"pending",value:void 0,then:function(c){u.push(c)}}}return ky++,o.then(bw,bw),o}function bw(){if(--ky===0&&Wd!==null){el!==null&&(el.status="fulfilled");var i=Wd;Wd=null,Xu=0,el=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function J2(i,o){var u=[],c={status:"pending",value:null,reason:null,then:function(m){u.push(m)}};return i.then(function(){c.status="fulfilled",c.value=o;for(var m=0;m<u.length;m++)(0,u[m])(o)},function(m){for(c.status="rejected",c.reason=m,m=0;m<u.length;m++)(0,u[m])(void 0)}),c}var _w=W.S;W.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&Z2(i,o),_w!==null&&_w(i,o)};var Ts=Le(null);function Ny(){var i=Ts.current;return i!==null?i:Ut.pooledCache}function Tp(i,o){o===null?G(Ts,Ts.current):G(Ts,o.pool)}function Ew(){var i=Ny();return i===null?null:{parent:En._currentValue,pool:i}}var Ca=0,ot=null,Dt=null,dn=null,Rp=!1,tl=!1,Rs=!1,Ip=0,Qd=0,nl=null,Y2=0;function an(){throw Error(r(321))}function Ly(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Hr(i[u],o[u]))return!1;return!0}function Py(i,o,u,c,m,y){return Ca=y,ot=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,W.H=i===null||i.memoizedState===null?Is:wa,Rs=!1,y=u(c,m),Rs=!1,tl&&(y=Cw(o,u,c,m)),Aw(i),y}function Aw(i){W.H=to;var o=Dt!==null&&Dt.next!==null;if(Ca=0,dn=Dt=ot=null,Rp=!1,Qd=0,nl=null,o)throw Error(r(300));i===null||Mn||(i=i.dependencies,i!==null&&jp(i)&&(Mn=!0))}function Cw(i,o,u,c){ot=i;var m=0;do{if(tl&&(nl=null),Qd=0,tl=!1,25<=m)throw Error(r(301));if(m+=1,dn=Dt=null,i.updateQueue!=null){var y=i.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}W.H=Ds,y=o(u,c)}while(tl);return y}function X2(){var i=W.H,o=i.useState()[0];return o=typeof o.then=="function"?Zd(o):o,i=i.useState()[0],(Dt!==null?Dt.memoizedState:null)!==i&&(ot.flags|=1024),o}function Uy(){var i=Ip!==0;return Ip=0,i}function Vy(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function jy(i){if(Rp){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Rp=!1}Ca=0,dn=Dt=ot=null,tl=!1,Qd=Ip=0,nl=null}function Or(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dn===null?ot.memoizedState=dn=i:dn=dn.next=i,dn}function cn(){if(Dt===null){var i=ot.alternate;i=i!==null?i.memoizedState:null}else i=Dt.next;var o=dn===null?ot.memoizedState:dn.next;if(o!==null)dn=o,Dt=i;else{if(i===null)throw ot.alternate===null?Error(r(467)):Error(r(310));Dt=i,i={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},dn===null?ot.memoizedState=dn=i:dn=dn.next=i}return dn}var Dp;Dp=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Zd(i){var o=Qd;return Qd+=1,nl===null&&(nl=[]),i=pw(nl,i,o),o=ot,(dn===null?o.memoizedState:dn.next)===null&&(o=o.alternate,W.H=o===null||o.memoizedState===null?Is:wa),i}function Mp(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Zd(i);if(i.$$typeof===S)return sr(i)}throw Error(r(438,String(i)))}function By(i){var o=null,u=ot.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var c=ot.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(o={data:c.data.map(function(m){return m.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=Dp(),ot.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),c=0;c<i;c++)u[c]=I;return o.index++,u}function No(i,o){return typeof o=="function"?o(i):o}function kp(i){var o=cn();return xy(o,Dt,i)}function xy(i,o,u){var c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=u;var m=i.baseQueue,y=c.pending;if(y!==null){if(m!==null){var C=m.next;m.next=y.next,y.next=C}o.baseQueue=m=y,c.pending=null}if(y=i.baseState,m===null)i.memoizedState=y;else{o=m.next;var R=C=null,H=null,Y=o,he=!1;do{var be=Y.lane&-536870913;if(be!==Y.lane?(vt&be)===be:(Ca&be)===be){var ne=Y.revertLane;if(ne===0)H!==null&&(H=H.next={lane:0,revertLane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),be===Xu&&(he=!0);else if((Ca&ne)===ne){Y=Y.next,ne===Xu&&(he=!0);continue}else be={lane:0,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},H===null?(R=H=be,C=y):H=H.next=be,ot.lanes|=ne,La|=ne;be=Y.action,Rs&&u(y,be),y=Y.hasEagerState?Y.eagerState:u(y,be)}else ne={lane:be,revertLane:Y.revertLane,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},H===null?(R=H=ne,C=y):H=H.next=ne,ot.lanes|=be,La|=be;Y=Y.next}while(Y!==null&&Y!==o);if(H===null?C=y:H.next=R,!Hr(y,i.memoizedState)&&(Mn=!0,he&&(u=el,u!==null)))throw u;i.memoizedState=y,i.baseState=C,i.baseQueue=H,c.lastRenderedState=y}return m===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function Hy(i){var o=cn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var c=u.dispatch,m=u.pending,y=o.memoizedState;if(m!==null){u.pending=null;var C=m=m.next;do y=i(y,C.action),C=C.next;while(C!==m);Hr(y,o.memoizedState)||(Mn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,c]}function ww(i,o,u){var c=ot,m=cn(),y=_t;if(y){if(u===void 0)throw Error(r(407));u=u()}else u=o();var C=!Hr((Dt||m).memoizedState,u);if(C&&(m.memoizedState=u,Mn=!0),m=m.queue,Gy(Rw.bind(null,c,m,i),[i]),m.getSnapshot!==o||C||dn!==null&&dn.memoizedState.tag&1){if(c.flags|=2048,rl(9,Tw.bind(null,c,m,u,o),{destroy:void 0},null),Ut===null)throw Error(r(349));y||Ca&60||Ow(c,o,u)}return u}function Ow(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ot.updateQueue,o===null?(o=Dp(),ot.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function Tw(i,o,u,c){o.value=u,o.getSnapshot=c,Iw(o)&&Dw(i)}function Rw(i,o,u){return u(function(){Iw(o)&&Dw(i)})}function Iw(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Hr(i,u)}catch{return!0}}function Dw(i){var o=_a(i,2);o!==null&&hr(o,i,2)}function zy(i){var o=Or();if(typeof i=="function"){var u=i;if(i=u(),Rs){va(!0);try{u()}finally{va(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:i},o}function Mw(i,o,u,c){return i.baseState=u,xy(i,Dt,typeof c=="function"?c:No)}function ej(i,o,u,c,m){if(Pp(i))throw Error(r(485));if(i=o.action,i!==null){var y={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){y.listeners.push(C)}};W.T!==null?u(!0):y.isTransition=!1,c(y),u=o.pending,u===null?(y.next=o.pending=y,kw(o,y)):(y.next=u.next,o.pending=u.next=y)}}function kw(i,o){var u=o.action,c=o.payload,m=i.state;if(o.isTransition){var y=W.T,C={};W.T=C;try{var R=u(m,c),H=W.S;H!==null&&H(C,R),Nw(i,o,R)}catch(Y){Fy(i,o,Y)}finally{W.T=y}}else try{y=u(m,c),Nw(i,o,y)}catch(Y){Fy(i,o,Y)}}function Nw(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(c){Lw(i,o,c)},function(c){return Fy(i,o,c)}):Lw(i,o,u)}function Lw(i,o,u){o.status="fulfilled",o.value=u,Pw(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,kw(i,u)))}function Fy(i,o,u){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do o.status="rejected",o.reason=u,Pw(o),o=o.next;while(o!==c)}i.action=null}function Pw(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function Uw(i,o){return o}function Vw(i,o){if(_t){var u=Ut.formState;if(u!==null){e:{var c=ot;if(_t){if(Kn){t:{for(var m=Kn,y=Xi;m.nodeType!==8;){if(!y){m=null;break t}if(m=Pi(m.nextSibling),m===null){m=null;break t}}y=m.data,m=y==="F!"||y==="F"?m:null}if(m){Kn=Pi(m.nextSibling),c=m.data==="F!";break e}}ws(c)}c=!1}c&&(o=u[0])}}return u=Or(),u.memoizedState=u.baseState=o,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uw,lastRenderedState:o},u.queue=c,u=tO.bind(null,ot,c),c.dispatch=u,c=zy(!1),y=Qy.bind(null,ot,!1,c.queue),c=Or(),m={state:o,dispatch:null,action:i,pending:null},c.queue=m,u=ej.bind(null,ot,m,y,u),m.dispatch=u,c.memoizedState=i,[o,u,!1]}function jw(i){var o=cn();return Bw(o,Dt,i)}function Bw(i,o,u){o=xy(i,o,Uw)[0],i=kp(No)[0],o=typeof o=="object"&&o!==null&&typeof o.then=="function"?Zd(o):o;var c=cn(),m=c.queue,y=m.dispatch;return u!==c.memoizedState&&(ot.flags|=2048,rl(9,tj.bind(null,m,u),{destroy:void 0},null)),[o,y,i]}function tj(i,o){i.action=o}function xw(i){var o=cn(),u=Dt;if(u!==null)return Bw(o,u,i);cn(),o=o.memoizedState,u=cn();var c=u.queue.dispatch;return u.memoizedState=i,[o,c,!1]}function rl(i,o,u,c){return i={tag:i,create:o,inst:u,deps:c,next:null},o=ot.updateQueue,o===null&&(o=Dp(),ot.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(c=u.next,u.next=i,i.next=c,o.lastEffect=i),i}function Hw(){return cn().memoizedState}function Np(i,o,u,c){var m=Or();ot.flags|=i,m.memoizedState=rl(1|o,u,{destroy:void 0},c===void 0?null:c)}function Lp(i,o,u,c){var m=cn();c=c===void 0?null:c;var y=m.memoizedState.inst;Dt!==null&&c!==null&&Ly(c,Dt.memoizedState.deps)?m.memoizedState=rl(o,u,y,c):(ot.flags|=i,m.memoizedState=rl(1|o,u,y,c))}function zw(i,o){Np(8390656,8,i,o)}function Gy(i,o){Lp(2048,8,i,o)}function Fw(i,o){return Lp(4,2,i,o)}function Gw(i,o){return Lp(4,4,i,o)}function qw(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function $w(i,o,u){u=u!=null?u.concat([i]):null,Lp(4,4,qw.bind(null,o,i),u)}function qy(){}function Kw(i,o){var u=cn();o=o===void 0?null:o;var c=u.memoizedState;return o!==null&&Ly(o,c[1])?c[0]:(u.memoizedState=[i,o],i)}function Ww(i,o){var u=cn();o=o===void 0?null:o;var c=u.memoizedState;if(o!==null&&Ly(o,c[1]))return c[0];if(c=i(),Rs){va(!0);try{i()}finally{va(!1)}}return u.memoizedState=[c,o],c}function $y(i,o,u){return u===void 0||Ca&1073741824?i.memoizedState=o:(i.memoizedState=u,i=ZO(),ot.lanes|=i,La|=i,u)}function Qw(i,o,u,c){return Hr(u,o)?u:Yu.current!==null?(i=$y(i,u,c),Hr(i,o)||(Mn=!0),i):Ca&42?(i=ZO(),ot.lanes|=i,La|=i,o):(Mn=!0,i.memoizedState=u)}function Zw(i,o,u,c,m){var y=se.p;se.p=y!==0&&8>y?y:8;var C=W.T,R={};W.T=R,Qy(i,!1,o,u);try{var H=m(),Y=W.S;if(Y!==null&&Y(R,H),H!==null&&typeof H=="object"&&typeof H.then=="function"){var he=J2(H,c);Jd(i,o,he,qr(i))}else Jd(i,o,c,qr(i))}catch(be){Jd(i,o,{then:function(){},status:"rejected",reason:be},qr())}finally{se.p=y,W.T=C}}function nj(){}function Ky(i,o,u,c){if(i.tag!==5)throw Error(r(476));var m=Jw(i).queue;Zw(i,m,o,we,u===null?nj:function(){return Yw(i),u(c)})}function Jw(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:we,baseState:we,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:we},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:No,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function Yw(i){var o=Jw(i).next.queue;Jd(i,o,{},qr())}function Wy(){return sr(yc)}function Xw(){return cn().memoizedState}function eO(){return cn().memoizedState}function rj(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=qr();i=Ra(u);var c=Ia(o,i,u);c!==null&&(hr(c,o,u),ec(c,o,u)),o={cache:My()},i.payload=o;return}o=o.return}}function ij(i,o,u){var c=qr();u={lane:c,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Pp(i)?nO(o,u):(u=Cy(i,o,u,c),u!==null&&(hr(u,i,c),rO(u,o,c)))}function tO(i,o,u){var c=qr();Jd(i,o,u,c)}function Jd(i,o,u,c){var m={lane:c,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Pp(i))nO(o,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var C=o.lastRenderedState,R=y(C,u);if(m.hasEagerState=!0,m.eagerState=R,Hr(R,C))return vp(i,o,m,0),Ut===null&&yp(),!1}catch{}finally{}if(u=Cy(i,o,m,c),u!==null)return hr(u,i,c),rO(u,o,c),!0}return!1}function Qy(i,o,u,c){if(c={lane:2,revertLane:jv(),action:c,hasEagerState:!1,eagerState:null,next:null},Pp(i)){if(o)throw Error(r(479))}else o=Cy(i,u,c,2),o!==null&&hr(o,i,2)}function Pp(i){var o=i.alternate;return i===ot||o!==null&&o===ot}function nO(i,o){tl=Rp=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function rO(i,o,u){if(u&4194176){var c=o.lanes;c&=i.pendingLanes,u|=c,o.lanes=u,hC(i,u)}}var to={readContext:sr,use:Mp,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useLayoutEffect:an,useInsertionEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useSyncExternalStore:an,useId:an};to.useCacheRefresh=an,to.useMemoCache=an,to.useHostTransitionStatus=an,to.useFormState=an,to.useActionState=an,to.useOptimistic=an;var Is={readContext:sr,use:Mp,useCallback:function(i,o){return Or().memoizedState=[i,o===void 0?null:o],i},useContext:sr,useEffect:zw,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Np(4194308,4,qw.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Np(4194308,4,i,o)},useInsertionEffect:function(i,o){Np(4,2,i,o)},useMemo:function(i,o){var u=Or();o=o===void 0?null:o;var c=i();if(Rs){va(!0);try{i()}finally{va(!1)}}return u.memoizedState=[c,o],c},useReducer:function(i,o,u){var c=Or();if(u!==void 0){var m=u(o);if(Rs){va(!0);try{u(o)}finally{va(!1)}}}else m=o;return c.memoizedState=c.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},c.queue=i,i=i.dispatch=ij.bind(null,ot,i),[c.memoizedState,i]},useRef:function(i){var o=Or();return i={current:i},o.memoizedState=i},useState:function(i){i=zy(i);var o=i.queue,u=tO.bind(null,ot,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:qy,useDeferredValue:function(i,o){var u=Or();return $y(u,i,o)},useTransition:function(){var i=zy(!1);return i=Zw.bind(null,ot,i.queue,!0,!1),Or().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var c=ot,m=Or();if(_t){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Ut===null)throw Error(r(349));vt&60||Ow(c,o,u)}m.memoizedState=u;var y={value:u,getSnapshot:o};return m.queue=y,zw(Rw.bind(null,c,y,i),[i]),c.flags|=2048,rl(9,Tw.bind(null,c,y,u,o),{destroy:void 0},null),u},useId:function(){var i=Or(),o=Ut.identifierPrefix;if(_t){var u=Mo,c=Do;u=(c&~(1<<32-xr(c)-1)).toString(32)+u,o=":"+o+"R"+u,u=Ip++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=Y2++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},useCacheRefresh:function(){return Or().memoizedState=rj.bind(null,ot)}};Is.useMemoCache=By,Is.useHostTransitionStatus=Wy,Is.useFormState=Vw,Is.useActionState=Vw,Is.useOptimistic=function(i){var o=Or();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=Qy.bind(null,ot,!0,u),u.dispatch=o,[i,o]};var wa={readContext:sr,use:Mp,useCallback:Kw,useContext:sr,useEffect:Gy,useImperativeHandle:$w,useInsertionEffect:Fw,useLayoutEffect:Gw,useMemo:Ww,useReducer:kp,useRef:Hw,useState:function(){return kp(No)},useDebugValue:qy,useDeferredValue:function(i,o){var u=cn();return Qw(u,Dt.memoizedState,i,o)},useTransition:function(){var i=kp(No)[0],o=cn().memoizedState;return[typeof i=="boolean"?i:Zd(i),o]},useSyncExternalStore:ww,useId:Xw};wa.useCacheRefresh=eO,wa.useMemoCache=By,wa.useHostTransitionStatus=Wy,wa.useFormState=jw,wa.useActionState=jw,wa.useOptimistic=function(i,o){var u=cn();return Mw(u,Dt,i,o)};var Ds={readContext:sr,use:Mp,useCallback:Kw,useContext:sr,useEffect:Gy,useImperativeHandle:$w,useInsertionEffect:Fw,useLayoutEffect:Gw,useMemo:Ww,useReducer:Hy,useRef:Hw,useState:function(){return Hy(No)},useDebugValue:qy,useDeferredValue:function(i,o){var u=cn();return Dt===null?$y(u,i,o):Qw(u,Dt.memoizedState,i,o)},useTransition:function(){var i=Hy(No)[0],o=cn().memoizedState;return[typeof i=="boolean"?i:Zd(i),o]},useSyncExternalStore:ww,useId:Xw};Ds.useCacheRefresh=eO,Ds.useMemoCache=By,Ds.useHostTransitionStatus=Wy,Ds.useFormState=xw,Ds.useActionState=xw,Ds.useOptimistic=function(i,o){var u=cn();return Dt!==null?Mw(u,Dt,i,o):(u.baseState=i,[i,u.queue.dispatch])};function Zy(i,o,u,c){o=i.memoizedState,u=u(c,o),u=u==null?o:z({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Jy={isMounted:function(i){return(i=i._reactInternals)?J(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var c=qr(),m=Ra(c);m.payload=o,u!=null&&(m.callback=u),o=Ia(i,m,c),o!==null&&(hr(o,i,c),ec(o,i,c))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var c=qr(),m=Ra(c);m.tag=1,m.payload=o,u!=null&&(m.callback=u),o=Ia(i,m,c),o!==null&&(hr(o,i,c),ec(o,i,c))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=qr(),c=Ra(u);c.tag=2,o!=null&&(c.callback=o),o=Ia(i,c,u),o!==null&&(hr(o,i,u),ec(o,i,u))}};function iO(i,o,u,c,m,y,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,y,C):o.prototype&&o.prototype.isPureReactComponent?!jd(u,c)||!jd(m,y):!0}function oO(i,o,u,c){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,c),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,c),o.state!==i&&Jy.enqueueReplaceState(o,o.state,null)}function Ms(i,o){var u=o;if("ref"in o){u={};for(var c in o)c!=="ref"&&(u[c]=o[c])}if(i=i.defaultProps){u===o&&(u=z({},u));for(var m in i)u[m]===void 0&&(u[m]=i[m])}return u}var Up=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function aO(i){Up(i)}function sO(i){console.error(i)}function uO(i){Up(i)}function Vp(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(c){setTimeout(function(){throw c})}}function lO(i,o,u){try{var c=i.onCaughtError;c(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Yy(i,o,u){return u=Ra(u),u.tag=3,u.payload={element:null},u.callback=function(){Vp(i,o)},u}function dO(i){return i=Ra(i),i.tag=3,i}function cO(i,o,u,c){var m=u.type.getDerivedStateFromError;if(typeof m=="function"){var y=c.value;i.payload=function(){return m(y)},i.callback=function(){lO(o,u,c)}}var C=u.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){lO(o,u,c),typeof m!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var R=c.stack;this.componentDidCatch(c.value,{componentStack:R!==null?R:""})})}function oj(i,o,u,c,m){if(u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(o=u.alternate,o!==null&&Xd(o,u,m,!0),u=ci.current,u!==null){switch(u.tag){case 13:return eo===null?Nv():u.alternate===null&&nn===0&&(nn=3),u.flags&=-257,u.flags|=65536,u.lanes=m,c===Ry?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([c]):o.add(c),Pv(i,c,m)),!1;case 22:return u.flags|=65536,c===Ry?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([c])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([c]):u.add(c)),Pv(i,c,m)),!1}throw Error(r(435,u.tag))}return Pv(i,c,m),Nv(),!1}if(_t)return o=ci.current,o!==null?(!(o.flags&65536)&&(o.flags|=256),o.flags|=65536,o.lanes=m,c!==Ty&&(i=Error(r(422),{cause:c}),zd(ui(i,u)))):(c!==Ty&&(o=Error(r(423),{cause:c}),zd(ui(o,u))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,c=ui(c,u),m=Yy(i.stateNode,c,m),pv(i,m),nn!==4&&(nn=2)),!1;var y=Error(r(520),{cause:c});if(y=ui(y,u),uc===null?uc=[y]:uc.push(y),nn!==4&&(nn=2),o===null)return!0;c=ui(c,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=m&-m,u.lanes|=i,i=Yy(u.stateNode,c,i),pv(u,i),!1;case 1:if(o=u.type,y=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Pa===null||!Pa.has(y))))return u.flags|=65536,m&=-m,u.lanes|=m,m=dO(m),cO(m,i,u,c),pv(u,m),!1}u=u.return}while(u!==null);return!1}var fO=Error(r(461)),Mn=!1;function Wn(i,o,u,c){o.child=i===null?yw(o,null,u,c):Os(o,i.child,u,c)}function pO(i,o,u,c,m){u=u.render;var y=o.ref;if("ref"in c){var C={};for(var R in c)R!=="ref"&&(C[R]=c[R])}else C=c;return Ns(o),c=Py(i,o,u,C,y,m),R=Uy(),i!==null&&!Mn?(Vy(i,o,m),Lo(i,o,m)):(_t&&R&&wy(o),o.flags|=1,Wn(i,o,c,m),o.child)}function hO(i,o,u,c,m){if(i===null){var y=u.type;return typeof y=="function"&&!_v(y)&&y.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=y,mO(i,o,y,c,m)):(i=zp(u.type,null,c,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,!sv(i,m)){var C=y.memoizedProps;if(u=u.compare,u=u!==null?u:jd,u(C,c)&&i.ref===o.ref)return Lo(i,o,m)}return o.flags|=1,i=Na(y,c),i.ref=o.ref,i.return=o,o.child=i}function mO(i,o,u,c,m){if(i!==null){var y=i.memoizedProps;if(jd(y,c)&&i.ref===o.ref)if(Mn=!1,o.pendingProps=c=y,sv(i,m))i.flags&131072&&(Mn=!0);else return o.lanes=i.lanes,Lo(i,o,m)}return Xy(i,o,u,c,m)}function gO(i,o,u){var c=o.pendingProps,m=c.children,y=(o.stateNode._pendingVisibility&2)!==0,C=i!==null?i.memoizedState:null;if(Yd(i,o),c.mode==="hidden"||y){if(o.flags&128){if(c=C!==null?C.baseLanes|u:u,i!==null){for(m=o.child=i.child,y=0;m!==null;)y=y|m.lanes|m.childLanes,m=m.sibling;o.childLanes=y&~c}else o.childLanes=0,o.child=null;return yO(i,o,c,u)}if(u&536870912)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Tp(o,C!==null?C.cachePool:null),C!==null?vw(o,C):Iy(),Sw(o);else return o.lanes=o.childLanes=536870912,yO(i,o,C!==null?C.baseLanes|u:u,u)}else C!==null?(Tp(o,C.cachePool),vw(o,C),Aa(),o.memoizedState=null):(i!==null&&Tp(o,null),Iy(),Aa());return Wn(i,o,m,u),o.child}function yO(i,o,u,c){var m=Ny();return m=m===null?null:{parent:En._currentValue,pool:m},o.memoizedState={baseLanes:u,cachePool:m},i!==null&&Tp(o,null),Iy(),Sw(o),i!==null&&Xd(i,o,c,!0),null}function Yd(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=2097664);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=2097664)}}function Xy(i,o,u,c,m){return Ns(o),u=Py(i,o,u,c,void 0,m),c=Uy(),i!==null&&!Mn?(Vy(i,o,m),Lo(i,o,m)):(_t&&c&&wy(o),o.flags|=1,Wn(i,o,u,m),o.child)}function vO(i,o,u,c,m,y){return Ns(o),o.updateQueue=null,u=Cw(o,c,u,m),Aw(i),c=Uy(),i!==null&&!Mn?(Vy(i,o,y),Lo(i,o,y)):(_t&&c&&wy(o),o.flags|=1,Wn(i,o,u,y),o.child)}function SO(i,o,u,c,m){if(Ns(o),o.stateNode===null){var y=Wu,C=u.contextType;typeof C=="object"&&C!==null&&(y=sr(C)),y=new u(c,y),o.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=Jy,o.stateNode=y,y._reactInternals=o,y=o.stateNode,y.props=c,y.state=o.memoizedState,y.refs={},cv(o),C=u.contextType,y.context=typeof C=="object"&&C!==null?sr(C):Wu,y.state=o.memoizedState,C=u.getDerivedStateFromProps,typeof C=="function"&&(Zy(o,u,C,c),y.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(C=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),C!==y.state&&Jy.enqueueReplaceState(y,y.state,null),nc(o,c,y,m),tc(),y.state=o.memoizedState),typeof y.componentDidMount=="function"&&(o.flags|=4194308),c=!0}else if(i===null){y=o.stateNode;var R=o.memoizedProps,H=Ms(u,R);y.props=H;var Y=y.context,he=u.contextType;C=Wu,typeof he=="object"&&he!==null&&(C=sr(he));var be=u.getDerivedStateFromProps;he=typeof be=="function"||typeof y.getSnapshotBeforeUpdate=="function",R=o.pendingProps!==R,he||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(R||Y!==C)&&oO(o,y,c,C),Ta=!1;var ne=o.memoizedState;y.state=ne,nc(o,c,y,m),tc(),Y=o.memoizedState,R||ne!==Y||Ta?(typeof be=="function"&&(Zy(o,u,be,c),Y=o.memoizedState),(H=Ta||iO(o,u,H,c,ne,Y,C))?(he||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(o.flags|=4194308)):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=c,o.memoizedState=Y),y.props=c,y.state=Y,y.context=C,c=H):(typeof y.componentDidMount=="function"&&(o.flags|=4194308),c=!1)}else{y=o.stateNode,fv(i,o),C=o.memoizedProps,he=Ms(u,C),y.props=he,be=o.pendingProps,ne=y.context,Y=u.contextType,H=Wu,typeof Y=="object"&&Y!==null&&(H=sr(Y)),R=u.getDerivedStateFromProps,(Y=typeof R=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==be||ne!==H)&&oO(o,y,c,H),Ta=!1,ne=o.memoizedState,y.state=ne,nc(o,c,y,m),tc();var le=o.memoizedState;C!==be||ne!==le||Ta||i!==null&&i.dependencies!==null&&jp(i.dependencies)?(typeof R=="function"&&(Zy(o,u,R,c),le=o.memoizedState),(he=Ta||iO(o,u,he,c,ne,le,H)||i!==null&&i.dependencies!==null&&jp(i.dependencies))?(Y||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(c,le,H),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(c,le,H)),typeof y.componentDidUpdate=="function"&&(o.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),o.memoizedProps=c,o.memoizedState=le),y.props=c,y.state=le,y.context=H,c=he):(typeof y.componentDidUpdate!="function"||C===i.memoizedProps&&ne===i.memoizedState||(o.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&ne===i.memoizedState||(o.flags|=1024),c=!1)}return y=c,Yd(i,o),c=(o.flags&128)!==0,y||c?(y=o.stateNode,u=c&&typeof u.getDerivedStateFromError!="function"?null:y.render(),o.flags|=1,i!==null&&c?(o.child=Os(o,i.child,null,m),o.child=Os(o,null,u,m)):Wn(i,o,u,m),o.memoizedState=y.state,i=o.child):i=Lo(i,o,m),i}function bO(i,o,u,c){return Hd(),o.flags|=256,Wn(i,o,u,c),o.child}var ev={dehydrated:null,treeContext:null,retryLane:0};function tv(i){return{baseLanes:i,cachePool:Ew()}}function nv(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=mi),i}function _O(i,o,u){var c=o.pendingProps,m=!1,y=(o.flags&128)!==0,C;if((C=y)||(C=i!==null&&i.memoizedState===null?!1:(_n.current&2)!==0),C&&(m=!0,o.flags&=-129),C=(o.flags&32)!==0,o.flags&=-33,i===null){if(_t){if(m?Ea(o):Aa(),_t){var R=Kn,H;if(H=R){e:{for(H=R,R=Xi;H.nodeType!==8;){if(!R){R=null;break e}if(H=Pi(H.nextSibling),H===null){R=null;break e}}R=H}R!==null?(o.memoizedState={dehydrated:R,treeContext:As!==null?{id:Do,overflow:Mo}:null,retryLane:536870912},H=hi(18,null,null,0),H.stateNode=R,H.return=o,o.child=H,pr=o,Kn=null,H=!0):H=!1}H||ws(o)}if(R=o.memoizedState,R!==null&&(R=R.dehydrated,R!==null))return R.data==="$!"?o.lanes=16:o.lanes=536870912,null;ko(o)}return R=c.children,c=c.fallback,m?(Aa(),m=o.mode,R=iv({mode:"hidden",children:R},m),c=Ps(c,m,u,null),R.return=o,c.return=o,R.sibling=c,o.child=R,m=o.child,m.memoizedState=tv(u),m.childLanes=nv(i,C,u),o.memoizedState=ev,c):(Ea(o),rv(o,R))}if(H=i.memoizedState,H!==null&&(R=H.dehydrated,R!==null)){if(y)o.flags&256?(Ea(o),o.flags&=-257,o=ov(i,o,u)):o.memoizedState!==null?(Aa(),o.child=i.child,o.flags|=128,o=null):(Aa(),m=c.fallback,R=o.mode,c=iv({mode:"visible",children:c.children},R),m=Ps(m,R,u,null),m.flags|=2,c.return=o,m.return=o,c.sibling=m,o.child=c,Os(o,i.child,null,u),c=o.child,c.memoizedState=tv(u),c.childLanes=nv(i,C,u),o.memoizedState=ev,o=m);else if(Ea(o),R.data==="$!"){if(C=R.nextSibling&&R.nextSibling.dataset,C)var Y=C.dgst;C=Y,c=Error(r(419)),c.stack="",c.digest=C,zd({value:c,source:null,stack:null}),o=ov(i,o,u)}else if(Mn||Xd(i,o,u,!1),C=(u&i.childLanes)!==0,Mn||C){if(C=Ut,C!==null){if(c=u&-u,c&42)c=1;else switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=64;break;case 268435456:c=134217728;break;default:c=0}if(c=c&(C.suspendedLanes|u)?0:c,c!==0&&c!==H.retryLane)throw H.retryLane=c,_a(i,c),hr(C,i,c),fO}R.data==="$?"||Nv(),o=ov(i,o,u)}else R.data==="$?"?(o.flags|=128,o.child=i.child,o=bj.bind(null,i),R._reactRetry=o,o=null):(i=H.treeContext,Kn=Pi(R.nextSibling),pr=o,_t=!0,Ni=null,Xi=!1,i!==null&&(li[di++]=Do,li[di++]=Mo,li[di++]=As,Do=i.id,Mo=i.overflow,As=o),o=rv(o,c.children),o.flags|=4096);return o}return m?(Aa(),m=c.fallback,R=o.mode,H=i.child,Y=H.sibling,c=Na(H,{mode:"hidden",children:c.children}),c.subtreeFlags=H.subtreeFlags&31457280,Y!==null?m=Na(Y,m):(m=Ps(m,R,u,null),m.flags|=2),m.return=o,c.return=o,c.sibling=m,o.child=c,c=m,m=o.child,R=i.child.memoizedState,R===null?R=tv(u):(H=R.cachePool,H!==null?(Y=En._currentValue,H=H.parent!==Y?{parent:Y,pool:Y}:H):H=Ew(),R={baseLanes:R.baseLanes|u,cachePool:H}),m.memoizedState=R,m.childLanes=nv(i,C,u),o.memoizedState=ev,c):(Ea(o),u=i.child,i=u.sibling,u=Na(u,{mode:"visible",children:c.children}),u.return=o,u.sibling=null,i!==null&&(C=o.deletions,C===null?(o.deletions=[i],o.flags|=16):C.push(i)),o.child=u,o.memoizedState=null,u)}function rv(i,o){return o=iv({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function iv(i,o){return KO(i,o,0,null)}function ov(i,o,u){return Os(o,i.child,null,u),i=rv(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function EO(i,o,u){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o),lv(i.return,o,u)}function av(i,o,u,c,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:c,tail:u,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=c,y.tail=u,y.tailMode=m)}function AO(i,o,u){var c=o.pendingProps,m=c.revealOrder,y=c.tail;if(Wn(i,o,c.children,u),c=_n.current,c&2)c=c&1|2,o.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&EO(i,u,o);else if(i.tag===19)EO(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(G(_n,c),m){case"forwards":for(u=o.child,m=null;u!==null;)i=u.alternate,i!==null&&Op(i)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),av(o,!1,m,u,y);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&Op(i)===null){o.child=m;break}i=m.sibling,m.sibling=u,u=m,m=i}av(o,!0,u,null,y);break;case"together":av(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Lo(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),La|=o.lanes,!(u&o.childLanes))if(i!==null){if(Xd(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=Na(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Na(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function sv(i,o){return i.lanes&o?!0:(i=i.dependencies,!!(i!==null&&jp(i)))}function aj(i,o,u){switch(o.tag){case 3:Pe(o,o.stateNode.containerInfo),Oa(o,En,i.memoizedState.cache),Hd();break;case 27:case 5:ze(o);break;case 4:Pe(o,o.stateNode.containerInfo);break;case 10:Oa(o,o.type,o.memoizedProps.value);break;case 13:var c=o.memoizedState;if(c!==null)return c.dehydrated!==null?(Ea(o),o.flags|=128,null):u&o.child.childLanes?_O(i,o,u):(Ea(o),i=Lo(i,o,u),i!==null?i.sibling:null);Ea(o);break;case 19:var m=(i.flags&128)!==0;if(c=(u&o.childLanes)!==0,c||(Xd(i,o,u,!1),c=(u&o.childLanes)!==0),m){if(c)return AO(i,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),G(_n,_n.current),c)break;return null;case 22:case 23:return o.lanes=0,gO(i,o,u);case 24:Oa(o,En,i.memoizedState.cache)}return Lo(i,o,u)}function CO(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Mn=!0;else{if(!sv(i,u)&&!(o.flags&128))return Mn=!1,aj(i,o,u);Mn=!!(i.flags&131072)}else Mn=!1,_t&&o.flags&1048576&&uw(o,_p,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var c=o.elementType,m=c._init;if(c=m(c._payload),o.type=c,typeof c=="function")_v(c)?(i=Ms(c,i),o.tag=1,o=SO(null,o,c,i,u)):(o.tag=0,o=Xy(null,o,c,i,u));else{if(c!=null){if(m=c.$$typeof,m===b){o.tag=11,o=pO(null,o,c,i,u);break e}else if(m===A){o.tag=14,o=hO(null,o,c,i,u);break e}}throw o=$(c)||c,Error(r(306,o,""))}}return o;case 0:return Xy(i,o,o.type,o.pendingProps,u);case 1:return c=o.type,m=Ms(c,o.pendingProps),SO(i,o,c,m,u);case 3:e:{if(Pe(o,o.stateNode.containerInfo),i===null)throw Error(r(387));var y=o.pendingProps;m=o.memoizedState,c=m.element,fv(i,o),nc(o,y,null,u);var C=o.memoizedState;if(y=C.cache,Oa(o,En,y),y!==m.cache&&dv(o,[En],u,!0),tc(),y=C.element,m.isDehydrated)if(m={element:y,isDehydrated:!1,cache:C.cache},o.updateQueue.baseState=m,o.memoizedState=m,o.flags&256){o=bO(i,o,y,u);break e}else if(y!==c){c=ui(Error(r(424)),o),zd(c),o=bO(i,o,y,u);break e}else for(Kn=Pi(o.stateNode.containerInfo.firstChild),pr=o,_t=!0,Ni=null,Xi=!0,u=yw(o,null,y,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Hd(),y===c){o=Lo(i,o,u);break e}Wn(i,o,y,u)}o=o.child}return o;case 26:return Yd(i,o),i===null?(u=TT(o.type,null,o.pendingProps,null))?o.memoizedState=u:_t||(u=o.type,i=o.pendingProps,c=eh(Se.current).createElement(u),c[ar]=o,c[Cr]=i,Qn(c,u,i),Dn(c),o.stateNode=c):o.memoizedState=TT(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return ze(o),i===null&&_t&&(c=o.stateNode=CT(o.type,o.pendingProps,Se.current),pr=o,Xi=!0,Kn=Pi(c.firstChild)),c=o.pendingProps.children,i!==null||_t?Wn(i,o,c,u):o.child=Os(o,null,c,u),Yd(i,o),o.child;case 5:return i===null&&_t&&((m=c=Kn)&&(c=Uj(c,o.type,o.pendingProps,Xi),c!==null?(o.stateNode=c,pr=o,Kn=Pi(c.firstChild),Xi=!1,m=!0):m=!1),m||ws(o)),ze(o),m=o.type,y=o.pendingProps,C=i!==null?i.memoizedProps:null,c=y.children,Kv(m,y)?c=null:C!==null&&Kv(m,C)&&(o.flags|=32),o.memoizedState!==null&&(m=Py(i,o,X2,null,null,u),yc._currentValue=m),Yd(i,o),Wn(i,o,c,u),o.child;case 6:return i===null&&_t&&((i=u=Kn)&&(u=Vj(u,o.pendingProps,Xi),u!==null?(o.stateNode=u,pr=o,Kn=null,i=!0):i=!1),i||ws(o)),null;case 13:return _O(i,o,u);case 4:return Pe(o,o.stateNode.containerInfo),c=o.pendingProps,i===null?o.child=Os(o,null,c,u):Wn(i,o,c,u),o.child;case 11:return pO(i,o,o.type,o.pendingProps,u);case 7:return Wn(i,o,o.pendingProps,u),o.child;case 8:return Wn(i,o,o.pendingProps.children,u),o.child;case 12:return Wn(i,o,o.pendingProps.children,u),o.child;case 10:return c=o.pendingProps,Oa(o,o.type,c.value),Wn(i,o,c.children,u),o.child;case 9:return m=o.type._context,c=o.pendingProps.children,Ns(o),m=sr(m),c=c(m),o.flags|=1,Wn(i,o,c,u),o.child;case 14:return hO(i,o,o.type,o.pendingProps,u);case 15:return mO(i,o,o.type,o.pendingProps,u);case 19:return AO(i,o,u);case 22:return gO(i,o,u);case 24:return Ns(o),c=sr(En),i===null?(m=Ny(),m===null&&(m=Ut,y=My(),m.pooledCache=y,y.refCount++,y!==null&&(m.pooledCacheLanes|=u),m=y),o.memoizedState={parent:c,cache:m},cv(o),Oa(o,En,m)):(i.lanes&u&&(fv(i,o),nc(o,null,null,u),tc()),m=i.memoizedState,y=o.memoizedState,m.parent!==c?(m={parent:c,cache:c},o.memoizedState=m,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=m),Oa(o,En,c)):(c=y.cache,Oa(o,En,c),c!==m.cache&&dv(o,[En],u,!0))),Wn(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}var uv=Le(null),ks=null,Po=null;function Oa(i,o,u){G(uv,o._currentValue),o._currentValue=u}function Uo(i){i._currentValue=uv.current,Q(uv)}function lv(i,o,u){for(;i!==null;){var c=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,c!==null&&(c.childLanes|=o)):c!==null&&(c.childLanes&o)!==o&&(c.childLanes|=o),i===u)break;i=i.return}}function dv(i,o,u,c){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var y=m.dependencies;if(y!==null){var C=m.child;y=y.firstContext;e:for(;y!==null;){var R=y;y=m;for(var H=0;H<o.length;H++)if(R.context===o[H]){y.lanes|=u,R=y.alternate,R!==null&&(R.lanes|=u),lv(y.return,u,i),c||(C=null);break e}y=R.next}}else if(m.tag===18){if(C=m.return,C===null)throw Error(r(341));C.lanes|=u,y=C.alternate,y!==null&&(y.lanes|=u),lv(C,u,i),C=null}else C=m.child;if(C!==null)C.return=m;else for(C=m;C!==null;){if(C===i){C=null;break}if(m=C.sibling,m!==null){m.return=C.return,C=m;break}C=C.return}m=C}}function Xd(i,o,u,c){i=null;for(var m=o,y=!1;m!==null;){if(!y){if(m.flags&524288)y=!0;else if(m.flags&262144)break}if(m.tag===10){var C=m.alternate;if(C===null)throw Error(r(387));if(C=C.memoizedProps,C!==null){var R=m.type;Hr(m.pendingProps.value,C.value)||(i!==null?i.push(R):i=[R])}}else if(m===Ne.current){if(C=m.alternate,C===null)throw Error(r(387));C.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(yc):i=[yc])}m=m.return}i!==null&&dv(o,i,u,c),o.flags|=262144}function jp(i){for(i=i.firstContext;i!==null;){if(!Hr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ns(i){ks=i,Po=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function sr(i){return wO(ks,i)}function Bp(i,o){return ks===null&&Ns(i),wO(i,o)}function wO(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Po===null){if(i===null)throw Error(r(308));Po=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Po=Po.next=o;return u}var Ta=!1;function cv(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fv(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Ra(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ia(i,o,u){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,Zt&2){var m=c.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),c.pending=o,o=Sp(i),aw(i,null,u),o}return vp(i,c,o,u),Sp(i)}function ec(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194176)!==0)){var c=o.lanes;c&=i.pendingLanes,u|=c,o.lanes=u,hC(i,u)}}function pv(i,o){var u=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,u===c)){var m=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var C={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};y===null?m=y=C:y=y.next=C,u=u.next}while(u!==null);y===null?m=y=o:y=y.next=o}else m=y=o;u={baseState:c.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:c.shared,callbacks:c.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var hv=!1;function tc(){if(hv){var i=el;if(i!==null)throw i}}function nc(i,o,u,c){hv=!1;var m=i.updateQueue;Ta=!1;var y=m.firstBaseUpdate,C=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var H=R,Y=H.next;H.next=null,C===null?y=Y:C.next=Y,C=H;var he=i.alternate;he!==null&&(he=he.updateQueue,R=he.lastBaseUpdate,R!==C&&(R===null?he.firstBaseUpdate=Y:R.next=Y,he.lastBaseUpdate=H))}if(y!==null){var be=m.baseState;C=0,he=Y=H=null,R=y;do{var ne=R.lane&-536870913,le=ne!==R.lane;if(le?(vt&ne)===ne:(c&ne)===ne){ne!==0&&ne===Xu&&(hv=!0),he!==null&&(he=he.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var He=i,et=R;ne=o;var rn=u;switch(et.tag){case 1:if(He=et.payload,typeof He=="function"){be=He.call(rn,be,ne);break e}be=He;break e;case 3:He.flags=He.flags&-65537|128;case 0:if(He=et.payload,ne=typeof He=="function"?He.call(rn,be,ne):He,ne==null)break e;be=z({},be,ne);break e;case 2:Ta=!0}}ne=R.callback,ne!==null&&(i.flags|=64,le&&(i.flags|=8192),le=m.callbacks,le===null?m.callbacks=[ne]:le.push(ne))}else le={lane:ne,tag:R.tag,payload:R.payload,callback:R.callback,next:null},he===null?(Y=he=le,H=be):he=he.next=le,C|=ne;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;le=R,R=le.next,le.next=null,m.lastBaseUpdate=le,m.shared.pending=null}}while(!0);he===null&&(H=be),m.baseState=H,m.firstBaseUpdate=Y,m.lastBaseUpdate=he,y===null&&(m.shared.lanes=0),La|=C,i.lanes=C,i.memoizedState=be}}function OO(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function TO(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)OO(u[i],o)}function rc(i,o){try{var u=o.updateQueue,c=u!==null?u.lastEffect:null;if(c!==null){var m=c.next;u=m;do{if((u.tag&i)===i){c=void 0;var y=u.create,C=u.inst;c=y(),C.destroy=c}u=u.next}while(u!==m)}}catch(R){Lt(o,o.return,R)}}function Da(i,o,u){try{var c=o.updateQueue,m=c!==null?c.lastEffect:null;if(m!==null){var y=m.next;c=y;do{if((c.tag&i)===i){var C=c.inst,R=C.destroy;if(R!==void 0){C.destroy=void 0,m=o;var H=u;try{R()}catch(Y){Lt(m,H,Y)}}}c=c.next}while(c!==y)}}catch(Y){Lt(o,o.return,Y)}}function RO(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{TO(o,u)}catch(c){Lt(i,i.return,c)}}}function IO(i,o,u){u.props=Ms(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(c){Lt(i,o,c)}}function Ls(i,o){try{var u=i.ref;if(u!==null){var c=i.stateNode;switch(i.tag){case 26:case 27:case 5:var m=c;break;default:m=c}typeof u=="function"?i.refCleanup=u(m):u.current=m}}catch(y){Lt(i,o,y)}}function zr(i,o){var u=i.ref,c=i.refCleanup;if(u!==null)if(typeof c=="function")try{c()}catch(m){Lt(i,o,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(m){Lt(i,o,m)}else u.current=null}function DO(i){var o=i.type,u=i.memoizedProps,c=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&c.focus();break e;case"img":u.src?c.src=u.src:u.srcSet&&(c.srcset=u.srcSet)}}catch(m){Lt(i,i.return,m)}}function MO(i,o,u){try{var c=i.stateNode;Mj(c,i.type,u,o),c[Cr]=o}catch(m){Lt(i,i.return,m)}}function kO(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function mv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||kO(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function gv(i,o,u){var c=i.tag;if(c===5||c===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Xp));else if(c!==4&&c!==27&&(i=i.child,i!==null))for(gv(i,o,u),i=i.sibling;i!==null;)gv(i,o,u),i=i.sibling}function xp(i,o,u){var c=i.tag;if(c===5||c===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(c!==4&&c!==27&&(i=i.child,i!==null))for(xp(i,o,u),i=i.sibling;i!==null;)xp(i,o,u),i=i.sibling}var Vo=!1,tn=!1,yv=!1,NO=typeof WeakSet=="function"?WeakSet:Set,kn=null,LO=!1;function sj(i,o){if(i=i.containerInfo,qv=ah,i=JC(i),Sy(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var c=u.getSelection&&u.getSelection();if(c&&c.rangeCount!==0){u=c.anchorNode;var m=c.anchorOffset,y=c.focusNode;c=c.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var C=0,R=-1,H=-1,Y=0,he=0,be=i,ne=null;t:for(;;){for(var le;be!==u||m!==0&&be.nodeType!==3||(R=C+m),be!==y||c!==0&&be.nodeType!==3||(H=C+c),be.nodeType===3&&(C+=be.nodeValue.length),(le=be.firstChild)!==null;)ne=be,be=le;for(;;){if(be===i)break t;if(ne===u&&++Y===m&&(R=C),ne===y&&++he===c&&(H=C),(le=be.nextSibling)!==null)break;be=ne,ne=be.parentNode}be=le}u=R===-1||H===-1?null:{start:R,end:H}}else u=null}u=u||{start:0,end:0}}else u=null;for($v={focusedElem:i,selectionRange:u},ah=!1,kn=o;kn!==null;)if(o=kn,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,kn=i;else for(;kn!==null;){switch(o=kn,y=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&y!==null){i=void 0,u=o,m=y.memoizedProps,y=y.memoizedState,c=u.stateNode;try{var He=Ms(u.type,m,u.elementType===u.type);i=c.getSnapshotBeforeUpdate(He,y),c.__reactInternalSnapshotBeforeUpdate=i}catch(et){Lt(u,u.return,et)}}break;case 3:if(i&1024){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)Zv(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Zv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,kn=i;break}kn=o.return}return He=LO,LO=!1,He}function PO(i,o,u){var c=u.flags;switch(u.tag){case 0:case 11:case 15:Bo(i,u),c&4&&rc(5,u);break;case 1:if(Bo(i,u),c&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(R){Lt(u,u.return,R)}else{var m=Ms(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(m,o,i.__reactInternalSnapshotBeforeUpdate)}catch(R){Lt(u,u.return,R)}}c&64&&RO(u),c&512&&Ls(u,u.return);break;case 3:if(Bo(i,u),c&64&&(c=u.updateQueue,c!==null)){if(i=null,u.child!==null)switch(u.child.tag){case 27:case 5:i=u.child.stateNode;break;case 1:i=u.child.stateNode}try{TO(c,i)}catch(R){Lt(u,u.return,R)}}break;case 26:Bo(i,u),c&512&&Ls(u,u.return);break;case 27:case 5:Bo(i,u),o===null&&c&4&&DO(u),c&512&&Ls(u,u.return);break;case 12:Bo(i,u);break;case 13:Bo(i,u),c&4&&jO(i,u);break;case 22:if(m=u.memoizedState!==null||Vo,!m){o=o!==null&&o.memoizedState!==null||tn;var y=Vo,C=tn;Vo=m,(tn=o)&&!C?Ma(i,u,(u.subtreeFlags&8772)!==0):Bo(i,u),Vo=y,tn=C}c&512&&(u.memoizedProps.mode==="manual"?Ls(u,u.return):zr(u,u.return));break;default:Bo(i,u)}}function UO(i){var o=i.alternate;o!==null&&(i.alternate=null,UO(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&ry(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var fn=null,Fr=!1;function jo(i,o,u){for(u=u.child;u!==null;)VO(i,o,u),u=u.sibling}function VO(i,o,u){if(Br&&typeof Br.onCommitFiberUnmount=="function")try{Br.onCommitFiberUnmount(Od,u)}catch{}switch(u.tag){case 26:tn||zr(u,o),jo(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:tn||zr(u,o);var c=fn,m=Fr;for(fn=u.stateNode,jo(i,o,u),u=u.stateNode,o=u.attributes;o.length;)u.removeAttributeNode(o[0]);ry(u),fn=c,Fr=m;break;case 5:tn||zr(u,o);case 6:m=fn;var y=Fr;if(fn=null,jo(i,o,u),fn=m,Fr=y,fn!==null)if(Fr)try{i=fn,c=u.stateNode,i.nodeType===8?i.parentNode.removeChild(c):i.removeChild(c)}catch(C){Lt(u,o,C)}else try{fn.removeChild(u.stateNode)}catch(C){Lt(u,o,C)}break;case 18:fn!==null&&(Fr?(o=fn,u=u.stateNode,o.nodeType===8?Qv(o.parentNode,u):o.nodeType===1&&Qv(o,u),_c(o)):Qv(fn,u.stateNode));break;case 4:c=fn,m=Fr,fn=u.stateNode.containerInfo,Fr=!0,jo(i,o,u),fn=c,Fr=m;break;case 0:case 11:case 14:case 15:tn||Da(2,u,o),tn||Da(4,u,o),jo(i,o,u);break;case 1:tn||(zr(u,o),c=u.stateNode,typeof c.componentWillUnmount=="function"&&IO(u,o,c)),jo(i,o,u);break;case 21:jo(i,o,u);break;case 22:tn||zr(u,o),tn=(c=tn)||u.memoizedState!==null,jo(i,o,u),tn=c;break;default:jo(i,o,u)}}function jO(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{_c(i)}catch(u){Lt(o,o.return,u)}}function uj(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new NO),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new NO),o;default:throw Error(r(435,i.tag))}}function vv(i,o){var u=uj(i);o.forEach(function(c){var m=_j.bind(null,i,c);u.has(c)||(u.add(c),c.then(m,m))})}function fi(i,o){var u=o.deletions;if(u!==null)for(var c=0;c<u.length;c++){var m=u[c],y=i,C=o,R=C;e:for(;R!==null;){switch(R.tag){case 27:case 5:fn=R.stateNode,Fr=!1;break e;case 3:fn=R.stateNode.containerInfo,Fr=!0;break e;case 4:fn=R.stateNode.containerInfo,Fr=!0;break e}R=R.return}if(fn===null)throw Error(r(160));VO(y,C,m),fn=null,Fr=!1,y=m.alternate,y!==null&&(y.return=null),m.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)BO(o,i),o=o.sibling}var Li=null;function BO(i,o){var u=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:fi(o,i),pi(i),c&4&&(Da(3,i,i.return),rc(3,i),Da(5,i,i.return));break;case 1:fi(o,i),pi(i),c&512&&(tn||u===null||zr(u,u.return)),c&64&&Vo&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?c:u.concat(c))));break;case 26:var m=Li;if(fi(o,i),pi(i),c&512&&(tn||u===null||zr(u,u.return)),c&4){var y=u!==null?u.memoizedState:null;if(c=i.memoizedState,u===null)if(c===null)if(i.stateNode===null){e:{c=i.type,u=i.memoizedProps,m=m.ownerDocument||m;t:switch(c){case"title":y=m.getElementsByTagName("title")[0],(!y||y[Id]||y[ar]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=m.createElement(c),m.head.insertBefore(y,m.querySelector("head > title"))),Qn(y,c,u),y[ar]=i,Dn(y),c=y;break e;case"link":var C=DT("link","href",m).get(c+(u.href||""));if(C){for(var R=0;R<C.length;R++)if(y=C[R],y.getAttribute("href")===(u.href==null?null:u.href)&&y.getAttribute("rel")===(u.rel==null?null:u.rel)&&y.getAttribute("title")===(u.title==null?null:u.title)&&y.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){C.splice(R,1);break t}}y=m.createElement(c),Qn(y,c,u),m.head.appendChild(y);break;case"meta":if(C=DT("meta","content",m).get(c+(u.content||""))){for(R=0;R<C.length;R++)if(y=C[R],y.getAttribute("content")===(u.content==null?null:""+u.content)&&y.getAttribute("name")===(u.name==null?null:u.name)&&y.getAttribute("property")===(u.property==null?null:u.property)&&y.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&y.getAttribute("charset")===(u.charSet==null?null:u.charSet)){C.splice(R,1);break t}}y=m.createElement(c),Qn(y,c,u),m.head.appendChild(y);break;default:throw Error(r(468,c))}y[ar]=i,Dn(y),c=y}i.stateNode=c}else MT(m,i.type,i.stateNode);else i.stateNode=IT(m,c,i.memoizedProps);else y!==c?(y===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):y.count--,c===null?MT(m,i.type,i.stateNode):IT(m,c,i.memoizedProps)):c===null&&i.stateNode!==null&&MO(i,i.memoizedProps,u.memoizedProps)}break;case 27:if(c&4&&i.alternate===null){m=i.stateNode,y=i.memoizedProps;try{for(var H=m.firstChild;H;){var Y=H.nextSibling,he=H.nodeName;H[Id]||he==="HEAD"||he==="BODY"||he==="SCRIPT"||he==="STYLE"||he==="LINK"&&H.rel.toLowerCase()==="stylesheet"||m.removeChild(H),H=Y}for(var be=i.type,ne=m.attributes;ne.length;)m.removeAttributeNode(ne[0]);Qn(m,be,y),m[ar]=i,m[Cr]=y}catch(He){Lt(i,i.return,He)}}case 5:if(fi(o,i),pi(i),c&512&&(tn||u===null||zr(u,u.return)),i.flags&32){m=i.stateNode;try{Hu(m,"")}catch(He){Lt(i,i.return,He)}}c&4&&i.stateNode!=null&&(m=i.memoizedProps,MO(i,m,u!==null?u.memoizedProps:m)),c&1024&&(yv=!0);break;case 6:if(fi(o,i),pi(i),c&4){if(i.stateNode===null)throw Error(r(162));c=i.memoizedProps,u=i.stateNode;try{u.nodeValue=c}catch(He){Lt(i,i.return,He)}}break;case 3:if(rh=null,m=Li,Li=th(o.containerInfo),fi(o,i),Li=m,pi(i),c&4&&u!==null&&u.memoizedState.isDehydrated)try{_c(o.containerInfo)}catch(He){Lt(i,i.return,He)}yv&&(yv=!1,xO(i));break;case 4:c=Li,Li=th(i.stateNode.containerInfo),fi(o,i),pi(i),Li=c;break;case 12:fi(o,i),pi(i);break;case 13:fi(o,i),pi(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Tv=St()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,vv(i,c)));break;case 22:if(c&512&&(tn||u===null||zr(u,u.return)),H=i.memoizedState!==null,Y=u!==null&&u.memoizedState!==null,he=Vo,be=tn,Vo=he||H,tn=be||Y,fi(o,i),tn=be,Vo=he,pi(i),o=i.stateNode,o._current=i,o._visibility&=-3,o._visibility|=o._pendingVisibility&2,c&8192&&(o._visibility=H?o._visibility&-2:o._visibility|1,H&&(o=Vo||tn,u===null||Y||o||il(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(u=null,o=i;;){if(o.tag===5||o.tag===26||o.tag===27){if(u===null){Y=u=o;try{if(m=Y.stateNode,H)y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{C=Y.stateNode,R=Y.memoizedProps.style;var le=R!=null&&R.hasOwnProperty("display")?R.display:null;C.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(He){Lt(Y,Y.return,He)}}}else if(o.tag===6){if(u===null){Y=o;try{Y.stateNode.nodeValue=H?"":Y.memoizedProps}catch(He){Lt(Y,Y.return,He)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}c&4&&(c=i.updateQueue,c!==null&&(u=c.retryQueue,u!==null&&(c.retryQueue=null,vv(i,u))));break;case 19:fi(o,i),pi(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,vv(i,c)));break;case 21:break;default:fi(o,i),pi(i)}}function pi(i){var o=i.flags;if(o&2){try{if(i.tag!==27){e:{for(var u=i.return;u!==null;){if(kO(u)){var c=u;break e}u=u.return}throw Error(r(160))}switch(c.tag){case 27:var m=c.stateNode,y=mv(i);xp(i,y,m);break;case 5:var C=c.stateNode;c.flags&32&&(Hu(C,""),c.flags&=-33);var R=mv(i);xp(i,R,C);break;case 3:case 4:var H=c.stateNode.containerInfo,Y=mv(i);gv(i,Y,H);break;default:throw Error(r(161))}}}catch(he){Lt(i,i.return,he)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function xO(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;xO(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Bo(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)PO(i,o.alternate,o),o=o.sibling}function il(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Da(4,o,o.return),il(o);break;case 1:zr(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&IO(o,o.return,u),il(o);break;case 26:case 27:case 5:zr(o,o.return),il(o);break;case 22:zr(o,o.return),o.memoizedState===null&&il(o);break;default:il(o)}i=i.sibling}}function Ma(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var c=o.alternate,m=i,y=o,C=y.flags;switch(y.tag){case 0:case 11:case 15:Ma(m,y,u),rc(4,y);break;case 1:if(Ma(m,y,u),c=y,m=c.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){Lt(c,c.return,Y)}if(c=y,m=c.updateQueue,m!==null){var R=c.stateNode;try{var H=m.shared.hiddenCallbacks;if(H!==null)for(m.shared.hiddenCallbacks=null,m=0;m<H.length;m++)OO(H[m],R)}catch(Y){Lt(c,c.return,Y)}}u&&C&64&&RO(y),Ls(y,y.return);break;case 26:case 27:case 5:Ma(m,y,u),u&&c===null&&C&4&&DO(y),Ls(y,y.return);break;case 12:Ma(m,y,u);break;case 13:Ma(m,y,u),u&&C&4&&jO(m,y);break;case 22:y.memoizedState===null&&Ma(m,y,u),Ls(y,y.return);break;default:Ma(m,y,u)}o=o.sibling}}function Sv(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Kd(u))}function bv(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Kd(i))}function ka(i,o,u,c){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)HO(i,o,u,c),o=o.sibling}function HO(i,o,u,c){var m=o.flags;switch(o.tag){case 0:case 11:case 15:ka(i,o,u,c),m&2048&&rc(9,o);break;case 3:ka(i,o,u,c),m&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Kd(i)));break;case 12:if(m&2048){ka(i,o,u,c),i=o.stateNode;try{var y=o.memoizedProps,C=y.id,R=y.onPostCommit;typeof R=="function"&&R(C,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(H){Lt(o,o.return,H)}}else ka(i,o,u,c);break;case 23:break;case 22:y=o.stateNode,o.memoizedState!==null?y._visibility&4?ka(i,o,u,c):ic(i,o):y._visibility&4?ka(i,o,u,c):(y._visibility|=4,ol(i,o,u,c,(o.subtreeFlags&10256)!==0)),m&2048&&Sv(o.alternate,o);break;case 24:ka(i,o,u,c),m&2048&&bv(o.alternate,o);break;default:ka(i,o,u,c)}}function ol(i,o,u,c,m){for(m=m&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var y=i,C=o,R=u,H=c,Y=C.flags;switch(C.tag){case 0:case 11:case 15:ol(y,C,R,H,m),rc(8,C);break;case 23:break;case 22:var he=C.stateNode;C.memoizedState!==null?he._visibility&4?ol(y,C,R,H,m):ic(y,C):(he._visibility|=4,ol(y,C,R,H,m)),m&&Y&2048&&Sv(C.alternate,C);break;case 24:ol(y,C,R,H,m),m&&Y&2048&&bv(C.alternate,C);break;default:ol(y,C,R,H,m)}o=o.sibling}}function ic(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,c=o,m=c.flags;switch(c.tag){case 22:ic(u,c),m&2048&&Sv(c.alternate,c);break;case 24:ic(u,c),m&2048&&bv(c.alternate,c);break;default:ic(u,c)}o=o.sibling}}var oc=8192;function al(i){if(i.subtreeFlags&oc)for(i=i.child;i!==null;)zO(i),i=i.sibling}function zO(i){switch(i.tag){case 26:al(i),i.flags&oc&&i.memoizedState!==null&&Zj(Li,i.memoizedState,i.memoizedProps);break;case 5:al(i);break;case 3:case 4:var o=Li;Li=th(i.stateNode.containerInfo),al(i),Li=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=oc,oc=16777216,al(i),oc=o):al(i));break;default:al(i)}}function FO(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function ac(i){var o=i.deletions;if(i.flags&16){if(o!==null)for(var u=0;u<o.length;u++){var c=o[u];kn=c,qO(c,i)}FO(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)GO(i),i=i.sibling}function GO(i){switch(i.tag){case 0:case 11:case 15:ac(i),i.flags&2048&&Da(9,i,i.return);break;case 3:ac(i);break;case 12:ac(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&4&&(i.return===null||i.return.tag!==13)?(o._visibility&=-5,Hp(i)):ac(i);break;default:ac(i)}}function Hp(i){var o=i.deletions;if(i.flags&16){if(o!==null)for(var u=0;u<o.length;u++){var c=o[u];kn=c,qO(c,i)}FO(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Da(8,o,o.return),Hp(o);break;case 22:u=o.stateNode,u._visibility&4&&(u._visibility&=-5,Hp(o));break;default:Hp(o)}i=i.sibling}}function qO(i,o){for(;kn!==null;){var u=kn;switch(u.tag){case 0:case 11:case 15:Da(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var c=u.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Kd(u.memoizedState.cache)}if(c=u.child,c!==null)c.return=u,kn=c;else e:for(u=i;kn!==null;){c=kn;var m=c.sibling,y=c.return;if(UO(c),c===u){kn=null;break e}if(m!==null){m.return=y,kn=m;break e}kn=y}}}function lj(i,o,u,c){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hi(i,o,u,c){return new lj(i,o,u,c)}function _v(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Na(i,o){var u=i.alternate;return u===null?(u=hi(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&31457280,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function $O(i,o){i.flags&=31457282;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function zp(i,o,u,c,m,y){var C=0;if(c=i,typeof i=="function")_v(i)&&(C=1);else if(typeof i=="string")C=Wj(i,u,j.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case f:return Ps(u.children,m,y,o);case p:C=8,m|=24;break;case h:return i=hi(12,u,o,m|2),i.elementType=h,i.lanes=y,i;case _:return i=hi(13,u,o,m),i.elementType=_,i.lanes=y,i;case E:return i=hi(19,u,o,m),i.elementType=E,i.lanes=y,i;case O:return KO(u,m,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case g:case S:C=10;break e;case v:C=9;break e;case b:C=11;break e;case A:C=14;break e;case w:C=16,c=null;break e}C=29,u=Error(r(130,i===null?"null":typeof i,"")),c=null}return o=hi(C,u,o,m),o.elementType=i,o.type=c,o.lanes=y,o}function Ps(i,o,u,c){return i=hi(7,i,c,o),i.lanes=u,i}function KO(i,o,u,c){i=hi(22,i,c,o),i.elementType=O,i.lanes=u;var m={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var y=m._current;if(y===null)throw Error(r(456));if(!(m._pendingVisibility&2)){var C=_a(y,2);C!==null&&(m._pendingVisibility|=2,hr(C,y,2))}},attach:function(){var y=m._current;if(y===null)throw Error(r(456));if(m._pendingVisibility&2){var C=_a(y,2);C!==null&&(m._pendingVisibility&=-3,hr(C,y,2))}}};return i.stateNode=m,i}function Ev(i,o,u){return i=hi(6,i,null,o),i.lanes=u,i}function Av(i,o,u){return o=hi(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function xo(i){i.flags|=4}function WO(i,o){if(o.type!=="stylesheet"||o.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!kT(o)){if(o=ci.current,o!==null&&((vt&4194176)===vt?eo!==null:(vt&62914560)!==vt&&!(vt&536870912)||o!==eo))throw Gd=Ry,cw;i.flags|=8192}}function Fp(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?fC():536870912,i.lanes|=o,ul|=o)}function sc(i,o){if(!_t)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var c=null;u!==null;)u.alternate!==null&&(c=u),u=u.sibling;c===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Qt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,c=0;if(o)for(var m=i.child;m!==null;)u|=m.lanes|m.childLanes,c|=m.subtreeFlags&31457280,c|=m.flags&31457280,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)u|=m.lanes|m.childLanes,c|=m.subtreeFlags,c|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=c,i.childLanes=u,o}function dj(i,o,u){var c=o.pendingProps;switch(Oy(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(o),null;case 1:return Qt(o),null;case 3:return u=o.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),o.memoizedState.cache!==c&&(o.flags|=2048),Uo(En),xe(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(xd(o)?xo(o):i===null||i.memoizedState.isDehydrated&&!(o.flags&256)||(o.flags|=1024,Ni!==null&&(Mv(Ni),Ni=null))),Qt(o),null;case 26:return u=o.memoizedState,i===null?(xo(o),u!==null?(Qt(o),WO(o,u)):(Qt(o),o.flags&=-16777217)):u?u!==i.memoizedState?(xo(o),Qt(o),WO(o,u)):(Qt(o),o.flags&=-16777217):(i.memoizedProps!==c&&xo(o),Qt(o),o.flags&=-16777217),null;case 27:Ze(o),u=Se.current;var m=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==c&&xo(o);else{if(!c){if(o.stateNode===null)throw Error(r(166));return Qt(o),null}i=j.current,xd(o)?lw(o):(i=CT(m,c,u),o.stateNode=i,xo(o))}return Qt(o),null;case 5:if(Ze(o),u=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==c&&xo(o);else{if(!c){if(o.stateNode===null)throw Error(r(166));return Qt(o),null}if(i=j.current,xd(o))lw(o);else{switch(m=eh(Se.current),i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?m.createElement("select",{is:c.is}):m.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?m.createElement(u,{is:c.is}):m.createElement(u)}}i[ar]=o,i[Cr]=c;e:for(m=o.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===o)break e;for(;m.sibling===null;){if(m.return===null||m.return===o)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}o.stateNode=i;e:switch(Qn(i,u,c),u){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&xo(o)}}return Qt(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==c&&xo(o);else{if(typeof c!="string"&&o.stateNode===null)throw Error(r(166));if(i=Se.current,xd(o)){if(i=o.stateNode,u=o.memoizedProps,c=null,m=pr,m!==null)switch(m.tag){case 27:case 5:c=m.memoizedProps}i[ar]=o,i=!!(i.nodeValue===u||c!==null&&c.suppressHydrationWarning===!0||vT(i.nodeValue,u)),i||ws(o)}else i=eh(i).createTextNode(c),i[ar]=o,o.stateNode=i}return Qt(o),null;case 13:if(c=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=xd(o),c!==null&&c.dehydrated!==null){if(i===null){if(!m)throw Error(r(318));if(m=o.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(r(317));m[ar]=o}else Hd(),!(o.flags&128)&&(o.memoizedState=null),o.flags|=4;Qt(o),m=!1}else Ni!==null&&(Mv(Ni),Ni=null),m=!0;if(!m)return o.flags&256?(ko(o),o):(ko(o),null)}if(ko(o),o.flags&128)return o.lanes=u,o;if(u=c!==null,i=i!==null&&i.memoizedState!==null,u){c=o.child,m=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(m=c.alternate.memoizedState.cachePool.pool);var y=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(y=c.memoizedState.cachePool.pool),y!==m&&(c.flags|=2048)}return u!==i&&u&&(o.child.flags|=8192),Fp(o,o.updateQueue),Qt(o),null;case 4:return xe(),i===null&&zv(o.stateNode.containerInfo),Qt(o),null;case 10:return Uo(o.type),Qt(o),null;case 19:if(Q(_n),m=o.memoizedState,m===null)return Qt(o),null;if(c=(o.flags&128)!==0,y=m.rendering,y===null)if(c)sc(m,!1);else{if(nn!==0||i!==null&&i.flags&128)for(i=o.child;i!==null;){if(y=Op(i),y!==null){for(o.flags|=128,sc(m,!1),i=y.updateQueue,o.updateQueue=i,Fp(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)$O(u,i),u=u.sibling;return G(_n,_n.current&1|2),o.child}i=i.sibling}m.tail!==null&&St()>Gp&&(o.flags|=128,c=!0,sc(m,!1),o.lanes=4194304)}else{if(!c)if(i=Op(y),i!==null){if(o.flags|=128,c=!0,i=i.updateQueue,o.updateQueue=i,Fp(o,i),sc(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!_t)return Qt(o),null}else 2*St()-m.renderingStartTime>Gp&&u!==536870912&&(o.flags|=128,c=!0,sc(m,!1),o.lanes=4194304);m.isBackwards?(y.sibling=o.child,o.child=y):(i=m.last,i!==null?i.sibling=y:o.child=y,m.last=y)}return m.tail!==null?(o=m.tail,m.rendering=o,m.tail=o.sibling,m.renderingStartTime=St(),o.sibling=null,i=_n.current,G(_n,c?i&1|2:i&1),o):(Qt(o),null);case 22:case 23:return ko(o),Dy(),c=o.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(o.flags|=8192):c&&(o.flags|=8192),c?u&536870912&&!(o.flags&128)&&(Qt(o),o.subtreeFlags&6&&(o.flags|=8192)):Qt(o),u=o.updateQueue,u!==null&&Fp(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),c=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(c=o.memoizedState.cachePool.pool),c!==u&&(o.flags|=2048),i!==null&&Q(Ts),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Uo(En),Qt(o),null;case 25:return null}throw Error(r(156,o.tag))}function cj(i,o){switch(Oy(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Uo(En),xe(),i=o.flags,i&65536&&!(i&128)?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Ze(o),null;case 13:if(ko(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Hd()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Q(_n),null;case 4:return xe(),null;case 10:return Uo(o.type),null;case 22:case 23:return ko(o),Dy(),i!==null&&Q(Ts),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Uo(En),null;case 25:return null;default:return null}}function QO(i,o){switch(Oy(o),o.tag){case 3:Uo(En),xe();break;case 26:case 27:case 5:Ze(o);break;case 4:xe();break;case 13:ko(o);break;case 19:Q(_n);break;case 10:Uo(o.type);break;case 22:case 23:ko(o),Dy(),i!==null&&Q(Ts);break;case 24:Uo(En)}}var fj={getCacheForType:function(i){var o=sr(En),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u}},pj=typeof WeakMap=="function"?WeakMap:Map,Zt=0,Ut=null,ct=null,vt=0,Vt=0,Gr=null,Ho=!1,sl=!1,Cv=!1,zo=0,nn=0,La=0,Us=0,wv=0,mi=0,ul=0,uc=null,no=null,Ov=!1,Tv=0,Gp=1/0,qp=null,Pa=null,$p=!1,Vs=null,lc=0,Rv=0,Iv=null,dc=0,Dv=null;function qr(){if(Zt&2&&vt!==0)return vt&-vt;if(W.T!==null){var i=Xu;return i!==0?i:jv()}return gC()}function ZO(){mi===0&&(mi=!(vt&536870912)||_t?cC():536870912);var i=ci.current;return i!==null&&(i.flags|=32),mi}function hr(i,o,u){(i===Ut&&Vt===2||i.cancelPendingCommit!==null)&&(ll(i,0),Fo(i,vt,mi,!1)),Rd(i,u),(!(Zt&2)||i!==Ut)&&(i===Ut&&(!(Zt&2)&&(Us|=u),nn===4&&Fo(i,vt,mi,!1)),ro(i))}function JO(i,o,u){if(Zt&6)throw Error(r(327));var c=!u&&(o&60)===0&&(o&i.expiredLanes)===0||Td(i,o),m=c?gj(i,o):Lv(i,o,!0),y=c;do{if(m===0){sl&&!c&&Fo(i,o,0,!1);break}else if(m===6)Fo(i,o,0,!Ho);else{if(u=i.current.alternate,y&&!hj(u)){m=Lv(i,o,!1),y=!1;continue}if(m===2){if(y=o,i.errorRecoveryDisabledLanes&y)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){o=C;e:{var R=i;m=uc;var H=R.current.memoizedState.isDehydrated;if(H&&(ll(R,C).flags|=256),C=Lv(R,C,!1),C!==2){if(Cv&&!H){R.errorRecoveryDisabledLanes|=y,Us|=y,m=4;break e}y=no,no=m,y!==null&&Mv(y)}m=C}if(y=!1,m!==2)continue}}if(m===1){ll(i,0),Fo(i,o,0,!0);break}e:{switch(c=i,m){case 0:case 1:throw Error(r(345));case 4:if((o&4194176)===o){Fo(c,o,mi,!Ho);break e}break;case 2:no=null;break;case 3:case 5:break;default:throw Error(r(329))}if(c.finishedWork=u,c.finishedLanes=o,(o&62914560)===o&&(y=Tv+300-St(),10<y)){if(Fo(c,o,mi,!Ho),op(c,0)!==0)break e;c.timeoutHandle=_T(YO.bind(null,c,u,no,qp,Ov,o,mi,Us,ul,Ho,2,-0,0),y);break e}YO(c,u,no,qp,Ov,o,mi,Us,ul,Ho,0,-0,0)}}break}while(!0);ro(i)}function Mv(i){no===null?no=i:no.push.apply(no,i)}function YO(i,o,u,c,m,y,C,R,H,Y,he,be,ne){var le=o.subtreeFlags;if((le&8192||(le&16785408)===16785408)&&(gc={stylesheets:null,count:0,unsuspend:Qj},zO(o),o=Jj(),o!==null)){i.cancelPendingCommit=o(oT.bind(null,i,u,c,m,C,R,H,1,be,ne)),Fo(i,y,C,!Y);return}oT(i,u,c,m,C,R,H,he,be,ne)}function hj(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var c=0;c<u.length;c++){var m=u[c],y=m.getSnapshot;m=m.value;try{if(!Hr(y(),m))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Fo(i,o,u,c){o&=~wv,o&=~Us,i.suspendedLanes|=o,i.pingedLanes&=~o,c&&(i.warmLanes|=o),c=i.expirationTimes;for(var m=o;0<m;){var y=31-xr(m),C=1<<y;c[y]=-1,m&=~C}u!==0&&pC(i,u,o)}function Kp(){return Zt&6?!0:(cc(0),!1)}function kv(){if(ct!==null){if(Vt===0)var i=ct.return;else i=ct,Po=ks=null,jy(i),Ju=null,qd=0,i=ct;for(;i!==null;)QO(i.alternate,i),i=i.return;ct=null}}function ll(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,Nj(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),kv(),Ut=i,ct=u=Na(i.current,null),vt=o,Vt=0,Gr=null,Ho=!1,sl=Td(i,o),Cv=!1,ul=mi=wv=Us=La=nn=0,no=uc=null,Ov=!1,o&8&&(o|=o&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=o;0<c;){var m=31-xr(c),y=1<<m;o|=i[m],c&=~y}return zo=o,yp(),u}function XO(i,o){ot=null,W.H=to,o===Fd?(o=hw(),Vt=3):o===cw?(o=hw(),Vt=4):Vt=o===fO?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Gr=o,ct===null&&(nn=1,Vp(i,ui(o,i.current)))}function eT(){var i=W.H;return W.H=to,i===null?to:i}function tT(){var i=W.A;return W.A=fj,i}function Nv(){nn=4,Ho||(vt&4194176)!==vt&&ci.current!==null||(sl=!0),!(La&134217727)&&!(Us&134217727)||Ut===null||Fo(Ut,vt,mi,!1)}function Lv(i,o,u){var c=Zt;Zt|=2;var m=eT(),y=tT();(Ut!==i||vt!==o)&&(qp=null,ll(i,o)),o=!1;var C=nn;e:do try{if(Vt!==0&&ct!==null){var R=ct,H=Gr;switch(Vt){case 8:kv(),C=6;break e;case 3:case 2:case 6:ci.current===null&&(o=!0);var Y=Vt;if(Vt=0,Gr=null,dl(i,R,H,Y),u&&sl){C=0;break e}break;default:Y=Vt,Vt=0,Gr=null,dl(i,R,H,Y)}}mj(),C=nn;break}catch(he){XO(i,he)}while(!0);return o&&i.shellSuspendCounter++,Po=ks=null,Zt=c,W.H=m,W.A=y,ct===null&&(Ut=null,vt=0,yp()),C}function mj(){for(;ct!==null;)nT(ct)}function gj(i,o){var u=Zt;Zt|=2;var c=eT(),m=tT();Ut!==i||vt!==o?(qp=null,Gp=St()+500,ll(i,o)):sl=Td(i,o);e:do try{if(Vt!==0&&ct!==null){o=ct;var y=Gr;t:switch(Vt){case 1:Vt=0,Gr=null,dl(i,o,y,1);break;case 2:if(fw(y)){Vt=0,Gr=null,rT(o);break}o=function(){Vt===2&&Ut===i&&(Vt=7),ro(i)},y.then(o,o);break e;case 3:Vt=7;break e;case 4:Vt=5;break e;case 7:fw(y)?(Vt=0,Gr=null,rT(o)):(Vt=0,Gr=null,dl(i,o,y,7));break;case 5:var C=null;switch(ct.tag){case 26:C=ct.memoizedState;case 5:case 27:var R=ct;if(!C||kT(C)){Vt=0,Gr=null;var H=R.sibling;if(H!==null)ct=H;else{var Y=R.return;Y!==null?(ct=Y,Wp(Y)):ct=null}break t}}Vt=0,Gr=null,dl(i,o,y,5);break;case 6:Vt=0,Gr=null,dl(i,o,y,6);break;case 8:kv(),nn=6;break e;default:throw Error(r(462))}}yj();break}catch(he){XO(i,he)}while(!0);return Po=ks=null,W.H=c,W.A=m,Zt=u,ct!==null?0:(Ut=null,vt=0,yp(),nn)}function yj(){for(;ct!==null&&!pt();)nT(ct)}function nT(i){var o=CO(i.alternate,i,zo);i.memoizedProps=i.pendingProps,o===null?Wp(i):ct=o}function rT(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=vO(u,o,o.pendingProps,o.type,void 0,vt);break;case 11:o=vO(u,o,o.pendingProps,o.type.render,o.ref,vt);break;case 5:jy(o);default:QO(u,o),o=ct=$O(o,zo),o=CO(u,o,zo)}i.memoizedProps=i.pendingProps,o===null?Wp(i):ct=o}function dl(i,o,u,c){Po=ks=null,jy(o),Ju=null,qd=0;var m=o.return;try{if(oj(i,m,o,u,vt)){nn=1,Vp(i,ui(u,i.current)),ct=null;return}}catch(y){if(m!==null)throw ct=m,y;nn=1,Vp(i,ui(u,i.current)),ct=null;return}o.flags&32768?(_t||c===1?i=!0:sl||vt&536870912?i=!1:(Ho=i=!0,(c===2||c===3||c===6)&&(c=ci.current,c!==null&&c.tag===13&&(c.flags|=16384))),iT(o,i)):Wp(o)}function Wp(i){var o=i;do{if(o.flags&32768){iT(o,Ho);return}i=o.return;var u=dj(o.alternate,o,zo);if(u!==null){ct=u;return}if(o=o.sibling,o!==null){ct=o;return}ct=o=i}while(o!==null);nn===0&&(nn=5)}function iT(i,o){do{var u=cj(i.alternate,i);if(u!==null){u.flags&=32767,ct=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){ct=i;return}ct=i=u}while(i!==null);nn=6,ct=null}function oT(i,o,u,c,m,y,C,R,H,Y){var he=W.T,be=se.p;try{se.p=2,W.T=null,vj(i,o,u,c,be,m,y,C,R,H,Y)}finally{W.T=he,se.p=be}}function vj(i,o,u,c,m,y,C,R){do cl();while(Vs!==null);if(Zt&6)throw Error(r(327));var H=i.finishedWork;if(c=i.finishedLanes,H===null)return null;if(i.finishedWork=null,i.finishedLanes=0,H===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var Y=H.lanes|H.childLanes;if(Y|=Ay,ZV(i,c,Y,y,C,R),i===Ut&&(ct=Ut=null,vt=0),!(H.subtreeFlags&10256)&&!(H.flags&10256)||$p||($p=!0,Rv=Y,Iv=u,Ej(In,function(){return cl(),null})),u=(H.flags&15990)!==0,H.subtreeFlags&15990||u?(u=W.T,W.T=null,y=se.p,se.p=2,C=Zt,Zt|=4,sj(i,H),BO(H,i),z2($v,i.containerInfo),ah=!!qv,$v=qv=null,i.current=H,PO(i,H.alternate,H),dt(),Zt=C,se.p=y,W.T=u):i.current=H,$p?($p=!1,Vs=i,lc=c):aT(i,Y),Y=i.pendingLanes,Y===0&&(Pa=null),qV(H.stateNode),ro(i),o!==null)for(m=i.onRecoverableError,H=0;H<o.length;H++)Y=o[H],m(Y.value,{componentStack:Y.stack});return lc&3&&cl(),Y=i.pendingLanes,c&4194218&&Y&42?i===Dv?dc++:(dc=0,Dv=i):dc=0,cc(0),null}function aT(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Kd(o)))}function cl(){if(Vs!==null){var i=Vs,o=Rv;Rv=0;var u=mC(lc),c=W.T,m=se.p;try{if(se.p=32>u?32:u,W.T=null,Vs===null)var y=!1;else{u=Iv,Iv=null;var C=Vs,R=lc;if(Vs=null,lc=0,Zt&6)throw Error(r(331));var H=Zt;if(Zt|=4,GO(C.current),HO(C,C.current,R,u),Zt=H,cc(0,!1),Br&&typeof Br.onPostCommitFiberRoot=="function")try{Br.onPostCommitFiberRoot(Od,C)}catch{}y=!0}return y}finally{se.p=m,W.T=c,aT(i,o)}}return!1}function sT(i,o,u){o=ui(u,o),o=Yy(i.stateNode,o,2),i=Ia(i,o,2),i!==null&&(Rd(i,2),ro(i))}function Lt(i,o,u){if(i.tag===3)sT(i,i,u);else for(;o!==null;){if(o.tag===3){sT(o,i,u);break}else if(o.tag===1){var c=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Pa===null||!Pa.has(c))){i=ui(u,i),u=dO(2),c=Ia(o,u,2),c!==null&&(cO(u,c,o,i),Rd(c,2),ro(c));break}}o=o.return}}function Pv(i,o,u){var c=i.pingCache;if(c===null){c=i.pingCache=new pj;var m=new Set;c.set(o,m)}else m=c.get(o),m===void 0&&(m=new Set,c.set(o,m));m.has(u)||(Cv=!0,m.add(u),i=Sj.bind(null,i,o,u),o.then(i,i))}function Sj(i,o,u){var c=i.pingCache;c!==null&&c.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Ut===i&&(vt&u)===u&&(nn===4||nn===3&&(vt&62914560)===vt&&300>St()-Tv?!(Zt&2)&&ll(i,0):wv|=u,ul===vt&&(ul=0)),ro(i)}function uT(i,o){o===0&&(o=fC()),i=_a(i,o),i!==null&&(Rd(i,o),ro(i))}function bj(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),uT(i,u)}function _j(i,o){var u=0;switch(i.tag){case 13:var c=i.stateNode,m=i.memoizedState;m!==null&&(u=m.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(r(314))}c!==null&&c.delete(o),uT(i,u)}function Ej(i,o){return We(i,o)}var Qp=null,fl=null,Uv=!1,Zp=!1,Vv=!1,js=0;function ro(i){i!==fl&&i.next===null&&(fl===null?Qp=fl=i:fl=fl.next=i),Zp=!0,Uv||(Uv=!0,Cj(Aj))}function cc(i,o){if(!Vv&&Zp){Vv=!0;do for(var u=!1,c=Qp;c!==null;){if(i!==0){var m=c.pendingLanes;if(m===0)var y=0;else{var C=c.suspendedLanes,R=c.pingedLanes;y=(1<<31-xr(42|i)+1)-1,y&=m&~(C&~R),y=y&201326677?y&201326677|1:y?y|2:0}y!==0&&(u=!0,cT(c,y))}else y=vt,y=op(c,c===Ut?y:0),!(y&3)||Td(c,y)||(u=!0,cT(c,y));c=c.next}while(u);Vv=!1}}function Aj(){Zp=Uv=!1;var i=0;js!==0&&(kj()&&(i=js),js=0);for(var o=St(),u=null,c=Qp;c!==null;){var m=c.next,y=lT(c,o);y===0?(c.next=null,u===null?Qp=m:u.next=m,m===null&&(fl=u)):(u=c,(i!==0||y&3)&&(Zp=!0)),c=m}cc(i)}function lT(i,o){for(var u=i.suspendedLanes,c=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes&-62914561;0<y;){var C=31-xr(y),R=1<<C,H=m[C];H===-1?(!(R&u)||R&c)&&(m[C]=QV(R,o)):H<=o&&(i.expiredLanes|=R),y&=~R}if(o=Ut,u=vt,u=op(i,i===o?u:0),c=i.callbackNode,u===0||i===o&&Vt===2||i.cancelPendingCommit!==null)return c!==null&&c!==null&&lt(c),i.callbackNode=null,i.callbackPriority=0;if(!(u&3)||Td(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(c!==null&&lt(c),mC(u)){case 2:case 8:u=$n;break;case 32:u=In;break;case 268435456:u=ya;break;default:u=In}return c=dT.bind(null,i),u=We(u,c),i.callbackPriority=o,i.callbackNode=u,o}return c!==null&&c!==null&&lt(c),i.callbackPriority=2,i.callbackNode=null,2}function dT(i,o){var u=i.callbackNode;if(cl()&&i.callbackNode!==u)return null;var c=vt;return c=op(i,i===Ut?c:0),c===0?null:(JO(i,c,o),lT(i,St()),i.callbackNode!=null&&i.callbackNode===u?dT.bind(null,i):null)}function cT(i,o){if(cl())return null;JO(i,o,!0)}function Cj(i){Lj(function(){Zt&6?We(Nt,i):i()})}function jv(){return js===0&&(js=cC()),js}function fT(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:dp(""+i)}function pT(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function wj(i,o,u,c,m){if(o==="submit"&&u&&u.stateNode===m){var y=fT((m[Cr]||null).action),C=c.submitter;C&&(o=(o=C[Cr]||null)?fT(o.formAction):C.getAttribute("formAction"),o!==null&&(y=o,C=null));var R=new hp("action","action",null,c,m);i.push({event:R,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(js!==0){var H=C?pT(m,C):new FormData(m);Ky(u,{pending:!0,data:H,method:m.method,action:y},null,H)}}else typeof y=="function"&&(R.preventDefault(),H=C?pT(m,C):new FormData(m),Ky(u,{pending:!0,data:H,method:m.method,action:y},y,H))},currentTarget:m}]})}}for(var Bv=0;Bv<ow.length;Bv++){var xv=ow[Bv],Oj=xv.toLowerCase(),Tj=xv[0].toUpperCase()+xv.slice(1);ki(Oj,"on"+Tj)}ki(ew,"onAnimationEnd"),ki(tw,"onAnimationIteration"),ki(nw,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(G2,"onTransitionRun"),ki(q2,"onTransitionStart"),ki($2,"onTransitionCancel"),ki(rw,"onTransitionEnd"),Bu("onMouseEnter",["mouseout","mouseover"]),Bu("onMouseLeave",["mouseout","mouseover"]),Bu("onPointerEnter",["pointerout","pointerover"]),Bu("onPointerLeave",["pointerout","pointerover"]),Ss("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ss("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ss("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ss("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ss("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rj=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fc));function hT(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var c=i[u],m=c.event;c=c.listeners;e:{var y=void 0;if(o)for(var C=c.length-1;0<=C;C--){var R=c[C],H=R.instance,Y=R.currentTarget;if(R=R.listener,H!==y&&m.isPropagationStopped())break e;y=R,m.currentTarget=Y;try{y(m)}catch(he){Up(he)}m.currentTarget=null,y=H}else for(C=0;C<c.length;C++){if(R=c[C],H=R.instance,Y=R.currentTarget,R=R.listener,H!==y&&m.isPropagationStopped())break e;y=R,m.currentTarget=Y;try{y(m)}catch(he){Up(he)}m.currentTarget=null,y=H}}}}function ht(i,o){var u=o[ny];u===void 0&&(u=o[ny]=new Set);var c=i+"__bubble";u.has(c)||(mT(o,i,2,!1),u.add(c))}function Hv(i,o,u){var c=0;o&&(c|=4),mT(u,i,c,o)}var Jp="_reactListening"+Math.random().toString(36).slice(2);function zv(i){if(!i[Jp]){i[Jp]=!0,vC.forEach(function(u){u!=="selectionchange"&&(Rj.has(u)||Hv(u,!1,i),Hv(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Jp]||(o[Jp]=!0,Hv("selectionchange",!1,o))}}function mT(i,o,u,c){switch(jT(o)){case 2:var m=eB;break;case 8:m=tB;break;default:m=tS}u=m.bind(null,o,u,i),m=void 0,!dy||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),c?m!==void 0?i.addEventListener(o,u,{capture:!0,passive:m}):i.addEventListener(o,u,!0):m!==void 0?i.addEventListener(o,u,{passive:m}):i.addEventListener(o,u,!1)}function Fv(i,o,u,c,m){var y=c;if(!(o&1)&&!(o&2)&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var R=c.stateNode.containerInfo;if(R===m||R.nodeType===8&&R.parentNode===m)break;if(C===4)for(C=c.return;C!==null;){var H=C.tag;if((H===3||H===4)&&(H=C.stateNode.containerInfo,H===m||H.nodeType===8&&H.parentNode===m))return;C=C.return}for(;R!==null;){if(C=vs(R),C===null)return;if(H=C.tag,H===5||H===6||H===26||H===27){c=y=C;continue e}R=R.parentNode}}c=c.return}DC(function(){var Y=y,he=uy(u),be=[];e:{var ne=iw.get(i);if(ne!==void 0){var le=hp,He=i;switch(i){case"keypress":if(fp(u)===0)break e;case"keydown":case"keyup":le=_2;break;case"focusin":He="focus",le=hy;break;case"focusout":He="blur",le=hy;break;case"beforeblur":case"afterblur":le=hy;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=NC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=l2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=C2;break;case ew:case tw:case nw:le=f2;break;case rw:le=O2;break;case"scroll":case"scrollend":le=s2;break;case"wheel":le=R2;break;case"copy":case"cut":case"paste":le=h2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=PC;break;case"toggle":case"beforetoggle":le=D2}var et=(o&4)!==0,rn=!et&&(i==="scroll"||i==="scrollend"),ee=et?ne!==null?ne+"Capture":null:ne;et=[];for(var Z=Y,te;Z!==null;){var ge=Z;if(te=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||te===null||ee===null||(ge=Md(Z,ee),ge!=null&&et.push(pc(Z,ge,te))),rn)break;Z=Z.return}0<et.length&&(ne=new le(ne,He,null,u,he),be.push({event:ne,listeners:et}))}}if(!(o&7)){e:{if(ne=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",ne&&u!==sy&&(He=u.relatedTarget||u.fromElement)&&(vs(He)||He[Uu]))break e;if((le||ne)&&(ne=he.window===he?he:(ne=he.ownerDocument)?ne.defaultView||ne.parentWindow:window,le?(He=u.relatedTarget||u.toElement,le=Y,He=He?vs(He):null,He!==null&&(rn=J(He),et=He.tag,He!==rn||et!==5&&et!==27&&et!==6)&&(He=null)):(le=null,He=Y),le!==He)){if(et=NC,ge="onMouseLeave",ee="onMouseEnter",Z="mouse",(i==="pointerout"||i==="pointerover")&&(et=PC,ge="onPointerLeave",ee="onPointerEnter",Z="pointer"),rn=le==null?ne:Dd(le),te=He==null?ne:Dd(He),ne=new et(ge,Z+"leave",le,u,he),ne.target=rn,ne.relatedTarget=te,ge=null,vs(he)===Y&&(et=new et(ee,Z+"enter",He,u,he),et.target=te,et.relatedTarget=rn,ge=et),rn=ge,le&&He)t:{for(et=le,ee=He,Z=0,te=et;te;te=pl(te))Z++;for(te=0,ge=ee;ge;ge=pl(ge))te++;for(;0<Z-te;)et=pl(et),Z--;for(;0<te-Z;)ee=pl(ee),te--;for(;Z--;){if(et===ee||ee!==null&&et===ee.alternate)break t;et=pl(et),ee=pl(ee)}et=null}else et=null;le!==null&&gT(be,ne,le,et,!1),He!==null&&rn!==null&&gT(be,rn,He,et,!0)}}e:{if(ne=Y?Dd(Y):window,le=ne.nodeName&&ne.nodeName.toLowerCase(),le==="select"||le==="input"&&ne.type==="file")var Be=FC;else if(HC(ne))if(GC)Be=x2;else{Be=j2;var st=V2}else le=ne.nodeName,!le||le.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?Y&&ay(Y.elementType)&&(Be=FC):Be=B2;if(Be&&(Be=Be(i,Y))){zC(be,Be,u,he);break e}st&&st(i,ne,Y),i==="focusout"&&Y&&ne.type==="number"&&Y.memoizedProps.value!=null&&oy(ne,"number",ne.value)}switch(st=Y?Dd(Y):window,i){case"focusin":(HC(st)||st.contentEditable==="true")&&(qu=st,by=Y,Bd=null);break;case"focusout":Bd=by=qu=null;break;case"mousedown":_y=!0;break;case"contextmenu":case"mouseup":case"dragend":_y=!1,YC(be,u,he);break;case"selectionchange":if(F2)break;case"keydown":case"keyup":YC(be,u,he)}var Fe;if(gy)e:{switch(i){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Gu?BC(i,u)&&(Xe="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Xe="onCompositionStart");Xe&&(UC&&u.locale!=="ko"&&(Gu||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Gu&&(Fe=MC()):(ba=he,cy="value"in ba?ba.value:ba.textContent,Gu=!0)),st=Yp(Y,Xe),0<st.length&&(Xe=new LC(Xe,i,null,u,he),be.push({event:Xe,listeners:st}),Fe?Xe.data=Fe:(Fe=xC(u),Fe!==null&&(Xe.data=Fe)))),(Fe=k2?N2(i,u):L2(i,u))&&(Xe=Yp(Y,"onBeforeInput"),0<Xe.length&&(st=new LC("onBeforeInput","beforeinput",null,u,he),be.push({event:st,listeners:Xe}),st.data=Fe)),wj(be,i,Y,u,he)}hT(be,o)})}function pc(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Yp(i,o){for(var u=o+"Capture",c=[];i!==null;){var m=i,y=m.stateNode;m=m.tag,m!==5&&m!==26&&m!==27||y===null||(m=Md(i,u),m!=null&&c.unshift(pc(i,m,y)),m=Md(i,o),m!=null&&c.push(pc(i,m,y))),i=i.return}return c}function pl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function gT(i,o,u,c,m){for(var y=o._reactName,C=[];u!==null&&u!==c;){var R=u,H=R.alternate,Y=R.stateNode;if(R=R.tag,H!==null&&H===c)break;R!==5&&R!==26&&R!==27||Y===null||(H=Y,m?(Y=Md(u,y),Y!=null&&C.unshift(pc(u,Y,H))):m||(Y=Md(u,y),Y!=null&&C.push(pc(u,Y,H)))),u=u.return}C.length!==0&&i.push({event:o,listeners:C})}var Ij=/\r\n?/g,Dj=/\u0000|\uFFFD/g;function yT(i){return(typeof i=="string"?i:""+i).replace(Ij,`
`).replace(Dj,"")}function vT(i,o){return o=yT(o),yT(i)===o}function Xp(){}function Mt(i,o,u,c,m,y){switch(u){case"children":typeof c=="string"?o==="body"||o==="textarea"&&c===""||Hu(i,c):(typeof c=="number"||typeof c=="bigint")&&o!=="body"&&Hu(i,""+c);break;case"className":sp(i,"class",c);break;case"tabIndex":sp(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":sp(i,u,c);break;case"style":RC(i,c,y);break;case"data":if(o!=="object"){sp(i,"data",c);break}case"src":case"href":if(c===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(u);break}c=dp(""+c),i.setAttribute(u,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(u==="formAction"?(o!=="input"&&Mt(i,o,"name",m.name,m,null),Mt(i,o,"formEncType",m.formEncType,m,null),Mt(i,o,"formMethod",m.formMethod,m,null),Mt(i,o,"formTarget",m.formTarget,m,null)):(Mt(i,o,"encType",m.encType,m,null),Mt(i,o,"method",m.method,m,null),Mt(i,o,"target",m.target,m,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(u);break}c=dp(""+c),i.setAttribute(u,c);break;case"onClick":c!=null&&(i.onclick=Xp);break;case"onScroll":c!=null&&ht("scroll",i);break;case"onScrollEnd":c!=null&&ht("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(u=c.__html,u!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}u=dp(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(u,""+c):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":c===!0?i.setAttribute(u,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(u,c):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(u,c):i.removeAttribute(u);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(u):i.setAttribute(u,c);break;case"popover":ht("beforetoggle",i),ht("toggle",i),ap(i,"popover",c);break;case"xlinkActuate":Io(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":Io(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":Io(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":Io(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":Io(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":Io(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":Io(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":Io(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":Io(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":ap(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=o2.get(u)||u,ap(i,u,c))}}function Gv(i,o,u,c,m,y){switch(u){case"style":RC(i,c,y);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(r(61));if(u=c.__html,u!=null){if(m.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof c=="string"?Hu(i,c):(typeof c=="number"||typeof c=="bigint")&&Hu(i,""+c);break;case"onScroll":c!=null&&ht("scroll",i);break;case"onScrollEnd":c!=null&&ht("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Xp);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!SC.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(m=u.endsWith("Capture"),o=u.slice(2,m?u.length-7:void 0),y=i[Cr]||null,y=y!=null?y[u]:null,typeof y=="function"&&i.removeEventListener(o,y,m),typeof c=="function")){typeof y!="function"&&y!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,c,m);break e}u in i?i[u]=c:c===!0?i.setAttribute(u,""):ap(i,u,c)}}}function Qn(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",i),ht("load",i);var c=!1,m=!1,y;for(y in u)if(u.hasOwnProperty(y)){var C=u[y];if(C!=null)switch(y){case"src":c=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Mt(i,o,y,C,u,null)}}m&&Mt(i,o,"srcSet",u.srcSet,u,null),c&&Mt(i,o,"src",u.src,u,null);return;case"input":ht("invalid",i);var R=y=C=m=null,H=null,Y=null;for(c in u)if(u.hasOwnProperty(c)){var he=u[c];if(he!=null)switch(c){case"name":m=he;break;case"type":C=he;break;case"checked":H=he;break;case"defaultChecked":Y=he;break;case"value":y=he;break;case"defaultValue":R=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(r(137,o));break;default:Mt(i,o,c,he,u,null)}}CC(i,y,R,H,Y,C,m,!1),up(i);return;case"select":ht("invalid",i),c=C=y=null;for(m in u)if(u.hasOwnProperty(m)&&(R=u[m],R!=null))switch(m){case"value":y=R;break;case"defaultValue":C=R;break;case"multiple":c=R;default:Mt(i,o,m,R,u,null)}o=y,u=C,i.multiple=!!c,o!=null?xu(i,!!c,o,!1):u!=null&&xu(i,!!c,u,!0);return;case"textarea":ht("invalid",i),y=m=c=null;for(C in u)if(u.hasOwnProperty(C)&&(R=u[C],R!=null))switch(C){case"value":c=R;break;case"defaultValue":m=R;break;case"children":y=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(91));break;default:Mt(i,o,C,R,u,null)}OC(i,c,m,y),up(i);return;case"option":for(H in u)if(u.hasOwnProperty(H)&&(c=u[H],c!=null))switch(H){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Mt(i,o,H,c,u,null)}return;case"dialog":ht("cancel",i),ht("close",i);break;case"iframe":case"object":ht("load",i);break;case"video":case"audio":for(c=0;c<fc.length;c++)ht(fc[c],i);break;case"image":ht("error",i),ht("load",i);break;case"details":ht("toggle",i);break;case"embed":case"source":case"link":ht("error",i),ht("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in u)if(u.hasOwnProperty(Y)&&(c=u[Y],c!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Mt(i,o,Y,c,u,null)}return;default:if(ay(o)){for(he in u)u.hasOwnProperty(he)&&(c=u[he],c!==void 0&&Gv(i,o,he,c,u,void 0));return}}for(R in u)u.hasOwnProperty(R)&&(c=u[R],c!=null&&Mt(i,o,R,c,u,null))}function Mj(i,o,u,c){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,y=null,C=null,R=null,H=null,Y=null,he=null;for(le in u){var be=u[le];if(u.hasOwnProperty(le)&&be!=null)switch(le){case"checked":break;case"value":break;case"defaultValue":H=be;default:c.hasOwnProperty(le)||Mt(i,o,le,null,c,be)}}for(var ne in c){var le=c[ne];if(be=u[ne],c.hasOwnProperty(ne)&&(le!=null||be!=null))switch(ne){case"type":y=le;break;case"name":m=le;break;case"checked":Y=le;break;case"defaultChecked":he=le;break;case"value":C=le;break;case"defaultValue":R=le;break;case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(r(137,o));break;default:le!==be&&Mt(i,o,ne,le,c,be)}}iy(i,C,R,H,Y,he,y,m);return;case"select":le=C=R=ne=null;for(y in u)if(H=u[y],u.hasOwnProperty(y)&&H!=null)switch(y){case"value":break;case"multiple":le=H;default:c.hasOwnProperty(y)||Mt(i,o,y,null,c,H)}for(m in c)if(y=c[m],H=u[m],c.hasOwnProperty(m)&&(y!=null||H!=null))switch(m){case"value":ne=y;break;case"defaultValue":R=y;break;case"multiple":C=y;default:y!==H&&Mt(i,o,m,y,c,H)}o=R,u=C,c=le,ne!=null?xu(i,!!u,ne,!1):!!c!=!!u&&(o!=null?xu(i,!!u,o,!0):xu(i,!!u,u?[]:"",!1));return;case"textarea":le=ne=null;for(R in u)if(m=u[R],u.hasOwnProperty(R)&&m!=null&&!c.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Mt(i,o,R,null,c,m)}for(C in c)if(m=c[C],y=u[C],c.hasOwnProperty(C)&&(m!=null||y!=null))switch(C){case"value":ne=m;break;case"defaultValue":le=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(r(91));break;default:m!==y&&Mt(i,o,C,m,c,y)}wC(i,ne,le);return;case"option":for(var He in u)if(ne=u[He],u.hasOwnProperty(He)&&ne!=null&&!c.hasOwnProperty(He))switch(He){case"selected":i.selected=!1;break;default:Mt(i,o,He,null,c,ne)}for(H in c)if(ne=c[H],le=u[H],c.hasOwnProperty(H)&&ne!==le&&(ne!=null||le!=null))switch(H){case"selected":i.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:Mt(i,o,H,ne,c,le)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var et in u)ne=u[et],u.hasOwnProperty(et)&&ne!=null&&!c.hasOwnProperty(et)&&Mt(i,o,et,null,c,ne);for(Y in c)if(ne=c[Y],le=u[Y],c.hasOwnProperty(Y)&&ne!==le&&(ne!=null||le!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(r(137,o));break;default:Mt(i,o,Y,ne,c,le)}return;default:if(ay(o)){for(var rn in u)ne=u[rn],u.hasOwnProperty(rn)&&ne!==void 0&&!c.hasOwnProperty(rn)&&Gv(i,o,rn,void 0,c,ne);for(he in c)ne=c[he],le=u[he],!c.hasOwnProperty(he)||ne===le||ne===void 0&&le===void 0||Gv(i,o,he,ne,c,le);return}}for(var ee in u)ne=u[ee],u.hasOwnProperty(ee)&&ne!=null&&!c.hasOwnProperty(ee)&&Mt(i,o,ee,null,c,ne);for(be in c)ne=c[be],le=u[be],!c.hasOwnProperty(be)||ne===le||ne==null&&le==null||Mt(i,o,be,ne,c,le)}var qv=null,$v=null;function eh(i){return i.nodeType===9?i:i.ownerDocument}function ST(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function bT(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Kv(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Wv=null;function kj(){var i=window.event;return i&&i.type==="popstate"?i===Wv?!1:(Wv=i,!0):(Wv=null,!1)}var _T=typeof setTimeout=="function"?setTimeout:void 0,Nj=typeof clearTimeout=="function"?clearTimeout:void 0,ET=typeof Promise=="function"?Promise:void 0,Lj=typeof queueMicrotask=="function"?queueMicrotask:typeof ET<"u"?function(i){return ET.resolve(null).then(i).catch(Pj)}:_T;function Pj(i){setTimeout(function(){throw i})}function Qv(i,o){var u=o,c=0;do{var m=u.nextSibling;if(i.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(c===0){i.removeChild(m),_c(o);return}c--}else u!=="$"&&u!=="$?"&&u!=="$!"||c++;u=m}while(u);_c(o)}function Zv(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":Zv(u),ry(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function Uj(i,o,u,c){for(;i.nodeType===1;){var m=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Id])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(y=i.getAttribute("rel"),y==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(y!==m.rel||i.getAttribute("href")!==(m.href==null?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(y=i.getAttribute("src"),(y!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&y&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var y=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===y)return i}else return i;if(i=Pi(i.nextSibling),i===null)break}return null}function Vj(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=Pi(i.nextSibling),i===null))return null;return i}function Pi(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}function AT(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}function CT(i,o,u){switch(o=eh(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}var gi=new Map,wT=new Set;function th(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var Go=se.d;se.d={f:jj,r:Bj,D:xj,C:Hj,L:zj,m:Fj,X:qj,S:Gj,M:$j};function jj(){var i=Go.f(),o=Kp();return i||o}function Bj(i){var o=Vu(i);o!==null&&o.tag===5&&o.type==="form"?Yw(o):Go.r(i)}var hl=typeof document>"u"?null:document;function OT(i,o,u){var c=hl;if(c&&typeof o=="string"&&o){var m=ai(o);m='link[rel="'+i+'"][href="'+m+'"]',typeof u=="string"&&(m+='[crossorigin="'+u+'"]'),wT.has(m)||(wT.add(m),i={rel:i,crossOrigin:u,href:o},c.querySelector(m)===null&&(o=c.createElement("link"),Qn(o,"link",i),Dn(o),c.head.appendChild(o)))}}function xj(i){Go.D(i),OT("dns-prefetch",i,null)}function Hj(i,o){Go.C(i,o),OT("preconnect",i,o)}function zj(i,o,u){Go.L(i,o,u);var c=hl;if(c&&i&&o){var m='link[rel="preload"][as="'+ai(o)+'"]';o==="image"&&u&&u.imageSrcSet?(m+='[imagesrcset="'+ai(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(m+='[imagesizes="'+ai(u.imageSizes)+'"]')):m+='[href="'+ai(i)+'"]';var y=m;switch(o){case"style":y=ml(i);break;case"script":y=gl(i)}gi.has(y)||(i=z({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),gi.set(y,i),c.querySelector(m)!==null||o==="style"&&c.querySelector(hc(y))||o==="script"&&c.querySelector(mc(y))||(o=c.createElement("link"),Qn(o,"link",i),Dn(o),c.head.appendChild(o)))}}function Fj(i,o){Go.m(i,o);var u=hl;if(u&&i){var c=o&&typeof o.as=="string"?o.as:"script",m='link[rel="modulepreload"][as="'+ai(c)+'"][href="'+ai(i)+'"]',y=m;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=gl(i)}if(!gi.has(y)&&(i=z({rel:"modulepreload",href:i},o),gi.set(y,i),u.querySelector(m)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(mc(y)))return}c=u.createElement("link"),Qn(c,"link",i),Dn(c),u.head.appendChild(c)}}}function Gj(i,o,u){Go.S(i,o,u);var c=hl;if(c&&i){var m=ju(c).hoistableStyles,y=ml(i);o=o||"default";var C=m.get(y);if(!C){var R={loading:0,preload:null};if(C=c.querySelector(hc(y)))R.loading=5;else{i=z({rel:"stylesheet",href:i,"data-precedence":o},u),(u=gi.get(y))&&Jv(i,u);var H=C=c.createElement("link");Dn(H),Qn(H,"link",i),H._p=new Promise(function(Y,he){H.onload=Y,H.onerror=he}),H.addEventListener("load",function(){R.loading|=1}),H.addEventListener("error",function(){R.loading|=2}),R.loading|=4,nh(C,o,c)}C={type:"stylesheet",instance:C,count:1,state:R},m.set(y,C)}}}function qj(i,o){Go.X(i,o);var u=hl;if(u&&i){var c=ju(u).hoistableScripts,m=gl(i),y=c.get(m);y||(y=u.querySelector(mc(m)),y||(i=z({src:i,async:!0},o),(o=gi.get(m))&&Yv(i,o),y=u.createElement("script"),Dn(y),Qn(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function $j(i,o){Go.M(i,o);var u=hl;if(u&&i){var c=ju(u).hoistableScripts,m=gl(i),y=c.get(m);y||(y=u.querySelector(mc(m)),y||(i=z({src:i,async:!0,type:"module"},o),(o=gi.get(m))&&Yv(i,o),y=u.createElement("script"),Dn(y),Qn(y,"link",i),u.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},c.set(m,y))}}function TT(i,o,u,c){var m=(m=Se.current)?th(m):null;if(!m)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=ml(u.href),u=ju(m).hoistableStyles,c=u.get(o),c||(c={type:"style",instance:null,count:0,state:null},u.set(o,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=ml(u.href);var y=ju(m).hoistableStyles,C=y.get(i);if(C||(m=m.ownerDocument||m,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(i,C),(y=m.querySelector(hc(i)))&&!y._p&&(C.instance=y,C.state.loading=5),gi.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},gi.set(i,u),y||Kj(m,i,u,C.state))),o&&c===null)throw Error(r(528,""));return C}if(o&&c!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=gl(u),u=ju(m).hoistableScripts,c=u.get(o),c||(c={type:"script",instance:null,count:0,state:null},u.set(o,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function ml(i){return'href="'+ai(i)+'"'}function hc(i){return'link[rel="stylesheet"]['+i+"]"}function RT(i){return z({},i,{"data-precedence":i.precedence,precedence:null})}function Kj(i,o,u,c){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?c.loading=1:(o=i.createElement("link"),c.preload=o,o.addEventListener("load",function(){return c.loading|=1}),o.addEventListener("error",function(){return c.loading|=2}),Qn(o,"link",u),Dn(o),i.head.appendChild(o))}function gl(i){return'[src="'+ai(i)+'"]'}function mc(i){return"script[async]"+i}function IT(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var c=i.querySelector('style[data-href~="'+ai(u.href)+'"]');if(c)return o.instance=c,Dn(c),c;var m=z({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),Dn(c),Qn(c,"style",m),nh(c,u.precedence,i),o.instance=c;case"stylesheet":m=ml(u.href);var y=i.querySelector(hc(m));if(y)return o.state.loading|=4,o.instance=y,Dn(y),y;c=RT(u),(m=gi.get(m))&&Jv(c,m),y=(i.ownerDocument||i).createElement("link"),Dn(y);var C=y;return C._p=new Promise(function(R,H){C.onload=R,C.onerror=H}),Qn(y,"link",c),o.state.loading|=4,nh(y,u.precedence,i),o.instance=y;case"script":return y=gl(u.src),(m=i.querySelector(mc(y)))?(o.instance=m,Dn(m),m):(c=u,(m=gi.get(y))&&(c=z({},u),Yv(c,m)),i=i.ownerDocument||i,m=i.createElement("script"),Dn(m),Qn(m,"link",c),i.head.appendChild(m),o.instance=m);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&!(o.state.loading&4)&&(c=o.instance,o.state.loading|=4,nh(c,u.precedence,i));return o.instance}function nh(i,o,u){for(var c=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=c.length?c[c.length-1]:null,y=m,C=0;C<c.length;C++){var R=c[C];if(R.dataset.precedence===o)y=R;else if(y!==m)break}y?y.parentNode.insertBefore(i,y.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function Jv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Yv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var rh=null;function DT(i,o,u){if(rh===null){var c=new Map,m=rh=new Map;m.set(u,c)}else m=rh,c=m.get(u),c||(c=new Map,m.set(u,c));if(c.has(i))return c;for(c.set(i,null),u=u.getElementsByTagName(i),m=0;m<u.length;m++){var y=u[m];if(!(y[Id]||y[ar]||i==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var C=y.getAttribute(o)||"";C=i+C;var R=c.get(C);R?R.push(y):c.set(C,[y])}}return c}function MT(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function Wj(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function kT(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var gc=null;function Qj(){}function Zj(i,o,u){if(gc===null)throw Error(r(475));var c=gc;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&!(o.state.loading&4)){if(o.instance===null){var m=ml(u.href),y=i.querySelector(hc(m));if(y){i=y._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=ih.bind(c),i.then(c,c)),o.state.loading|=4,o.instance=y,Dn(y);return}y=i.ownerDocument||i,u=RT(u),(m=gi.get(m))&&Jv(u,m),y=y.createElement("link"),Dn(y);var C=y;C._p=new Promise(function(R,H){C.onload=R,C.onerror=H}),Qn(y,"link",u),o.instance=y}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(o,i),(i=o.state.preload)&&!(o.state.loading&3)&&(c.count++,o=ih.bind(c),i.addEventListener("load",o),i.addEventListener("error",o))}}function Jj(){if(gc===null)throw Error(r(475));var i=gc;return i.stylesheets&&i.count===0&&Xv(i,i.stylesheets),0<i.count?function(o){var u=setTimeout(function(){if(i.stylesheets&&Xv(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u)}}:null}function ih(){if(this.count--,this.count===0){if(this.stylesheets)Xv(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var oh=null;function Xv(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,oh=new Map,o.forEach(Yj,i),oh=null,ih.call(i))}function Yj(i,o){if(!(o.state.loading&4)){var u=oh.get(i);if(u)var c=u.get(null);else{u=new Map,oh.set(i,u);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<m.length;y++){var C=m[y];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(u.set(C.dataset.precedence,C),c=C)}c&&u.set(null,c)}m=o.instance,C=m.getAttribute("data-precedence"),y=u.get(C)||c,y===c&&u.set(null,m),u.set(C,m),this.count++,c=ih.bind(this),m.addEventListener("load",c),m.addEventListener("error",c),y?y.parentNode.insertBefore(m,y.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),o.state.loading|=4}}var yc={$$typeof:S,Provider:null,Consumer:null,_currentValue:we,_currentValue2:we,_threadCount:0};function Xj(i,o,u,c,m,y,C,R){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ty(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ty(0),this.hiddenUpdates=ty(null),this.identifierPrefix=c,this.onUncaughtError=m,this.onCaughtError=y,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function NT(i,o,u,c,m,y,C,R,H,Y,he,be){return i=new Xj(i,o,u,C,R,H,Y,be),o=1,y===!0&&(o|=24),y=hi(3,null,null,o),i.current=y,y.stateNode=i,o=My(),o.refCount++,i.pooledCache=o,o.refCount++,y.memoizedState={element:c,isDehydrated:u,cache:o},cv(y),i}function LT(i){return i?(i=Wu,i):Wu}function PT(i,o,u,c,m,y){m=LT(m),c.context===null?c.context=m:c.pendingContext=m,c=Ra(o),c.payload={element:u},y=y===void 0?null:y,y!==null&&(c.callback=y),u=Ia(i,c,o),u!==null&&(hr(u,i,o),ec(u,i,o))}function UT(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function eS(i,o){UT(i,o),(i=i.alternate)&&UT(i,o)}function VT(i){if(i.tag===13){var o=_a(i,67108864);o!==null&&hr(o,i,67108864),eS(i,67108864)}}var ah=!0;function eB(i,o,u,c){var m=W.T;W.T=null;var y=se.p;try{se.p=2,tS(i,o,u,c)}finally{se.p=y,W.T=m}}function tB(i,o,u,c){var m=W.T;W.T=null;var y=se.p;try{se.p=8,tS(i,o,u,c)}finally{se.p=y,W.T=m}}function tS(i,o,u,c){if(ah){var m=nS(c);if(m===null)Fv(i,o,c,sh,u),BT(i,c);else if(rB(m,i,o,u,c))c.stopPropagation();else if(BT(i,c),o&4&&-1<nB.indexOf(i)){for(;m!==null;){var y=Vu(m);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var C=ys(y.pendingLanes);if(C!==0){var R=y;for(R.pendingLanes|=2,R.entangledLanes|=2;C;){var H=1<<31-xr(C);R.entanglements[1]|=H,C&=~H}ro(y),!(Zt&6)&&(Gp=St()+500,cc(0))}}break;case 13:R=_a(y,2),R!==null&&hr(R,y,2),Kp(),eS(y,2)}if(y=nS(c),y===null&&Fv(i,o,c,sh,u),y===m)break;m=y}m!==null&&c.stopPropagation()}else Fv(i,o,c,null,u)}}function nS(i){return i=uy(i),rS(i)}var sh=null;function rS(i){if(sh=null,i=vs(i),i!==null){var o=J(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=re(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return sh=i,null}function jT(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tt()){case Nt:return 2;case $n:return 8;case In:case ga:return 32;case ya:return 268435456;default:return 32}default:return 32}}var iS=!1,Ua=null,Va=null,ja=null,vc=new Map,Sc=new Map,Ba=[],nB="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BT(i,o){switch(i){case"focusin":case"focusout":Ua=null;break;case"dragenter":case"dragleave":Va=null;break;case"mouseover":case"mouseout":ja=null;break;case"pointerover":case"pointerout":vc.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(o.pointerId)}}function bc(i,o,u,c,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:u,eventSystemFlags:c,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Vu(o),o!==null&&VT(o)),i):(i.eventSystemFlags|=c,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function rB(i,o,u,c,m){switch(o){case"focusin":return Ua=bc(Ua,i,o,u,c,m),!0;case"dragenter":return Va=bc(Va,i,o,u,c,m),!0;case"mouseover":return ja=bc(ja,i,o,u,c,m),!0;case"pointerover":var y=m.pointerId;return vc.set(y,bc(vc.get(y)||null,i,o,u,c,m)),!0;case"gotpointercapture":return y=m.pointerId,Sc.set(y,bc(Sc.get(y)||null,i,o,u,c,m)),!0}return!1}function xT(i){var o=vs(i.target);if(o!==null){var u=J(o);if(u!==null){if(o=u.tag,o===13){if(o=re(u),o!==null){i.blockedOn=o,JV(i.priority,function(){if(u.tag===13){var c=qr(),m=_a(u,c);m!==null&&hr(m,u,c),eS(u,c)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function uh(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=nS(i.nativeEvent);if(u===null){u=i.nativeEvent;var c=new u.constructor(u.type,u);sy=c,u.target.dispatchEvent(c),sy=null}else return o=Vu(u),o!==null&&VT(o),i.blockedOn=u,!1;o.shift()}return!0}function HT(i,o,u){uh(i)&&u.delete(o)}function iB(){iS=!1,Ua!==null&&uh(Ua)&&(Ua=null),Va!==null&&uh(Va)&&(Va=null),ja!==null&&uh(ja)&&(ja=null),vc.forEach(HT),Sc.forEach(HT)}function lh(i,o){i.blockedOn===o&&(i.blockedOn=null,iS||(iS=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,iB)))}var dh=null;function zT(i){dh!==i&&(dh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){dh===i&&(dh=null);for(var o=0;o<i.length;o+=3){var u=i[o],c=i[o+1],m=i[o+2];if(typeof c!="function"){if(rS(c||u)===null)continue;break}var y=Vu(u);y!==null&&(i.splice(o,3),o-=3,Ky(y,{pending:!0,data:m,method:u.method,action:c},c,m))}}))}function _c(i){function o(H){return lh(H,i)}Ua!==null&&lh(Ua,i),Va!==null&&lh(Va,i),ja!==null&&lh(ja,i),vc.forEach(o),Sc.forEach(o);for(var u=0;u<Ba.length;u++){var c=Ba[u];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ba.length&&(u=Ba[0],u.blockedOn===null);)xT(u),u.blockedOn===null&&Ba.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(c=0;c<u.length;c+=3){var m=u[c],y=u[c+1],C=m[Cr]||null;if(typeof y=="function")C||zT(u);else if(C){var R=null;if(y&&y.hasAttribute("formAction")){if(m=y,C=y[Cr]||null)R=C.formAction;else if(rS(m)!==null)continue}else R=C.action;typeof R=="function"?u[c+1]=R:(u.splice(c,3),c-=3),zT(u)}}}function oS(i){this._internalRoot=i}ch.prototype.render=oS.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,c=qr();PT(u,c,i,o,null,null)},ch.prototype.unmount=oS.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;i.tag===0&&cl(),PT(i.current,2,null,i,null,null),Kp(),o[Uu]=null}};function ch(i){this._internalRoot=i}ch.prototype.unstable_scheduleHydration=function(i){if(i){var o=gC();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Ba.length&&o!==0&&o<Ba[u].priority;u++);Ba.splice(u,0,i),u===0&&xT(i)}};var FT=t.version;if(FT!=="19.0.0")throw Error(r(527,FT,"19.0.0"));se.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=X(o),i=i!==null?ye(i):null,i=i===null?null:i.stateNode,i};var oB={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:W,findFiberByHostInstance:vs,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!fh.isDisabled&&fh.supportsFiber)try{Od=fh.inject(oB),Br=fh}catch{}}return Ac.createRoot=function(i,o){if(!a(i))throw Error(r(299));var u=!1,c="",m=aO,y=sO,C=uO,R=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(c=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(C=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(R=o.unstable_transitionCallbacks)),o=NT(i,1,!1,null,null,u,c,m,y,C,R,null),i[Uu]=o.current,zv(i.nodeType===8?i.parentNode:i),new oS(o)},Ac.hydrateRoot=function(i,o,u){if(!a(i))throw Error(r(299));var c=!1,m="",y=aO,C=sO,R=uO,H=null,Y=null;return u!=null&&(u.unstable_strictMode===!0&&(c=!0),u.identifierPrefix!==void 0&&(m=u.identifierPrefix),u.onUncaughtError!==void 0&&(y=u.onUncaughtError),u.onCaughtError!==void 0&&(C=u.onCaughtError),u.onRecoverableError!==void 0&&(R=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(H=u.unstable_transitionCallbacks),u.formState!==void 0&&(Y=u.formState)),o=NT(i,1,!0,o,u??null,c,m,y,C,R,H,Y),o.context=LT(null),u=o.current,c=qr(),m=Ra(c),m.callback=null,Ia(u,m,c),o.current.lanes=c,Rd(o,c),ro(o),i[Uu]=o.current,zv(i),new ch(o)},Ac.version="19.0.0",Ac}var XT;function gB(){if(XT)return sS.exports;XT=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),sS.exports=mB(),sS.exports}var yB=gB();const vB=uB(yB);var Mr=BE(),SB=dM();const bB=e=>{const t=Mr.useRef(null),[n,r]=Mr.useState(null);return Mr.useEffect(()=>{var s,l;const a=(l=(s=t.current)==null?void 0:s.contentDocument)==null?void 0:l.body;a&&r(a)},[]),wn.jsx("iframe",{ref:t,style:e.style,children:n&&SB.createPortal(e.children,n)})};function eR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eR(Object(n),!0).forEach(function(r){kb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mb(e){return Mb=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mb(e)}function Ji(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cM(r.key),r)}}function Yi(e,t,n){return t&&tR(e.prototype,t),n&&tR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kb(e,t,n){return(t=cM(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Am(e,t){if(e==null)return{};var n,r,a=function(l,d){if(l==null)return{};var f,p,h={},g=Object.keys(l);for(p=0;p<g.length;p++)f=g[p],d.indexOf(f)>=0||(h[f]=l[f]);return h}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function cM(e){var t=function(n,r){if(typeof n!="object"||n===null)return n;var a=n[Symbol.toPrimitive];if(a!==void 0){var s=a.call(n,r||"default");if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(r==="string"?String:Number)(n)}(e,"string");return typeof t=="symbol"?t:String(t)}var Nb=function(e,t){return Nb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},Nb(e,t)};function jr(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Nb(e,t),e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var rf=function(){return rf=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e},rf.apply(this,arguments)};function fM(e,t){var n,r,a,s,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:d(0),throw:d(1),return:d(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function d(f){return function(p){return function(h){if(n)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(l=0)),l;)try{if(n=1,r&&(a=2&h[0]?r.return:h[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,h[1])).done)return a;switch(r=0,a&&(h=[2&h[0],a.value]),h[0]){case 0:case 1:a=h;break;case 4:return l.label++,{value:h[1],done:!1};case 5:l.label++,r=h[1],h=[0];continue;case 7:h=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||h[0]!==6&&h[0]!==2)){l=0;continue}if(h[0]===3&&(!a||h[1]>a[0]&&h[1]<a[3])){l.label=h[1];break}if(h[0]===6&&l.label<a[1]){l.label=a[1],a=h;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(h);break}a[2]&&l.ops.pop(),l.trys.pop();continue}h=t.call(e,l)}catch(g){h=[6,g],r=0}finally{n=a=0}if(5&h[0])throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}([f,p])}}}function ud(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Wi(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r,a,s=n.call(e),l=[];try{for(;(t===void 0||t-- >0)&&!(r=s.next()).done;)l.push(r.value)}catch(d){a={error:d}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(a)throw a.error}}return l}function Co(e,t,n){if(arguments.length===2)for(var r,a=0,s=t.length;a<s;a++)!r&&a in t||(r||(r=Array.prototype.slice.call(t,0,a)),r[a]=t[a]);return e.concat(r||Array.prototype.slice.call(t))}function Nl(e){return this instanceof Nl?(this.v=e,this):new Nl(e)}function _B(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=ud(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(a){t[a]=e[a]&&function(s){return new Promise(function(l,d){(function(f,p,h,g){Promise.resolve(g).then(function(v){f({value:v,done:h})},p)})(l,d,(s=e[a](s)).done,s.value)})}}}function At(e){return typeof e=="function"}function Ff(e){var t=e(function(n){Error.call(n),n.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var fS=Ff(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,r){return r+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function Cm(e,t){if(e){var n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Gf=function(){function e(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}var t;return e.prototype.unsubscribe=function(){var n,r,a,s,l;if(!this.closed){this.closed=!0;var d=this._parentage;if(d)if(this._parentage=null,Array.isArray(d))try{for(var f=ud(d),p=f.next();!p.done;p=f.next())p.value.remove(this)}catch(_){n={error:_}}finally{try{p&&!p.done&&(r=f.return)&&r.call(f)}finally{if(n)throw n.error}}else d.remove(this);var h=this.initialTeardown;if(At(h))try{h()}catch(_){l=_ instanceof fS?_.errors:[_]}var g=this._finalizers;if(g){this._finalizers=null;try{for(var v=ud(g),S=v.next();!S.done;S=v.next()){var b=S.value;try{nR(b)}catch(_){l=l??[],_ instanceof fS?l=Co(Co([],Wi(l)),Wi(_.errors)):l.push(_)}}}catch(_){a={error:_}}finally{try{S&&!S.done&&(s=v.return)&&s.call(v)}finally{if(a)throw a.error}}}if(l)throw new fS(l)}},e.prototype.add=function(n){var r;if(n&&n!==this)if(this.closed)nR(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(r=this._finalizers)!==null&&r!==void 0?r:[]).push(n)}},e.prototype._hasParent=function(n){var r=this._parentage;return r===n||Array.isArray(r)&&r.includes(n)},e.prototype._addParent=function(n){var r=this._parentage;this._parentage=Array.isArray(r)?(r.push(n),r):r?[r,n]:n},e.prototype._removeParent=function(n){var r=this._parentage;r===n?this._parentage=null:Array.isArray(r)&&Cm(r,n)},e.prototype.remove=function(n){var r=this._finalizers;r&&Cm(r,n),n instanceof e&&n._removeParent(this)},e.EMPTY=((t=new e).closed=!0,t),e}(),pM=Gf.EMPTY;function hM(e){return e instanceof Gf||e&&"closed"in e&&At(e.remove)&&At(e.add)&&At(e.unsubscribe)}function nR(e){At(e)?e():e.unsubscribe()}var EB=void 0,AB={setTimeout:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];return setTimeout.apply(void 0,Co([e,t],Wi(n)))},clearTimeout:function(e){return clearTimeout(e)},delegate:void 0};function mM(e){AB.setTimeout(function(){throw e})}function bf(){}function Fh(e){e()}var xE=function(e){function t(n){var r=e.call(this)||this;return r.isStopped=!1,n?(r.destination=n,hM(n)&&n.add(r)):r.destination=wB,r}return jr(t,e),t.create=function(n,r,a){return new wm(n,r,a)},t.prototype.next=function(n){this.isStopped||this._next(n)},t.prototype.error=function(n){this.isStopped||(this.isStopped=!0,this._error(n))},t.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(n){this.destination.next(n)},t.prototype._error=function(n){try{this.destination.error(n)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Gf),CB=function(){function e(t){this.partialObserver=t}return e.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(r){ph(r)}},e.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(r){ph(r)}else ph(t)},e.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(n){ph(n)}},e}(),wm=function(e){function t(n,r,a){var s,l=e.call(this)||this;return At(n)||!n?s={next:n??void 0,error:r??void 0,complete:a??void 0}:s=n,l.destination=new CB(s),l}return jr(t,e),t}(xE);function ph(e){mM(e)}var wB={closed:!0,next:bf,error:function(e){throw e},complete:bf},HE=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Bg(e){return e}function Ou(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return gM(e)}function gM(e){return e.length===0?Bg:e.length===1?e[0]:function(t){return e.reduce(function(n,r){return r(n)},t)}}var on=function(){function e(t){t&&(this._subscribe=t)}return e.prototype.lift=function(t){var n=new e;return n.source=this,n.operator=t,n},e.prototype.subscribe=function(t,n,r){var a,s=this,l=(a=t)&&a instanceof xE||function(d){return d&&At(d.next)&&At(d.error)&&At(d.complete)}(a)&&hM(a)?t:new wm(t,n,r);return Fh(function(){var d=s,f=d.operator,p=d.source;l.add(f?f.call(l,p):p?s._subscribe(l):s._trySubscribe(l))}),l},e.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},e.prototype.forEach=function(t,n){var r=this;return new(n=rR(n))(function(a,s){var l=new wm({next:function(d){try{t(d)}catch(f){s(f),l.unsubscribe()}},error:s,complete:a});r.subscribe(l)})},e.prototype._subscribe=function(t){var n;return(n=this.source)===null||n===void 0?void 0:n.subscribe(t)},e.prototype[HE]=function(){return this},e.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return gM(t)(this)},e.prototype.toPromise=function(t){var n=this;return new(t=rR(t))(function(r,a){var s;n.subscribe(function(l){return s=l},function(l){return a(l)},function(){return r(s)})})},e.create=function(t){return new e(t)},e}();function rR(e){var t;return(t=e??EB)!==null&&t!==void 0?t:Promise}function qn(e){return function(t){if(function(n){return At(n==null?void 0:n.lift)}(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ln(e,t,n,r,a){return new OB(e,t,n,r,a)}var pS,OB=function(e){function t(n,r,a,s,l,d){var f=e.call(this,n)||this;return f.onFinalize=l,f.shouldUnsubscribe=d,f._next=r?function(p){try{r(p)}catch(h){n.error(h)}}:e.prototype._next,f._error=s?function(p){try{s(p)}catch(h){n.error(h)}finally{this.unsubscribe()}}:e.prototype._error,f._complete=a?function(){try{a()}catch(p){n.error(p)}finally{this.unsubscribe()}}:e.prototype._complete,f}return jr(t,e),t.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var r=this.closed;e.prototype.unsubscribe.call(this),!r&&((n=this.onFinalize)===null||n===void 0||n.call(this))}},t}(xE),TB=Ff(function(e){return function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),Ti=function(e){function t(){var n=e.call(this)||this;return n.closed=!1,n.currentObservers=null,n.observers=[],n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return jr(t,e),t.prototype.lift=function(n){var r=new iR(this,this);return r.operator=n,r},t.prototype._throwIfClosed=function(){if(this.closed)throw new TB},t.prototype.next=function(n){var r=this;Fh(function(){var a,s;if(r._throwIfClosed(),!r.isStopped){r.currentObservers||(r.currentObservers=Array.from(r.observers));try{for(var l=ud(r.currentObservers),d=l.next();!d.done;d=l.next())d.value.next(n)}catch(f){a={error:f}}finally{try{d&&!d.done&&(s=l.return)&&s.call(l)}finally{if(a)throw a.error}}}})},t.prototype.error=function(n){var r=this;Fh(function(){if(r._throwIfClosed(),!r.isStopped){r.hasError=r.isStopped=!0,r.thrownError=n;for(var a=r.observers;a.length;)a.shift().error(n)}})},t.prototype.complete=function(){var n=this;Fh(function(){if(n._throwIfClosed(),!n.isStopped){n.isStopped=!0;for(var r=n.observers;r.length;)r.shift().complete()}})},t.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(t.prototype,"observed",{get:function(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0},enumerable:!1,configurable:!0}),t.prototype._trySubscribe=function(n){return this._throwIfClosed(),e.prototype._trySubscribe.call(this,n)},t.prototype._subscribe=function(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)},t.prototype._innerSubscribe=function(n){var r=this,a=this,s=a.hasError,l=a.isStopped,d=a.observers;return s||l?pM:(this.currentObservers=null,d.push(n),new Gf(function(){r.currentObservers=null,Cm(d,n)}))},t.prototype._checkFinalizedStatuses=function(n){var r=this,a=r.hasError,s=r.thrownError,l=r.isStopped;a?n.error(s):l&&n.complete()},t.prototype.asObservable=function(){var n=new on;return n.source=this,n},t.create=function(n,r){return new iR(n,r)},t}(on),iR=function(e){function t(n,r){var a=e.call(this)||this;return a.destination=n,a.source=r,a}return jr(t,e),t.prototype.next=function(n){var r,a;(a=(r=this.destination)===null||r===void 0?void 0:r.next)===null||a===void 0||a.call(r,n)},t.prototype.error=function(n){var r,a;(a=(r=this.destination)===null||r===void 0?void 0:r.error)===null||a===void 0||a.call(r,n)},t.prototype.complete=function(){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||r===void 0||r.call(n)},t.prototype._subscribe=function(n){var r,a;return(a=(r=this.source)===null||r===void 0?void 0:r.subscribe(n))!==null&&a!==void 0?a:pM},t}(Ti),RB=function(e){function t(n){var r=e.call(this)||this;return r._value=n,r}return jr(t,e),Object.defineProperty(t.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),t.prototype._subscribe=function(n){var r=e.prototype._subscribe.call(this,n);return!r.closed&&n.next(this._value),r},t.prototype.getValue=function(){var n=this,r=n.hasError,a=n.thrownError,s=n._value;if(r)throw a;return this._throwIfClosed(),s},t.prototype.next=function(n){e.prototype.next.call(this,this._value=n)},t}(Ti),zE={now:function(){return(zE.delegate||Date).now()},delegate:void 0},IB=function(e){function t(n,r,a){n===void 0&&(n=1/0),r===void 0&&(r=1/0),a===void 0&&(a=zE);var s=e.call(this)||this;return s._bufferSize=n,s._windowTime=r,s._timestampProvider=a,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=r===1/0,s._bufferSize=Math.max(1,n),s._windowTime=Math.max(1,r),s}return jr(t,e),t.prototype.next=function(n){var r=this,a=r.isStopped,s=r._buffer,l=r._infiniteTimeWindow,d=r._timestampProvider,f=r._windowTime;a||(s.push(n),!l&&s.push(d.now()+f)),this._trimBuffer(),e.prototype.next.call(this,n)},t.prototype._subscribe=function(n){this._throwIfClosed(),this._trimBuffer();for(var r=this._innerSubscribe(n),a=this._infiniteTimeWindow,s=this._buffer.slice(),l=0;l<s.length&&!n.closed;l+=a?1:2)n.next(s[l]);return this._checkFinalizedStatuses(n),r},t.prototype._trimBuffer=function(){var n=this,r=n._bufferSize,a=n._timestampProvider,s=n._buffer,l=n._infiniteTimeWindow,d=(l?1:2)*r;if(r<1/0&&d<s.length&&s.splice(0,s.length-d),!l){for(var f=a.now(),p=0,h=1;h<s.length&&s[h]<=f;h+=2)p=h;p&&s.splice(0,p+1)}},t}(Ti),DB=function(e){function t(n,r){return e.call(this)||this}return jr(t,e),t.prototype.schedule=function(n,r){return this},t}(Gf),Lb={setInterval:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var a=Lb.delegate;return a!=null&&a.setInterval?a.setInterval.apply(a,Co([e,t],Wi(n))):setInterval.apply(void 0,Co([e,t],Wi(n)))},clearInterval:function(e){return clearInterval(e)},delegate:void 0},FE=function(e){function t(n,r){var a=e.call(this,n,r)||this;return a.scheduler=n,a.work=r,a.pending=!1,a}return jr(t,e),t.prototype.schedule=function(n,r){var a;if(r===void 0&&(r=0),this.closed)return this;this.state=n;var s=this.id,l=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(l,s,r)),this.pending=!0,this.delay=r,this.id=(a=this.id)!==null&&a!==void 0?a:this.requestAsyncId(l,this.id,r),this},t.prototype.requestAsyncId=function(n,r,a){return a===void 0&&(a=0),Lb.setInterval(n.flush.bind(n,this),a)},t.prototype.recycleAsyncId=function(n,r,a){if(a===void 0&&(a=0),a!=null&&this.delay===a&&this.pending===!1)return r;r!=null&&Lb.clearInterval(r)},t.prototype.execute=function(n,r){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var a=this._execute(n,r);if(a)return a;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},t.prototype._execute=function(n,r){var a,s=!1;try{this.work(n)}catch(l){s=!0,a=l||new Error("Scheduled action threw falsy error")}if(s)return this.unsubscribe(),a},t.prototype.unsubscribe=function(){if(!this.closed){var n=this.id,r=this.scheduler,a=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,Cm(a,this),n!=null&&(this.id=this.recycleAsyncId(r,n,null)),this.delay=null,e.prototype.unsubscribe.call(this)}},t}(DB),MB=1,Pb={};function yM(e){return e in Pb&&(delete Pb[e],!0)}var kB=function(e){var t=MB++;return Pb[t]=!0,pS||(pS=Promise.resolve()),pS.then(function(){return yM(t)&&e()}),t},Ub={setImmediate:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=Ub.delegate;return((n==null?void 0:n.setImmediate)||kB).apply(void 0,Co([],Wi(e)))},clearImmediate:function(e){return function(t){yM(t)}(e)},delegate:void 0},NB=function(e){function t(n,r){var a=e.call(this,n,r)||this;return a.scheduler=n,a.work=r,a}return jr(t,e),t.prototype.requestAsyncId=function(n,r,a){return a===void 0&&(a=0),a!==null&&a>0?e.prototype.requestAsyncId.call(this,n,r,a):(n.actions.push(this),n._scheduled||(n._scheduled=Ub.setImmediate(n.flush.bind(n,void 0))))},t.prototype.recycleAsyncId=function(n,r,a){var s;if(a===void 0&&(a=0),a!=null?a>0:this.delay>0)return e.prototype.recycleAsyncId.call(this,n,r,a);var l=n.actions;r!=null&&((s=l[l.length-1])===null||s===void 0?void 0:s.id)!==r&&(Ub.clearImmediate(r),n._scheduled===r&&(n._scheduled=void 0))},t}(FE),oR=function(){function e(t,n){n===void 0&&(n=e.now),this.schedulerActionCtor=t,this.now=n}return e.prototype.schedule=function(t,n,r){return n===void 0&&(n=0),new this.schedulerActionCtor(this,t).schedule(r,n)},e.now=zE.now,e}(),GE=function(e){function t(n,r){r===void 0&&(r=oR.now);var a=e.call(this,n,r)||this;return a.actions=[],a._active=!1,a}return jr(t,e),t.prototype.flush=function(n){var r=this.actions;if(this._active)r.push(n);else{var a;this._active=!0;do if(a=n.execute(n.state,n.delay))break;while(n=r.shift());if(this._active=!1,a){for(;n=r.shift();)n.unsubscribe();throw a}}},t}(oR),qf=new(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return jr(t,e),t.prototype.flush=function(n){this._active=!0;var r=this._scheduled;this._scheduled=void 0;var a,s=this.actions;n=n||s.shift();do if(a=n.execute(n.state,n.delay))break;while((n=s[0])&&n.id===r&&s.shift());if(this._active=!1,a){for(;(n=s[0])&&n.id===r&&s.shift();)n.unsubscribe();throw a}},t}(GE))(NB),ha=new GE(FE),LB=ha,PB=function(e){function t(n,r){var a=e.call(this,n,r)||this;return a.scheduler=n,a.work=r,a}return jr(t,e),t.prototype.schedule=function(n,r){return r===void 0&&(r=0),r>0?e.prototype.schedule.call(this,n,r):(this.delay=r,this.state=n,this.scheduler.flush(this),this)},t.prototype.execute=function(n,r){return r>0||this.closed?e.prototype.execute.call(this,n,r):this._execute(n,r)},t.prototype.requestAsyncId=function(n,r,a){return a===void 0&&(a=0),a!=null&&a>0||a==null&&this.delay>0?e.prototype.requestAsyncId.call(this,n,r,a):(n.flush(this),0)},t}(FE),aR=new(function(e){function t(){return e!==null&&e.apply(this,arguments)||this}return jr(t,e),t}(GE))(PB),_e=new on(function(e){return e.complete()});function vM(e){return e&&At(e.schedule)}function qE(e){return e[e.length-1]}function SM(e){return At(qE(e))?e.pop():void 0}function xg(e){return vM(qE(e))?e.pop():void 0}var $E=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function bM(e){return At(e==null?void 0:e.then)}function _M(e){return At(e[HE])}function EM(e){return Symbol.asyncIterator&&At(e==null?void 0:e[Symbol.asyncIterator])}function AM(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var CM=typeof Symbol=="function"&&Symbol.iterator?Symbol.iterator:"@@iterator";function wM(e){return At(e==null?void 0:e[CM])}function OM(e){return function(t,n,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a,s=r.apply(t,n||[]),l=[];return a={},d("next"),d("throw"),d("return"),a[Symbol.asyncIterator]=function(){return this},a;function d(v){s[v]&&(a[v]=function(S){return new Promise(function(b,_){l.push([v,S,b,_])>1||f(v,S)})})}function f(v,S){try{(function(b){b.value instanceof Nl?Promise.resolve(b.value.v).then(p,h):g(l[0][2],b)})(s[v](S))}catch(b){g(l[0][3],b)}}function p(v){f("next",v)}function h(v){f("throw",v)}function g(v,S){v(S),l.shift(),l.length&&f(l[0][0],l[0][1])}}(this,arguments,function(){var t,n,r;return fM(this,function(a){switch(a.label){case 0:t=e.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Nl(t.read())];case 3:return n=a.sent(),r=n.value,n.done?[4,Nl(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Nl(r)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function TM(e){return At(e==null?void 0:e.getReader)}function Fn(e){if(e instanceof on)return e;if(e!=null){if(_M(e))return a=e,new on(function(s){var l=a[HE]();if(At(l.subscribe))return l.subscribe(s);throw new TypeError("Provided object does not correctly implement Symbol.observable")});if($E(e))return r=e,new on(function(s){for(var l=0;l<r.length&&!s.closed;l++)s.next(r[l]);s.complete()});if(bM(e))return n=e,new on(function(s){n.then(function(l){s.closed||(s.next(l),s.complete())},function(l){return s.error(l)}).then(null,mM)});if(EM(e))return sR(e);if(wM(e))return t=e,new on(function(s){var l,d;try{for(var f=ud(t),p=f.next();!p.done;p=f.next()){var h=p.value;if(s.next(h),s.closed)return}}catch(g){l={error:g}}finally{try{p&&!p.done&&(d=f.return)&&d.call(f)}finally{if(l)throw l.error}}s.complete()});if(TM(e))return sR(OM(e))}var t,n,r,a;throw AM(e)}function sR(e){return new on(function(t){(function(n,r){var a,s,l,d;return function(f,p,h,g){return new(h||(h=Promise))(function(v,S){function b(A){try{E(g.next(A))}catch(w){S(w)}}function _(A){try{E(g.throw(A))}catch(w){S(w)}}function E(A){var w;A.done?v(A.value):(w=A.value,w instanceof h?w:new h(function(O){O(w)})).then(b,_)}E((g=g.apply(f,[])).next())})}(this,void 0,void 0,function(){var f,p;return fM(this,function(h){switch(h.label){case 0:h.trys.push([0,5,6,11]),a=_B(n),h.label=1;case 1:return[4,a.next()];case 2:if((s=h.sent()).done)return[3,4];if(f=s.value,r.next(f),r.closed)return[2];h.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return p=h.sent(),l={error:p},[3,11];case 6:return h.trys.push([6,,9,10]),s&&!s.done&&(d=a.return)?[4,d.call(a)]:[3,8];case 7:h.sent(),h.label=8;case 8:return[3,10];case 9:if(l)throw l.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}})})})(e,t).catch(function(n){return t.error(n)})})}function ps(e,t,n,r,a){r===void 0&&(r=0),a===void 0&&(a=!1);var s=t.schedule(function(){n(),a?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(s),!a)return s}function Sr(e,t){return t===void 0&&(t=0),qn(function(n,r){n.subscribe(ln(r,function(a){return ps(r,e,function(){return r.next(a)},t)},function(){return ps(r,e,function(){return r.complete()},t)},function(a){return ps(r,e,function(){return r.error(a)},t)}))})}function Vb(e,t){return t===void 0&&(t=0),qn(function(n,r){r.add(e.schedule(function(){return n.subscribe(r)},t))})}function uR(e,t){if(!e)throw new Error("Iterable cannot be null");return new on(function(n){ps(n,t,function(){var r=e[Symbol.asyncIterator]();ps(n,t,function(){r.next().then(function(a){a.done?n.complete():n.next(a.value)})},0,!0)})})}function ve(e,t){return t?function(n,r){if(n!=null){if(_M(n))return function(a,s){return Fn(a).pipe(Vb(s),Sr(s))}(n,r);if($E(n))return function(a,s){return new on(function(l){var d=0;return s.schedule(function(){d===a.length?l.complete():(l.next(a[d++]),l.closed||this.schedule())})})}(n,r);if(bM(n))return function(a,s){return Fn(a).pipe(Vb(s),Sr(s))}(n,r);if(EM(n))return uR(n,r);if(wM(n))return function(a,s){return new on(function(l){var d;return ps(l,s,function(){d=a[CM](),ps(l,s,function(){var f,p,h;try{p=(f=d.next()).value,h=f.done}catch(g){return void l.error(g)}h?l.complete():l.next(p)},0,!0)}),function(){return At(d==null?void 0:d.return)&&d.return()}})}(n,r);if(TM(n))return function(a,s){return uR(OM(a),s)}(n,r)}throw AM(n)}(e,t):Fn(e)}function yt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return ve(e,xg(e))}function lu(e,t){var n=At(e)?e:function(){return e},r=function(a){return a.error(n())};return new on(r)}var UB=Ff(function(e){return function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}});function or(e,t){return new Promise(function(n,r){var a=new wm({next:function(s){n(s),a.unsubscribe()},error:r,complete:function(){r(new UB)}});e.subscribe(a)})}function RM(e){return e instanceof Date&&!isNaN(e)}var VB=Ff(function(e){return function(t){t===void 0&&(t=null),e(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=t}});function IM(e,t){var n=RM(e)?{first:e}:typeof e=="number"?{each:e}:e,r=n.first,a=n.each,s=n.with,l=s===void 0?jB:s,d=n.scheduler,f=d===void 0?ha:d,p=n.meta,h=p===void 0?null:p;if(r==null&&a==null)throw new TypeError("No timeout provided.");return qn(function(g,v){var S,b,_=null,E=0,A=function(w){b=ps(v,f,function(){try{S.unsubscribe(),Fn(l({meta:h,lastValue:_,seen:E})).subscribe(v)}catch(O){v.error(O)}},w)};S=g.subscribe(ln(v,function(w){b==null||b.unsubscribe(),E++,v.next(_=w),a>0&&A(a)},void 0,void 0,function(){b!=null&&b.closed||b==null||b.unsubscribe(),_=null})),!E&&A(r!=null?typeof r=="number"?r:+r-f.now():a)})}function jB(e){throw new VB(e)}function Ae(e,t){return qn(function(n,r){var a=0;n.subscribe(ln(r,function(s){r.next(e.call(t,s,a++))}))})}var BB=Array.isArray;function KE(e){return Ae(function(t){return function(n,r){return BB(r)?n.apply(void 0,Co([],Wi(r))):n(r)}(e,t)})}var xB=Array.isArray,HB=Object.getPrototypeOf,zB=Object.prototype,FB=Object.keys;function ue(e,t,n){return n===void 0&&(n=1/0),At(t)?ue(function(r,a){return Ae(function(s,l){return t(r,s,a,l)})(Fn(e(r,a)))},n):(typeof t=="number"&&(n=t),qn(function(r,a){return function(s,l,d,f,p,h,g,v){var S=[],b=0,_=0,E=!1,A=function(){!E||S.length||b||l.complete()},w=function(I){return b<f?O(I):S.push(I)},O=function(I){b++;var V=!1;Fn(d(I,_++)).subscribe(ln(l,function(U){l.next(U)},function(){V=!0},void 0,function(){if(V)try{b--;for(var U=function(){var x=S.shift();O(x)};S.length&&b<f;)U();A()}catch(x){l.error(x)}}))};return s.subscribe(ln(l,w,function(){E=!0,A()})),function(){}}(r,a,e,n)}))}function DM(e){return e===void 0&&(e=1/0),ue(Bg,e)}function ld(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return DM(1)(ve(e,xg(e)))}function Hg(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=SM(e),r=function(d){if(d.length===1){var f=d[0];if(xB(f))return{args:f,keys:null};if((h=f)&&typeof h=="object"&&HB(h)===zB){var p=FB(f);return{args:p.map(function(g){return f[g]}),keys:p}}}var h;return{args:d,keys:null}}(e),a=r.args,s=r.keys,l=new on(function(d){var f=a.length;if(f)for(var p=new Array(f),h=f,g=f,v=function(b){var _=!1;Fn(a[b]).subscribe(ln(d,function(E){_||(_=!0,g--),p[b]=E},function(){return h--},void 0,function(){h&&_||(g||d.next(s?function(E,A){return E.reduce(function(w,O,I){return w[O]=A[I],w},{})}(s,p):p),d.complete())}))},S=0;S<f;S++)v(S);else d.complete()});return n?l.pipe(KE(n)):l}var GB=["addListener","removeListener"],qB=["addEventListener","removeEventListener"],$B=["on","off"];function Ft(e,t,n,r){if(At(n)&&(r=n,n=void 0),r)return Ft(e,t,n).pipe(KE(r));var a=Wi(function(d){return At(d.addEventListener)&&At(d.removeEventListener)}(e)?qB.map(function(d){return function(f){return e[d](t,f,n)}}):function(d){return At(d.addListener)&&At(d.removeListener)}(e)?GB.map(lR(e,t)):function(d){return At(d.on)&&At(d.off)}(e)?$B.map(lR(e,t)):[],2),s=a[0],l=a[1];if(!s&&$E(e))return ue(function(d){return Ft(d,t,n)})(Fn(e));if(!s)throw new TypeError("Invalid event target");return new on(function(d){var f=function(){for(var p=[],h=0;h<arguments.length;h++)p[h]=arguments[h];return d.next(1<p.length?p:p[0])};return s(f),function(){return l(f)}})}function lR(e,t){return function(n){return function(r){return e[n](t,r)}}}function ss(e,t,n){return n?ss(e,t).pipe(KE(n)):new on(function(r){var a=function(){for(var l=[],d=0;d<arguments.length;d++)l[d]=arguments[d];return r.next(l.length===1?l[0]:l)},s=e(a);return At(t)?function(){return t(a,s)}:void 0})}function On(e,t,n){e===void 0&&(e=0),n===void 0&&(n=LB);var r=-1;return t!=null&&(vM(t)?n=t:r=t),new on(function(a){var s=RM(e)?+e-n.now():e;s<0&&(s=0);var l=0;return n.schedule(function(){a.closed||(a.next(l++),0<=r?this.schedule(void 0,r):a.complete())},s)})}function du(e,t){return e===void 0&&(e=0),t===void 0&&(t=ha),e<0&&(e=0),On(e,e,t)}function vn(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=xg(e),r=function(s,l){return typeof qE(s)=="number"?s.pop():1/0}(e),a=e;return a.length?a.length===1?Fn(a[0]):DM(r)(ve(a,n)):_e}var KB=Array.isArray;function WB(e,t){return function(n,r){return!e.call(t,n,r)}}function oe(e,t){return qn(function(n,r){var a=0;n.subscribe(ln(r,function(s){return e.call(t,s,a++)&&r.next(s)}))})}function Ri(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(t=(e=t).length===1&&KB(e[0])?e[0]:e).length===1?Fn(t[0]):new on(function(r){return function(a){for(var s=[],l=function(f){s.push(Fn(r[f]).subscribe(ln(a,function(p){if(s){for(var h=0;h<s.length;h++)h!==f&&s[h].unsubscribe();s=null}a.next(p)})))},d=0;s&&!a.closed&&d<r.length;d++)l(d)}}(t))}function qi(e){return qn(function(t,n){var r,a=null,s=!1;a=t.subscribe(ln(n,void 0,void 0,function(l){r=Fn(e(l,qi(e)(t))),a?(a.unsubscribe(),a=null,r.subscribe(n)):s=!0})),s&&(a.unsubscribe(),a=null,r.subscribe(n))})}function ut(e){return e<=0?function(){return _e}:qn(function(t,n){var r=0;t.subscribe(ln(n,function(a){++r<=e&&(n.next(a),e<=r&&n.complete())}))})}function Lr(e){return Ae(function(){return e})}function MM(e,t){return t?function(n){return ld(t.pipe(ut(1),qn(function(r,a){r.subscribe(ln(a,bf))})),n.pipe(MM(e)))}:ue(function(n,r){return Fn(e(n,r)).pipe(ut(1),Lr(n))})}function dd(e,t){t===void 0&&(t=ha);var n=On(e,t);return MM(function(){return n})}function je(e,t,n){return n===void 0&&(n=1/0),At(t)?ue(function(){return e},t,n):ue(function(){return e},n)}function QB(e,t){return qn(function(n,r,a,s,l){return function(d,f){var p=a,h=r,g=0;d.subscribe(ln(f,function(v){var S=g++;h=p?n(h,v,S):(p=!0,v),f.next(h)},void 0))}}(e,t,arguments.length>=2))}function kM(e){return qn(function(t,n){var r=!1,a=0;t.subscribe(ln(n,function(s){return(r||(r=!e(s,a++)))&&n.next(s)}))})}function Ii(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=xg(e);return qn(function(r,a){(n?ld(e,r,n):ld(e,r)).subscribe(a)})}function it(e,t){return qn(function(n,r){var a=null,s=0,l=!1,d=function(){return l&&!a&&r.complete()};n.subscribe(ln(r,function(f){a==null||a.unsubscribe();var p=0,h=s++;Fn(e(f,h)).subscribe(a=ln(r,function(g){return r.next(t?t(f,g,h,p++):g)},function(){a=null,d()}))},function(){l=!0,d()}))})}function Ll(e){return qn(function(t,n){Fn(e).subscribe(ln(n,function(){return n.complete()},bf)),!n.closed&&t.subscribe(n)})}function cu(e,t){return t===void 0&&(t=!1),qn(function(n,r){var a=0;n.subscribe(ln(r,function(s){var l=e(s,a++);(l||t)&&r.next(s),!l&&r.complete()}))})}function De(e,t,n){var r=At(e)||t||n?{next:e,error:t,complete:n}:e;return r?qn(function(a,s){var l;(l=r.subscribe)===null||l===void 0||l.call(r);var d=!0;a.subscribe(ln(s,function(f){var p;(p=r.next)===null||p===void 0||p.call(r,f),s.next(f)},function(){var f;d=!1,(f=r.complete)===null||f===void 0||f.call(r),s.complete()},function(f){var p;d=!1,(p=r.error)===null||p===void 0||p.call(r,f),s.error(f)},function(){var f,p;d&&((f=r.unsubscribe)===null||f===void 0||f.call(r)),(p=r.finalize)===null||p===void 0||p.call(r)}))}):Bg}function Ie(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=SM(e);return qn(function(r,a){for(var s=e.length,l=new Array(s),d=e.map(function(){return!1}),f=!1,p=function(g){Fn(e[g]).subscribe(ln(a,function(v){l[g]=v,f||d[g]||(d[g]=!0,(f=d.every(Bg))&&(d=null))},bf))},h=0;h<s;h++)p(h);r.subscribe(ln(a,function(g){if(f){var v=Co([g],Wi(l));a.next(n?n.apply(void 0,Co([],Wi(v))):v)}}))})}function of(e){return of=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},of(e)}function ZB(e,t,n){return(t=function(r){var a=function(s,l){if(of(s)!=="object"||s===null)return s;var d=s[Symbol.toPrimitive];if(d!==void 0){var f=d.call(s,"string");if(of(f)!=="object")return f;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(s)}(r);return of(a)==="symbol"?a:String(a)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,r)}return n}function cR(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dR(Object(n),!0).forEach(function(r){ZB(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dR(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var fR=typeof Symbol=="function"&&Symbol.observable||"@@observable",hS=function(){return Math.random().toString(36).substring(7).split("").join(".")},Om={INIT:"@@redux/INIT"+hS(),REPLACE:"@@redux/REPLACE"+hS(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+hS()}};function NM(e,t,n){var r;if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(lr(0));if(typeof t=="function"&&n===void 0&&(n=t,t=void 0),n!==void 0){if(typeof n!="function")throw new Error(lr(1));return n(NM)(e,t)}if(typeof e!="function")throw new Error(lr(2));var a=e,s=t,l=[],d=l,f=!1;function p(){d===l&&(d=l.slice())}function h(){if(f)throw new Error(lr(3));return s}function g(S){if(typeof S!="function")throw new Error(lr(4));if(f)throw new Error(lr(5));var b=!0;return p(),d.push(S),function(){if(b){if(f)throw new Error(lr(6));b=!1,p();var _=d.indexOf(S);d.splice(_,1),l=null}}}function v(S){if(!function(E){if(typeof E!="object"||E===null)return!1;for(var A=E;Object.getPrototypeOf(A)!==null;)A=Object.getPrototypeOf(A);return Object.getPrototypeOf(E)===A}(S))throw new Error(lr(7));if(S.type===void 0)throw new Error(lr(8));if(f)throw new Error(lr(9));try{f=!0,s=a(s,S)}finally{f=!1}for(var b=l=d,_=0;_<b.length;_++)(0,b[_])();return S}return v({type:Om.INIT}),(r={dispatch:v,subscribe:g,getState:h,replaceReducer:function(S){if(typeof S!="function")throw new Error(lr(10));a=S,v({type:Om.REPLACE})}})[fR]=function(){var S,b=g;return(S={subscribe:function(_){if(typeof _!="object"||_===null)throw new Error(lr(11));function E(){_.next&&_.next(h())}return E(),{unsubscribe:b(E)}}})[fR]=function(){return this},S},r}function LM(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(r){return r}:t.length===1?t[0]:t.reduce(function(r,a){return function(){return r(a.apply(void 0,arguments))}})}var jb=function(e,t){return jb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(n[a]=r[a])},jb(e,t)},JB=function(e){function t(n,r){var a=e.call(this,function(s){var l=a.__notifier.subscribe(s);return l&&!l.closed&&s.next(a.value),l})||this;return a.__notifier=new Ti,a.value=r,n.subscribe(function(s){s!==a.value&&(a.value=s,a.__notifier.next(s))}),a}return function(n,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function a(){this.constructor=n}jb(n,r),n.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}(t,e),t}(on),pR=function(e,t){return e===t||typeof t=="function"&&e===t.toString()};function ke(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.length;return oe(n===1?function(r){return pR(r.type,e[0])}:function(r){for(var a=0;a<n;a++)if(pR(r.type,e[a]))return!0;return!1})}var YB=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function hh(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}function mh(e,t){Object.defineProperty(this,"kind",{value:e,enumerable:!0}),t&&t.length&&Object.defineProperty(this,"path",{value:t,enumerable:!0})}(typeof global>"u"?"undefined":YB(global))==="object"&&global?global:typeof window<"u",hh(function e(t,n,r){e.super_.call(this,"E",t),Object.defineProperty(this,"lhs",{value:n,enumerable:!0}),Object.defineProperty(this,"rhs",{value:r,enumerable:!0})},mh),hh(function e(t,n){e.super_.call(this,"N",t),Object.defineProperty(this,"rhs",{value:n,enumerable:!0})},mh),hh(function e(t,n){e.super_.call(this,"D",t),Object.defineProperty(this,"lhs",{value:n,enumerable:!0})},mh),hh(function e(t,n,r){e.super_.call(this,"A",t),Object.defineProperty(this,"index",{value:n,enumerable:!0}),Object.defineProperty(this,"item",{value:r,enumerable:!0})},mh);const Bs=!1;var fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function hR(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function PM(e){if(e.__esModule)return e;var t=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(e).forEach(function(n){var r=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,r.get?r:{enumerable:!0,get:function(){return e[n]}})}),t}var ql=function(e,t,n,r,a,s,l,d){if(!e){var f;if(t===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var p=[n,r,a,s,l,d],h=0;(f=new Error(t.replace(/%s/g,function(){return p[h++]}))).name="Invariant Violation"}throw f.framesToPop=1,f}},yu=function(e){return typeof e=="function"},XB=function(e){return e.length===0},mR=function(e){return e.toString()},mS=function(e){return typeof e=="string"},WE="/",Gh="||",vu=function(e){return e},gR=function(e){return e===null};function xt(e,t,n){t===void 0&&(t=vu),ql(yu(t)||gR(t),"Expected payloadCreator to be a function, undefined or null");var r=gR(t)||t===vu?vu:function(d){for(var f=arguments.length,p=new Array(f>1?f-1:0),h=1;h<f;h++)p[h-1]=arguments[h];return d instanceof Error?d:t.apply(void 0,[d].concat(p))},a=yu(n),s=e.toString(),l=function(){var d=r.apply(void 0,arguments),f={type:e};return d instanceof Error&&(f.error=!0),d!==void 0&&(f.payload=d),a&&(f.meta=n.apply(void 0,arguments)),f};return l.toString=function(){return s},l}var cd=function(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},yR=function(e){return Array.isArray(e)},UM=function(e){return e==null},ex=/\s/,tx=/(_|-|\.|:)/,nx=/([a-z][A-Z]|[A-Z][a-z])/,rx=/[\W_]+(.|$)/g,ix=/(.)([A-Z]+)/g,ox=function(e){return ex.test(e)?e.toLowerCase():tx.test(e)?(function(t){return t.replace(rx,function(n,r){return r?" "+r:""})}(e)||e).toLowerCase():nx.test(e)?function(t){return t.replace(ix,function(n,r,a){return r+" "+a.toLowerCase().split("").join(" ")})}(e).toLowerCase():e.toLowerCase()},vR=function(e){return function(t){return ox(t).replace(/[\W_]+(.|$)/g,function(n,r){return r?" "+r:""}).trim()}(e).replace(/\s(\w)/g,function(t,n){return n.toUpperCase()})},VM=function(e){return e.indexOf("/")===-1?vR(e):e.split("/").map(vR).join("/")},Bb=function(e,t){return e.reduce(function(n,r){return t(n,r)},{})},zg=function(e){return typeof Map<"u"&&e instanceof Map};function QE(e){if(zg(e))return Array.from(e.keys());if(typeof Reflect<"u"&&typeof Reflect.ownKeys=="function")return Reflect.ownKeys(e);var t=Object.getOwnPropertyNames(e);return typeof Object.getOwnPropertySymbols=="function"&&(t=t.concat(Object.getOwnPropertySymbols(e))),t}function jM(e,t){return zg(t)?t.get(e):t[e]}var BM=function(e){return function t(n,r,a,s){var l=r===void 0?{}:r,d=l.namespace,f=d===void 0?WE:d,p=l.prefix;return a===void 0&&(a={}),s===void 0&&(s=""),QE(n).forEach(function(h){var g=function(S){return s||!p||p&&new RegExp("^"+p+f).test(S)?S:""+p+f+S}(function(S){var b;if(!s)return S;var _=S.toString().split(Gh),E=s.split(Gh);return(b=[]).concat.apply(b,E.map(function(A){return _.map(function(w){return""+A+f+w})})).join(Gh)}(h)),v=jM(h,n);e(v)?t(v,{namespace:f,prefix:p},a,g):a[g]=v}),a}},ax=BM(cd);function Tm(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(a){return Object.getOwnPropertyDescriptor(n,a).enumerable}))),r.forEach(function(a){sx(e,a,n[a])})}return e}function sx(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var a,s=cd((a=n)[a.length-1])?n.pop():{};return ql(n.every(mS)&&(mS(e)||cd(e)),"Expected optional object followed by string action types"),mS(e)?SR([e].concat(n),s):Tm({},function(l,d){return function(f,p){var h=p===void 0?{}:p,g=h.namespace,v=g===void 0?WE:g,S=h.prefix;function b(E,A,w){var O=VM(w.shift());XB(w)?A[O]=f[E]:(A[O]||(A[O]={}),b(E,A[O],w))}var _={};return Object.getOwnPropertyNames(f).forEach(function(E){var A=S?E.replace(""+S+v,""):E;return b(E,_,A.split(v))}),_}(xM(ax(l,d)),d)}(e,s),SR(n,s))}function xM(e,t){var n=t===void 0?{}:t,r=n.prefix,a=n.namespace,s=a===void 0?WE:a;return Bb(Object.keys(e),function(l,d){var f,p=e[d];ql(function(v){if(yu(v)||UM(v))return!0;if(yR(v)){var S=v[0],b=S===void 0?vu:S,_=v[1];return yu(b)&&yu(_)}return!1}(p),"Expected function, undefined, null, or array with payload and meta functions for "+d);var h=r?""+r+s+d:d,g=yR(p)?xt.apply(void 0,[h].concat(p)):xt(h,p);return Tm({},l,((f={})[d]=g,f))})}function SR(e,t){var n=xM(Bb(e,function(r,a){var s;return Tm({},r,((s={})[a]=vu,s))}),t);return Bb(Object.keys(n),function(r,a){var s;return Tm({},r,((s={})[VM(a)]=n[a],s))})}var ux=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=typeof t[t.length-1]!="function"&&t.pop(),a=t;if(r===void 0)throw new TypeError("The initial state may not be undefined. If you do not want to set a value for this reducer, you can use null instead of undefined.");return function(s,l){for(var d=arguments.length,f=Array(d>2?d-2:0),p=2;p<d;p++)f[p-2]=arguments[p];var h=s===void 0,g=l===void 0;return h&&g&&r?r:a.reduce(function(v,S){return S.apply(void 0,[v,l].concat(f))},h&&!g&&r?r:s)}},lx=BM(function(e){return(cd(e)||zg(e))&&!function(t){var n=QE(t),r=n.every(function(a){return a==="next"||a==="throw"});return n.length&&n.length<=2&&r}(e)});function br(e,t,n){n===void 0&&(n={}),ql(cd(e)||zg(e),"Expected handlers to be a plain object.");var r=lx(e,n),a=QE(r).map(function(l){return function(d,f,p){f===void 0&&(f=vu);var h=mR(d).split(Gh);ql(!function(b){return b===void 0}(p),"defaultState for reducer handling "+h.join(", ")+" should be defined"),ql(yu(f)||cd(f),"Expected reducer to be a function or object with next and throw reducers");var g=yu(f)?[f,f]:[f.next,f.throw].map(function(b){return UM(b)?vu:b}),v=g[0],S=g[1];return function(b,_){b===void 0&&(b=p);var E=_.type;return E&&h.indexOf(mR(E))!==-1?(_.error===!0?S:v)(b,_):b}}(l,jM(l,r),t)}),s=ux.apply(void 0,a.concat([t]));return function(l,d){return l===void 0&&(l=t),s(l,d)}}const qh=xt("CONNECT_ZOOM_SOCKET"),gS=xt("CONNECT_XMPP_SOCKET"),wo=xt("CLOSE_ZOOM_SOCKET"),HM=xt("CLOSE_XMPP_SOCKET"),Nu=xt("RECEIVE_MESSAGE_FROM_ZOOM_SOCKET"),dx=xt("RECEIVE_SHARING_PAYLOAD_FROM_ZOOM_SOCKET"),zM=xt("RECEIVE_MESSAGE_FROM_XMPP_SOCKET"),xb=xt("CONNECT_MAIN_SESSION_SOCKET"),FM=xt("CLOSE_MAIN_SESSION_SOCKET"),da=xt("RECEIVE_MESSAGE_FROM_MAIN_SESSION_SOCKET"),{setZoomSocketStatus:Pl,setRwgServersList:GM,setRwgRetryCount:qM,setXmppSocketStatus:$h,setMainSessionSocketStatus:Kh,resetSocket:$M}=bn("SET_ZOOM_SOCKET_STATUS","SET_RWG_SERVERS_LIST","SET_RWG_RETRY_COUNT","SET_XMPP_SOCKET_STATUS","SET_MAIN_SESSION_SOCKET_STATUS","RESET_SOCKET"),ZE=xt("CONNECT_TO_MEDIA_STREAM"),KM=xt("RECEIVE_PAYLOAD_FROM_MEDIA_SDK"),{setAudioEncodeStatus:Hb,setAudioDecodeStatus:zb,setVideoEncodeStatus:Fb,setVideoDecodeStatus:Gb,setSharingEncodeStatus:qb,setSharingDecodeStatus:Wh,setMediaConstraints:JE,setMediaEncryptKey:WM,setIsEnableDecoderInWorklet:QM,setPatchedMediaSdkStatus:Qh,setMediaAssetsPath:ZM,setIsEnableVideoAudioQos:JM,setIsAudioBridgeReceiveReady:YM,setIsAudioBridgeSendReady:XM,setIsMediaAgentInitialized:YE,resetMedia:ek}=bn("SET_AUDIO_ENCODE_STATUS","SET_AUDIO_DECODE_STATUS","SET_VIDEO_ENCODE_STATUS","SET_VIDEO_DECODE_STATUS","SET_SHARING_ENCODE_STATUS","SET_SHARING_DECODE_STATUS","SET_MEDIA_CONSTRAINTS","SET_MEDIA_ENCRYPT_KEY","SET_IS_ENABLE_DECODER_IN_WORKLET","SET_PATCHED_MEDIA_SDK_STATUS","SET_MEDIA_ASSETS_PATH","SET_IS_ENABLE_VIDEO_AUDIO_QOS","SET_IS_AUDIO_BRIDGE_RECEIVE_READY","SET_IS_AUDIO_BRIDGE_SEND_READY","SET_IS_MEDIA_AGENT_INITIALIZED","RESET_MEDIA");function cx(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),a=2;a<n;a++)r[a-2]=arguments[a];return e(yt(...r||[]),t,null)}function tk(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];return vn(...t.map(d=>{const f=d(...s);if(!f)throw new TypeError(`combineEpics: one of the provided Epics "${d.name||"<anonymous>"}" does not return a stream. Double check you're not missing a return statement!`);return f.pipe(qi((p,h)=>(setTimeout(()=>{throw p},0),h)))}))};try{Object.defineProperty(r,"name",{value:`combineEpics(${t.map(a=>a.name||"<anonymous>").join(", ")})`})}catch{}return r}function _r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return tk(...t.flatMap(r=>Object.values(r)))}function Ce(e,t){return e.pipe(ke(`${Nu}`),oe(n=>n.payload.evt===t))}function $l(e,t){return e.pipe(ke(`${da}`),oe(n=>n.payload.evt===t))}function Kl(e,t){return e.pipe(ke(`${zM}`),oe(n=>n.payload.evt===t))}function Ki(e,t){return e.pipe(ke(`${Nu}`,`${da}`),oe(n=>n.payload.evt===t))}function $e(e,t){return e.pipe(ke(`${KM}`),oe(n=>Array.isArray(t)?t.indexOf(n.payload.type)>-1:n.payload.type===t))}function XE(e,t){return e.pipe(ke(`${ZE}`),oe(()=>{const{media:{assetsPath:n,mediaConstraints:r}}=t.value;return n!==void 0&&r!==void 0}),it(()=>{const{media:{isMediaAgentInitialized:n}}=t.value;return n?ve([0]):e.pipe(ke(`${YE}`),oe(r=>!!r.payload),ut(1))}))}const nk="3.7.5",fx=nk,px=typeof atob=="function",hx=typeof btoa=="function",Cd=typeof Buffer=="function",bR=typeof TextDecoder=="function"?new TextDecoder:void 0,_R=typeof TextEncoder=="function"?new TextEncoder:void 0,Kc=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),gh=(e=>{let t={};return Kc.forEach((n,r)=>t[n]=r),t})(),mx=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,er=String.fromCharCode.bind(String),ER=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):e=>new Uint8Array(Array.prototype.slice.call(e,0)),rk=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),ik=e=>e.replace(/[^A-Za-z0-9\+\/]/g,""),ok=e=>{let t,n,r,a,s="";const l=e.length%3;for(let d=0;d<e.length;){if((n=e.charCodeAt(d++))>255||(r=e.charCodeAt(d++))>255||(a=e.charCodeAt(d++))>255)throw new TypeError("invalid character found");t=n<<16|r<<8|a,s+=Kc[t>>18&63]+Kc[t>>12&63]+Kc[t>>6&63]+Kc[63&t]}return l?s.slice(0,l-3)+"===".substring(l):s},eA=hx?e=>btoa(e):Cd?e=>Buffer.from(e,"binary").toString("base64"):ok,$b=Cd?e=>Buffer.from(e).toString("base64"):e=>{let t=[];for(let n=0,r=e.length;n<r;n+=4096)t.push(er.apply(null,e.subarray(n,n+4096)));return eA(t.join(""))},Zh=(e,t=!1)=>t?rk($b(e)):$b(e),gx=e=>{if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?er(192|t>>>6)+er(128|63&t):er(224|t>>>12&15)+er(128|t>>>6&63)+er(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return er(240|t>>>18&7)+er(128|t>>>12&63)+er(128|t>>>6&63)+er(128|63&t)},yx=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,ak=e=>e.replace(yx,gx),AR=Cd?e=>Buffer.from(e,"utf8").toString("base64"):_R?e=>$b(_R.encode(e)):e=>eA(ak(e)),Wl=(e,t=!1)=>t?rk(AR(e)):AR(e),CR=e=>Wl(e,!0),vx=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,Sx=e=>{switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return er(55296+(t>>>10))+er(56320+(1023&t));case 3:return er((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return er((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},sk=e=>e.replace(vx,Sx),uk=e=>{if(e=e.replace(/\s+/g,""),!mx.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));let t,n,r,a="";for(let s=0;s<e.length;)t=gh[e.charAt(s++)]<<18|gh[e.charAt(s++)]<<12|(n=gh[e.charAt(s++)])<<6|(r=gh[e.charAt(s++)]),a+=n===64?er(t>>16&255):r===64?er(t>>16&255,t>>8&255):er(t>>16&255,t>>8&255,255&t);return a},tA=px?e=>atob(ik(e)):Cd?e=>Buffer.from(e,"base64").toString("binary"):uk,lk=Cd?e=>ER(Buffer.from(e,"base64")):e=>ER(tA(e).split("").map(t=>t.charCodeAt(0))),dk=e=>lk(ck(e)),bx=Cd?e=>Buffer.from(e,"base64").toString("utf8"):bR?e=>bR.decode(lk(e)):e=>sk(tA(e)),ck=e=>ik(e.replace(/[-_]/g,t=>t=="-"?"+":"/")),Kb=e=>bx(ck(e)),fk=e=>({value:e,enumerable:!1,writable:!0,configurable:!0}),wR=function(){const e=(t,n)=>Object.defineProperty(String.prototype,t,fk(n));e("fromBase64",function(){return Kb(this)}),e("toBase64",function(t){return Wl(this,t)}),e("toBase64URI",function(){return Wl(this,!0)}),e("toBase64URL",function(){return Wl(this,!0)}),e("toUint8Array",function(){return dk(this)})},OR=function(){const e=(t,n)=>Object.defineProperty(Uint8Array.prototype,t,fk(n));e("toBase64",function(t){return Zh(this,t)}),e("toBase64URI",function(){return Zh(this,!0)}),e("toBase64URL",function(){return Zh(this,!0)})},Fg={version:nk,VERSION:fx,atob:tA,atobPolyfill:uk,btoa:eA,btoaPolyfill:ok,fromBase64:Kb,toBase64:Wl,encode:Wl,encodeURI:CR,encodeURL:CR,utob:ak,btou:sk,decode:Kb,isValid:e=>{if(typeof e!="string")return!1;const t=e.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(t)||!/[^\s0-9a-zA-Z\-_]/.test(t)},fromUint8Array:Zh,toUint8Array:dk,extendString:wR,extendUint8Array:OR,extendBuiltins:()=>{wR(),OR()}};function Wt(e){return Fg.encode(e,!0)}function Qi(e){return Fg.decode(e)}function pk(e){return Fg.encode(e,!1)}const _x={"-":"+",_:"/",".":"="};function ni(e){const t=e.replace(/[-_.]/g,n=>_x[n]);return Uint8Array.from(window.atob(t),n=>n.charCodeAt(0))}const hk=e=>{const t=e.charCodeAt(0);return t<=parseInt("0x7F",16)?1:t<=parseInt("0x7FF",16)?2:t<=parseInt("0xFFFF",16)?3:t<=parseInt("0x1FFFFF",16)?4:t<=parseInt("0x3FFFFFF",16)?5:6};function yS(e,t){return Object.keys(e).find(n=>e[n]===t)}const nA=(e,t)=>{const n=e.split(".").map(s=>Number(s)).slice(0,3),r=t.split(".").map(s=>Number(s)).slice(0,3);let a=0;for(let s=0;s<3;s++){const l=s<n.length?n[s]:0,d=s<r.length?r[s]:0;if(l<d){a=-1;break}if(l>d){a=1;break}}return a},Rm=e=>{var t;let n=new Date().getTime(),r=1e3*((t=performance)===null||t===void 0?void 0:t.now())||0;const a="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,s=>{let l=16*Math.random();return n>0?(l=(n+l)%16|0,n=Math.floor(n/16)):(l=(r+l)%16|0,r=Math.floor(r/16)),(s==="x"?l:3&l|8).toString(16)});return typeof e=="string"||typeof e=="number"?a+":"+e:a+""};function $f(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),a=n.length;if(r.length!==a)return!1;for(let s=0;s<a;s++){const l=n[s];if(e[l]!==t[l]||!Object.prototype.hasOwnProperty.call(t,l))return!1}return!0}const Nr=(e,t)=>e>>10==t>>10,rA=(e,t)=>new Promise(n=>{setTimeout(()=>{n(e())},t)}),sa=e=>{const t=`${Math.floor(1e4*Math.random())}`;return e.indexOf("@")>-1?e.replace("@",t):`${e}${t}`},$i=e=>{try{const t=new URL(e);return!(t.protocol==="data:"&&t.origin==="null")&&t.origin!==location.origin}catch{return!0}},Kf=e=>{const t=e.split(".")[1];if(typeof t=="string"){let n=t.replace(/-/g,"+").replace(/_/g,"/");switch(n.length%4){case 0:break;case 2:n+="==";break;case 3:n+="=";break;default:throw new Error("base64 string is not of the correct length")}try{const r=decodeURIComponent(window.atob(n).replace(/(.)/g,function(a,s){let l=s.charCodeAt(0).toString(16).toUpperCase();return l.length<2&&(l="0"+l),"%"+l}));return JSON.parse(r)}catch{console.error("Invalid token specified: invalid base64")}}};function iA(e){return e&&e.endsWith("/")?e.slice(0,e.length-1):e}function mk(e){return[...new Uint8Array(e)].map(t=>t.toString(16).padStart(2,"0")).join("")}function TR(e){return`${e.tagName}${e.id?`#${e.id}`:""}${e.className?`.${e.className}`:""}`}function gk(e){const t=function(n){const r=n&&n.getRootNode();if(r&&r.nodeName!=="#document"&&r.host)return TR(r.host)}(e);return`${t?`${t}>`:""}${TR(e)}`}function Im(e){return typeof e=="object"&&e!==null?e instanceof HTMLElement?gk(e):ArrayBuffer.isView(e)?mk(e.buffer):Array.isArray(e)?e.map(t=>Im(t)):Object.keys(e).reduce((t,n)=>({...t,[`${n}`]:Im(e[n])}),{}):e}const Wb={default:{"apac.errorcodes_success":"Successfully joined the meeting.","apac.errorcodes_fail":"Fail to join the meeting.","apac.errorcodes_not_init":"Meeting not initialized.","apac.errorcodes_register":"This webinar requires registration.","apac.errorcodes_email_require":"Email is missing to attend webinar.","apac.errorcodes_not_exist":"Meeting does not exist.","apac.errorcodes_not_host":"You are not the meeting host.","apac.errorcodes_wrong_pass":"Meeting Passcode wrong.","apac.errorcodes_role_type":"Role type is required.","apac.errorcodes_not_start":"Meeting has not started","apac.errorcodes_host_email_as_attendee":"Host email as attendee","apac.errorcodes_re_connect":"Meeting is reconnecting.","apac.errorcodes_be_removed":"Be removed.","apac.errorcodes_disconnect":"Meeting has been disconnected.","apac.errorcodes_denied_register_with_panelist":"Denied register use panelist email.","apac.errorcodes_web_has_in_progress":"Already has other meetings in progress.","apac.errorcodes_web_require_email":"User email is required.","apac.errorcodes_web_not_support_webinar_pac":"Not support webinar and personal audio conference","apac.errorcodes_web_host_not_exit":"The meeting host does not exist.","apac.errorcodes_web_not_support_webclient":"Not support start or join meeting from web.","apac.errorcodes_web_should_support_webinar_with_latest_version":"The current sdk version doesn't support webinar, please upgrade to the latest version.","apac.errorcodes_web_invalid_id":"Invalid meeting ID.","apac.errorcodes_web_not_support_registration_webinar":"Not support registration webinar","apac.errorcodes_web_not_support_tsp":"Not support start or join meeting from web, when you chose TSP as his audio in a meeting.","apac.errorcodes_web_not_allow_start_webinar_from_web":"Not allow to start webinar from web.","apac.errorcodes_pac_api_wrong":"The accounts API Key is not valid.","apac.errorcodes_pac_signature_expired":"The signature has expired.","apac.errorcodes_pac_mn_wrong":"The meeting number is wrong.","apac.errorcodes_pac_mn_not_fount":"The meeting number is not found.","apac.errorcodes_pac_role_error":"Incorrect role.","apac.errorcodes_pac_host_not_found":"The meeting host is not found.","apac.errorcodes_pac_api_disabled":"The accounts API Key is deactivated.","apac.errorcodes_pac_cant_host_other_mn":"Cannot not host another meeting concurrently.","apac.errorcodes_pac_invalid_signature":"Signature is invalid.","apac.errorcodes_pac_no_permission":"No permission.","apac.errorcodes_need_use_zoom_desktop_or_mobile":"Unable join from browser, please join using the Zoom desktop client or mobile app.","apac.errorcodes_rwc_empty":"Could not get a response from the web server.","apac.errorcodes_rwc_error":"Could not connect to Web Server error.","apac.errorcodes_frequent_call":"You have reached the API limit for this call.","apac.errorcodes_frequent_join":"You be limit by zoom, need to check recaptcha.","apac.errorcodes_offline":"The service is temporarily offline.","apac.errorcodes_wasm_fail":"Download wasm files error, please check your network and firewall.","apac.errorcodes_denied_email":"Email is blocked by Administrator.","apac.errorcodes_host_inactive":"Meeting host is inactive.","apac.errorcodes_tk_expired":"Token has expired.","apac.invalid_parameter":"Invalid Parameter","apac.errorcodes_login_required":"Require login","apac.errorcodes_upgrade":"Your sdk version needs to be {0} or higher to join the meeting","apac.errorcodes_no_response_from_web":"No response from web, try again later.","apac.errorcodes_host_email":"Please use host/alternative host to start the webinar.","apac.errorcodes_meeting_websdk_version_need_update":"The current sdk version is no longer supported, please upgrade to the latest version.","apac.websdk_update_content":"Update MeetingSDK-Web to the latest version to optimize meeting experience","apac.videosdk_update_content":"Update VideoSDK-Web to the latest version to optimize meeting experience"},"de-DE":{"apac.errorcodes_web_has_in_progress":"Hat bereits andere laufende Meetings.","apac.errorcodes_web_require_email":"E-Mail-Adresse von Benutzer erforderlich.","apac.errorcodes_web_not_support_webinar_pac":"Untersttzen Webinar und persnliche Audiokonferenz nicht","apac.errorcodes_web_host_not_exit":"Der Meeting-Host ist nicht vorhanden.","apac.errorcodes_web_not_support_webclient":"Start nicht untersttzt bzw. starten Sie das Meeting aus dem Web.","apac.errorcodes_web_should_support_webinar_with_latest_version":"Ihre aktuelle SDK-Version untersttzt keine Webinare. Aktualisieren Sie bitte auf die neueste Version.","apac.errorcodes_web_invalid_id":"Ungltige Meeting-ID.","apac.errorcodes_web_not_support_registration_webinar":"Registrierung fr Webinar wird nicht untersttzt","apac.errorcodes_web_not_support_tsp":"Sie untersttzen nicht den Start oder die Teilnahme an einem Meeting aus dem Web, wenn Sie den Telefonieanbieter als seinen Audiobeitrag in einem Meeting gewhlt haben.","apac.errorcodes_web_not_allow_start_webinar_from_web":"Das Starten eines Webinars vom Internet aus ist nicht zulssig.","apac.errorcodes_need_use_zoom_desktop_or_mobile":"Unfhig beitreten aus Browser, verbinden Sie bitte den Zoom-Desktop-Client oder mobile App.","apac.errorcodes_meeting_websdk_version_need_update":"Ihre aktuelle SDK-Version wird nicht mehr untersttzt. Aktualisieren Sie bitte auf die neueste Version.","apac.websdk_update_content":"Update MeetingSDK-Web auf die neueste Version zu optimieren Meeting-Erlebnis","apac.videosdk_update_content":"Update VideoSDK-Web auf die neueste Version zu optimieren Meeting-Erlebnis"},"es-ES":{"apac.errorcodes_web_has_in_progress":"Ya posee otras reuniones en curso.","apac.errorcodes_web_require_email":"Se requiere correo electrnico del usuario.","apac.errorcodes_web_not_support_webinar_pac":"No soporta seminario web o conferencia de audio personal","apac.errorcodes_web_host_not_exit":"El anfitrin de la reunin no existe.","apac.errorcodes_web_not_support_webclient":"No se puede iniciar ni entrar a una reunin desde la web.","apac.errorcodes_web_should_support_webinar_with_latest_version":"La versin actual de sdk no es compatible con el seminario web, actualice a la ltima versin.","apac.errorcodes_web_invalid_id":"ID de reunin no vlida.","apac.errorcodes_web_not_support_registration_webinar":"Seminario web que no es compatible con la inscripcin","apac.errorcodes_web_not_support_tsp":"Cuando eligi el proveedor de servicios telefnicos como audio en una reunin, no se puede iniciar o unirse una reunin desde el sitio web.","apac.errorcodes_web_not_allow_start_webinar_from_web":"No se permite comenzar un seminario web desde la web.","apac.errorcodes_need_use_zoom_desktop_or_mobile":"No puede unirse desde el navegador, por favor unirse usando el cliente de escritorio Zoom o aplicacin mvil.","apac.errorcodes_meeting_websdk_version_need_update":"La versin actual de sdk ya no es compatible actualice a la versin ms reciente.","apac.websdk_update_content":"Actualizacin MeetingSDK-Web a la ltima versin para optimizar la experiencia de la reunin","apac.videosdk_update_content":"Actualizacin VideoSDK-Web a la ltima versin para optimizar la experiencia de la reunin"},"fr-FR":{"apac.errorcodes_web_has_in_progress":"Il a dj dautres runions en cours.","apac.errorcodes_web_require_email":"Le courriel de lutilisateur est requis.","apac.errorcodes_web_not_support_webinar_pac":"Ne prend pas en charge le webinaire ni la confrence audio personnelle","apac.errorcodes_web_host_not_exit":"Lanimateur de la runion nexiste pas.","apac.errorcodes_web_not_support_webclient":"Ne supporte pas dmarrer ou rejoindre une runion  partir du web.","apac.errorcodes_web_should_support_webinar_with_latest_version":"La version actuelle du SDK ne prend pas en charge le webinaire, veuillez passer  la dernire version.","apac.errorcodes_web_invalid_id":"N de runion non valide.","apac.errorcodes_web_not_support_registration_webinar":"Ne prend pas en charge le webinaire dinscription","apac.errorcodes_web_not_support_tsp":"Ne peut pas dmarrer ou rejoindre la runion depuis Internet, lorsque vous slectionnez le fournisseur de service en tlphonie comma sa sortie audio dans une runion.","apac.errorcodes_web_not_allow_start_webinar_from_web":"Ne pas permettre de dmarrer des webinaires  partir du Web.","apac.errorcodes_need_use_zoom_desktop_or_mobile":"Impossible de rejoindre le navigateur, s'il vous plat rejoindre en utilisant le client de bureau Zoom ou une application mobile.","apac.errorcodes_meeting_websdk_version_need_update":"La version actuelle du SDK nest plus prise en charge, veuillez passer  la dernire version.","apac.websdk_update_content":"Mise  jour MeetingSDK-Web  la dernire version pour optimiser l'exprience de runion","apac.videosdk_update_content":"Mise  jour VideoSDK-Web  la dernire version pour optimiser l'exprience de runion"},"jp-JP":{"apac.errorcodes_web_has_in_progress":"","apac.errorcodes_web_require_email":"","apac.errorcodes_web_not_support_webinar_pac":"","apac.errorcodes_web_host_not_exit":"","apac.errorcodes_web_not_support_webclient":"/","apac.errorcodes_web_should_support_webinar_with_latest_version":"SDK","apac.errorcodes_web_invalid_id":"ID","apac.errorcodes_web_not_support_registration_webinar":"","apac.errorcodes_web_not_support_tsp":"","apac.errorcodes_web_not_allow_start_webinar_from_web":"","apac.errorcodes_need_use_zoom_desktop_or_mobile":"","apac.errorcodes_meeting_websdk_version_need_update":" SDK ","apac.websdk_update_content":"MeetingSDK-Web","apac.videosdk_update_content":"VideoSDK-Web"},"pt-PT":{"apac.errorcodes_web_has_in_progress":"J h outras reunies em andamento.","apac.errorcodes_web_require_email":"O e-mail do usurio  obrigatrio.","apac.errorcodes_web_not_support_webinar_pac":"No h suporte para webinar e audioconferncia pessoal","apac.errorcodes_web_host_not_exit":"O anfitrio da reunio no existe.","apac.errorcodes_web_not_support_webclient":"No h suporte para iniciar ou entrar na reunio pela web.","apac.errorcodes_web_should_support_webinar_with_latest_version":"A verso sdk atual no oferece suporte para webinar. Atualize para a verso mais recente.","apac.errorcodes_web_invalid_id":"ID da reunio invlido.","apac.errorcodes_web_not_support_registration_webinar":"O registro do webinar no  compatvel","apac.errorcodes_web_not_support_tsp":"No  compatvel iniciar ou ingressar na reunio pela web ao escolher o udio do provedor de servios de telefonia em uma reunio.","apac.errorcodes_web_not_allow_start_webinar_from_web":"No  permitido iniciar o webinar na web.","apac.errorcodes_need_use_zoom_desktop_or_mobile":"Incapaz juntar-se a partir do navegador, por favor, junte-se usando o cliente de desktop Zoom ou aplicativo mvel.","apac.errorcodes_meeting_websdk_version_need_update":"O servio de validao de nmero ABN est temporariamente indisponvel.","apac.websdk_update_content":"Atualizao MeetingSDK-Web para a verso mais recente a experincia de reunio otimizar","apac.videosdk_update_content":"Atualizao VideoSDK-Web para a verso mais recente a experincia de reunio otimizar"},"ru-RU":{"apac.errorcodes_web_has_in_progress":"    .","apac.errorcodes_web_require_email":"  .","apac.errorcodes_web_not_support_webinar_pac":"  -   ","apac.errorcodes_web_host_not_exit":"   .","apac.errorcodes_web_not_support_webclient":"        .","apac.errorcodes_web_should_support_webinar_with_latest_version":"   SDK   .     .","apac.errorcodes_web_invalid_id":"  .","apac.errorcodes_web_not_support_registration_webinar":"    ","apac.errorcodes_web_not_support_tsp":"      ,          .","apac.errorcodes_web_not_allow_start_webinar_from_web":" -   .","apac.errorcodes_need_use_zoom_desktop_or_mobile":"   , ,         .","apac.errorcodes_meeting_websdk_version_need_update":"   SDK   .     .","apac.websdk_update_content":" MeetingSDK-Web   ,    ","apac.videosdk_update_content":" VideoSDK-Web   ,    "},"zh-CN":{"apac.errorcodes_web_has_in_progress":"","apac.errorcodes_web_require_email":"","apac.errorcodes_web_not_support_webinar_pac":"","apac.errorcodes_web_host_not_exit":"","apac.errorcodes_web_not_support_webclient":" Web ","apac.errorcodes_web_should_support_webinar_with_latest_version":" sdk ","apac.errorcodes_web_invalid_id":"ID","apac.errorcodes_web_not_support_registration_webinar":"","apac.errorcodes_web_not_support_tsp":"","apac.errorcodes_web_not_allow_start_webinar_from_web":"","apac.errorcodes_need_use_zoom_desktop_or_mobile":"","apac.errorcodes_meeting_websdk_version_need_update":"SDK","apac.websdk_update_content":"MeetingSDK-Web","apac.videosdk_update_content":"VideoSDK-Web"},"zh-TW":{"apac.errorcodes_web_has_in_progress":"","apac.errorcodes_web_require_email":"","apac.errorcodes_web_not_support_webinar_pac":"","apac.errorcodes_web_host_not_exit":"","apac.errorcodes_web_not_support_webclient":" Web ","apac.errorcodes_web_should_support_webinar_with_latest_version":" SDK ","apac.errorcodes_web_invalid_id":" ID ","apac.errorcodes_web_not_support_registration_webinar":"","apac.errorcodes_web_not_support_tsp":"","apac.errorcodes_web_not_allow_start_webinar_from_web":" Web ","apac.errorcodes_need_use_zoom_desktop_or_mobile":"","apac.errorcodes_meeting_websdk_version_need_update":"SDK","apac.websdk_update_content":"MeetingSDK-Web","apac.videosdk_update_content":"VideoSDK-Web"},"ko-KO":{"apac.errorcodes_web_has_in_progress":"    .","apac.errorcodes_web_require_email":"  .","apac.errorcodes_web_not_support_webinar_pac":"       ","apac.errorcodes_web_host_not_exit":"  .","apac.errorcodes_web_not_support_webclient":"      .","apac.errorcodes_web_should_support_webinar_with_latest_version":" SDK    .   .","apac.errorcodes_web_invalid_id":" ID .","apac.errorcodes_web_not_support_registration_webinar":"   ","apac.errorcodes_web_not_support_tsp":" Telephony Service Provider          .","apac.errorcodes_web_not_allow_start_webinar_from_web":"    .","apac.errorcodes_need_use_zoom_desktop_or_mobile":"            .","apac.errorcodes_meeting_websdk_version_need_update":" SDK     .   .","apac.websdk_update_content":"      MeetingSDK-Web","apac.videosdk_update_content":"      VideoSDK-Web"},"vi-VN":{"apac.errorcodes_web_has_in_progress":" c cuc hp khc ang din ra.","apac.errorcodes_web_require_email":"Email ngi dng l bt buc.","apac.errorcodes_web_not_support_webinar_pac":"Khng h tr hi thovideo v hi ngh m thanh c nhn","apac.errorcodes_web_host_not_exit":"Ngi ch tr cuc hp khng tn ti.","apac.errorcodes_web_not_support_webclient":"Khng h tr bt u hoc vo cuc hp t web.","apac.errorcodes_web_should_support_webinar_with_latest_version":"Phin bn sdk hin ti khng h tr hi tho trc tuyn, hy nng cp ln phin bn mi nht.","apac.errorcodes_web_invalid_id":"ID cuc hp khng hp l.","apac.errorcodes_web_not_support_registration_webinar":"Khng h tr ng k hi tho trc tuyn","apac.errorcodes_web_not_support_tsp":"Khng h tr bt u hoc vo cuc hp t web, khi bn chn Nh cung cp dch v in thoi lm ngun m thanh trong cuc hp.","apac.errorcodes_web_not_allow_start_webinar_from_web":"Khng cho php bt u hi tho trc tuyn t web.","apac.errorcodes_need_use_zoom_desktop_or_mobile":"Khng th tham gia t trnh duyt, hy tham gia bng cch s dng client desktop Phng to hoc ng dng di ng.","apac.errorcodes_meeting_websdk_version_need_update":"Phin bn sdk hin ti khng cn c h tr, vui lng nng cp ln phin bn mi nht.","apac.websdk_update_content":"Cp nht MeetingSDK-Web ln phin bn mi nht  ti u ha tri nghim cuc hp","apac.videosdk_update_content":"Cp nht VideoSDK-Web ln phin bn mi nht  ti u ha tri nghim cuc hp"},"it-IT":{"apac.errorcodes_web_has_in_progress":"Sta partecipando a unaltra riunione in corso.","apac.errorcodes_web_require_email":" richiesta lemail dellutente.","apac.errorcodes_web_not_support_webinar_pac":"Non supporta webinar e conferenza audio personale","apac.errorcodes_web_host_not_exit":"Lospite della riunione non esiste.","apac.errorcodes_web_not_support_webclient":"Non supporta lavvio o la partecipazione alla riunione dal Web.","apac.errorcodes_web_should_support_webinar_with_latest_version":"La versione sdk corrente non supporta i webinar. Effettua laggiornamento alla versione pi recente.","apac.errorcodes_web_invalid_id":"ID riunione non valido.","apac.errorcodes_web_not_support_registration_webinar":"Non supporta webinar con iscrizione","apac.errorcodes_web_not_support_tsp":"In caso che hai selezionato il fornitore di servizio telefonico come laudio in riunione, non supporta lavvio o la partecipazione alla riunione dal Web.","apac.errorcodes_web_not_allow_start_webinar_from_web":"Non  consentito avviare il webinar dal Web.","apac.errorcodes_need_use_zoom_desktop_or_mobile":"Impossibile unirsi dal browser, si prega di unirsi con il client desktop Zoom o app mobile.","apac.errorcodes_meeting_websdk_version_need_update":"La versione sdk corrente non  pi supportata. Aggiorna alla versione pi recente.","apac.websdk_update_content":"Aggiornamento MeetingSDK-Web alla versione pi recente per ottimizzare l'esperienza di incontro","apac.videosdk_update_content":"Aggiornamento VideoSDK-Web alla versione pi recente per ottimizzare l'esperienza di incontro"},"id-ID":{"apac.errorcodes_web_has_in_progress":"Sudah mengadakan pertemuan lain.","apac.errorcodes_web_require_email":"Email pengguna diperlukan.","apac.errorcodes_web_not_support_webinar_pac":"Tidak mendukung konferensi webinar dan audio pribadi","apac.errorcodes_web_host_not_exit":"Tuan rumah pertemuan tidak ada.","apac.errorcodes_web_not_support_webclient":"Tidak mendukung mulai atau bergabung dengan rapat dari web.","apac.errorcodes_web_should_support_webinar_with_latest_version":"Versi SDK saat ini tidak mendukung webinar, silakan tingkatkan ke versi terbaru.","apac.errorcodes_web_invalid_id":"ID pertemuan tidak valid.","apac.errorcodes_web_not_support_registration_webinar":"Tidak mendukung webinar pendaftaran","apac.errorcodes_web_not_support_tsp":"Tidak mendukung mulai atau bergabung dengan rapat dari web, saat Anda memilih TSP sebagai audionya dalam rapat.","apac.errorcodes_web_not_allow_start_webinar_from_web":"Tidak mengizinkan untuk memulai webinar dari web.","apac.errorcodes_need_use_zoom_desktop_or_mobile":"Tidak dapat bergabung dari browser, silakan bergabung menggunakan klien zoom desktop atau aplikasi seluler.","apac.errorcodes_meeting_websdk_version_need_update":"Versi sdk saat ini tidak lagi didukung. Tingkatkan ke versi terbaru.","apac.websdk_update_content":"Perbarui MeetingSDK-Web ke versi terbaru untuk mengoptimalkan pengalaman pertemuan","apac.videosdk_update_content":"Perbarui VideoSDK-Web ke versi terbaru untuk mengoptimalkan pengalaman pertemuan"},"nl-NL":{"apac.errorcodes_web_has_in_progress":"Heeft al andere vergaderingen in uitvoering.","apac.errorcodes_web_require_email":"E -mail van gebruikers is vereist.","apac.errorcodes_web_not_support_webinar_pac":"Ondersteun niet webinar en persoonlijke audioconferentie","apac.errorcodes_web_host_not_exit":"De vergadergastheer bestaat niet.","apac.errorcodes_web_not_support_webclient":"Ondersteuning niet starten of deelnemen aan de vergadering van Web.","apac.errorcodes_web_should_support_webinar_with_latest_version":"De huidige SDK -versie ondersteunt Webinar niet, upgrade naar de nieuwste versie.","apac.errorcodes_web_invalid_id":"Ongeldige vergadering -ID.","apac.errorcodes_web_not_support_registration_webinar":"Ondersteun geen registratie -webinar","apac.errorcodes_web_not_support_tsp":"Start niet of deel aan de vergadering van Web, wanneer u TSP koos als zijn audio tijdens een vergadering.","apac.errorcodes_web_not_allow_start_webinar_from_web":"Niet toestaan om webinar te starten vanaf het web.","apac.errorcodes_need_use_zoom_desktop_or_mobile":"Niet in staat om mee te doen vanuit de browser, doe mee met behulp van de Zoom Desktop -client of mobiele app.","apac.errorcodes_meeting_websdk_version_need_update":"De huidige SDK-versie wordt niet langer ondersteund. Voer een upgrade uit naar de nieuwste versie.","apac.websdk_update_content":"MeetingSDK-Web bijwerken naar de nieuwste versie om de vergaderervaring te optimaliseren","apac.videosdk_update_content":"VideoSDK-Web bijwerken naar de nieuwste versie om de vergaderervaring te optimaliseren"},"tr-TR":{"apac.errorcodes_web_has_in_progress":"Zaten devam eden baka toplantlara sahip.","apac.errorcodes_web_require_email":"Kullanc e-postas gereklidir.","apac.errorcodes_web_not_support_webinar_pac":"Web'in ve kiisel ses konferansn desteklememek","apac.errorcodes_web_host_not_exit":"Toplant ana bilgisayar mevcut deil.","apac.errorcodes_web_not_support_webclient":"Desteklemeyi denememek veya web'den toplantya katln.","apac.errorcodes_web_should_support_webinar_with_latest_version":"Mevcut SDK srm WebInar' desteklemiyor, ltfen en son srme ykseltin.","apac.errorcodes_web_invalid_id":"Geersiz Toplant Kimlii.","apac.errorcodes_web_not_support_registration_webinar":"Kayt web seminerini desteklememek","apac.errorcodes_web_not_support_tsp":"TSP'yi bir toplantda ses olarak setiinizde, web'den toplanty balatmayn veya katlmayn.","apac.errorcodes_web_not_allow_start_webinar_from_web":"Web'in web'den balamasna izin vermeyin.","apac.errorcodes_need_use_zoom_desktop_or_mobile":"Taraycdan katlamyorsanz, ltfen Zoom Masast stemcisi veya Mobil Uygulamay kullanarak katln.","apac.errorcodes_meeting_websdk_version_need_update":"Mevcut sdk srm artk desteklenmiyor, ltfen en son srme ykseltin.","apac.websdk_update_content":"Toplant deneyimini optimize etmek iin MeetingSDK-Web en son srme gncelleyin","apac.videosdk_update_content":"Toplant deneyimini optimize etmek iin VideoSDK-Web en son srme gncelleyin"},"pl-PL":{"apac.errorcodes_web_has_in_progress":"Ma ju inne spotkania.","apac.errorcodes_web_require_email":"Wymagany jest e-mail uytkownika.","apac.errorcodes_web_not_support_webinar_pac":"Nie obsuguje seminarium i osobistej konferencji audio","apac.errorcodes_web_host_not_exit":"Gospodarz spotkania nie istnieje.","apac.errorcodes_web_not_support_webclient":"Nie obsuguje uruchomienia ani doczania do spotkania z sieci.","apac.errorcodes_web_should_support_webinar_with_latest_version":"Aktualna wersja SDK nie obsuguje webinarium, prosz uaktualni do najnowszej wersji.","apac.errorcodes_web_invalid_id":"Nieprawidowy identyfikator spotkania.","apac.errorcodes_web_not_support_registration_webinar":"Nie wspieraj rejestracji webinarium internetowego","apac.errorcodes_web_not_support_tsp":"Nie obsuguje uruchomienia ani doczania do spotkania z Internetu, gdy wybrae TSP jako jego audio na spotkaniu.","apac.errorcodes_web_not_allow_start_webinar_from_web":"Nie pozwl, aby rozpocz sie webinarn od sieci.","apac.errorcodes_need_use_zoom_desktop_or_mobile":"Nie mona doczy z przegldarki, docz do Klienta Klient Desktop lub Mobile App.","apac.errorcodes_meeting_websdk_version_need_update":"Bieca wersja sdk nie jest ju obsugiwana; uaktualnij do najnowszej wersji.","apac.websdk_update_content":"Zaktualizuj MeetingSDK-Web do najnowszej wersji, aby optymalizowa dowiadczenie spotkania","apac.videosdk_update_content":"Zaktualizuj VideoSDK-Web do najnowszej wersji, aby optymalizowa dowiadczenie spotkania"}},Dm=Wb.default;function yk(e){return e==="en-US"&&(e="default"),Wb[e]||Wb.default}const Mm=-3e3,af=200;let Zr=function(e){return e[e.CONF_SUCCESS=0]="CONF_SUCCESS",e[e.CONF_FAIL_MEETING_OVER=6]="CONF_FAIL_MEETING_OVER",e[e.CONF_FAIL_CONF_USER_FULL=9]="CONF_FAIL_CONF_USER_FULL",e[e.CONF_FAIL_CONFLOCKED=12]="CONF_FAIL_CONFLOCKED",e[e.CONF_FAIL_WEBINAR_DENIED_EMAIL=3033]="CONF_FAIL_WEBINAR_DENIED_EMAIL",e[e.CONF_FAIL_MEETING_HAS_CLOSED=103003]="CONF_FAIL_MEETING_HAS_CLOSED",e[e.CONF_FAIL_HAS_BEEN_REMOVED=103039]="CONF_FAIL_HAS_BEEN_REMOVED",e[e.CONF_RESULT_MMR_IB_REJECT=103043]="CONF_RESULT_MMR_IB_REJECT",e[e.CONF_FAIL_RESULT_MMR_CONF_PARTICIPANT_EXISTS=103044]="CONF_FAIL_RESULT_MMR_CONF_PARTICIPANT_EXISTS",e}({}),qo=function(e){return e[e.Unknown=0]="Unknown",e[e.Normal=1]="Normal",e[e.Userrequest=2]="Userrequest",e[e.SdkConnection=3]="SdkConnection",e[e.Reconnect=5]="Reconnect",e[e.PtRequest=6]="PtRequest",e[e.KickedByHost=7]="KickedByHost",e[e.EndByHost=8]="EndByHost",e[e.EndByHostStartAnotherMeeting=9]="EndByHostStartAnotherMeeting",e[e.FreeMeetingTimeout=10]="FreeMeetingTimeout",e[e.JBHTimeout=11]="JBHTimeout",e[e.EndBySingleStatus=12]="EndBySingleStatus",e[e.WebinarNeedRegister=13]="WebinarNeedRegister",e[e.ArchiveFail=14]="ArchiveFail",e[e.EndByNone=15]="EndByNone",e[e.EndByAdmin=16]="EndByAdmin",e[e.DuplicateSession=17]="DuplicateSession",e[e.MeetingTransfer=18]="MeetingTransfer",e}({}),Ex=function(e){return e[e.WaitingRoomFailover=1]="WaitingRoomFailover",e[e.WebEndAndRejoin=2]="WebEndAndRejoin",e}({});function oA(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"en-US";if(n!=="en-US"){const r=yk(n);return t in r?r[t]:e}return t in Dm?Dm[t]:e}const Cc=af,vk={ANOTHER_MEETING_RUNNING:3e3,ERROR_NOT_EXIST:3001,ERROR_NOT_HOST:3003,WRONG_MEETING_PASSWORD:3004,ROLE_TYPE_IS_REQUIRE:3010,EMAIL_REQUIRED:3005,MEETING_NOT_START:3008,BE_REMOVED:3009,ERROR_WEBINAR_ENFORCE_LOGIN:3034,NEED_REAL_NAME:3082,REGISTER_REQUIRED:3099,SSO_LOGIN_WINDOW:6024,ZOOM_LOGIN_WINDOW:3051,ZOOM_SPECIFIC_LOGIN_WINDOW:3052,LOGIN_REQUIRED:3100,RE_CONNECTING:4e3,DISCONNECT:4001,INVALID_PARAMETER:4003,DENIED_REGISTER_WITH_PANELIST:3032,SERVICE_OFFLINE:403,RWC_EMPTY:3621,RWC_ERROR:3622,FREQUENT_CALL:3633,FREQUENT_JOIN:3634,WASM_FAIL:3635,COMMON_ERROR:af,COMMON_SUCCESS:0,UPGRADE:1e4},Ax={SUCCESS:"apac.errorcodes_success",FAIL:"apac.errorcodes_fail",MEETING_NOT_INIT:"apac.errorcodes_not_init",REGISTER_REQUIRED:"apac.errorcodes_register",LOGIN_REQUIRED:"apac.errorcodes_login_required",SSO_LOGIN_WINDOW:"apac.errorcodes_login_required",ZOOM_LOGIN_WINDOW:"apac.errorcodes_login_required",ZOOM_SPECIFIC_LOGIN_WINDOW:"apac.errorcodes_login_required",EMAIL_REQUIRED:"apac.errorcodes_email_require",ERROR_NOT_EXIST:"apac.errorcodes_not_exist",ERROR_NOT_HOST:"apac.errorcodes_not_host",WRONG_MEETING_PASSWORD:"apac.errorcodes_wrong_pass",ROLE_TYPE_IS_REQUIRE:"apac.errorcodes_role_type",ANOTHER_MEETING_RUNNING:"apac.errorcodes_meeting_has_in_progress",MEETING_NOT_START:"apac.errorcodes_not_start",INVALID_PARAMETER:"apac.invalid_parameter",RE_CONNECTING:"apac.errorcodes_re_connect",BE_REMOVED:"apac.errorcodes_be_removed",ERROR_WEBINAR_ENFORCE_LOGIN:"apac.errorcodes_webinar_enforce_login",DISCONNECT:"apac.errorcodes_disconnect",DENIED_REGISTER_WITH_PANELIST:"apac.errorcodes_denied_register_with_panelist",RWC_EMPTY:"apac.errorcodes_rwc_empty",RWC_ERROR:"apac.errorcodes_rwc_error",FREQUENT_CALL:"apac.errorcodes_frequent_call",FREQUENT_JOIN:"apac.errorcodes_frequent_join",WASM_FAIL:"apac.errorcodes_wasm_fail",UPGRADE:"apac.errorcodes_meeting_websdk_version_need_update"},wc={3e3:{"apac.errorcodes_web_has_in_progress":3e3,"apac.errorcodes_web_require_email":3005,"apac.errorcodes_web_not_support_webinar_pac":3701,"apac.errorcodes_web_host_not_exit":3702,"apac.errorcodes_web_not_support_webclient":3603,"apac.errorcodes_web_should_support_webinar_with_latest_version":3604,"apac.errorcodes_web_invalid_id":3703,"apac.errorcodes_web_not_support_registration_webinar":3606,"apac.errorcodes_web_not_support_tsp":3608,"apac.errorcodes_web_not_allow_start_webinar_from_web":3609,"apac.errorcodes_need_use_zoom_desktop_or_mobile":3611,"apac.errorcodes_meeting_websdk_version_need_update":1e4},3001:{"apac.errorcodes_not_exist":3610},200:{"apac.errorcodes_pac_api_wrong":3704,"apac.errorcodes_pac_signature_expired":3705,"apac.errorcodes_pac_mn_wrong":3706,"apac.errorcodes_pac_mn_not_fount":3707,"apac.errorcodes_pac_role_error":3708,"apac.errorcodes_pac_host_not_found":3709,"apac.errorcodes_pac_api_disabled":3710,"apac.errorcodes_pac_cant_host_other_mn":3711,"apac.errorcodes_pac_invalid_signature":3712,"apac.errorcodes_pac_no_permission":3713},3099:{"apac.errorcodes_register":3099},3100:{"apac.errorcodes_login_required":3100},3003:{"apac.errorcodes_not_host":3003},3004:{"apac.errorcodes_wrong_pass":3004},3008:{"apac.errorcodes_not_start":3008},3129:{"apac.errorcodes_not_start":3008},3009:{"apac.errorcodes_be_removed":3009},3501:{"apac.errorcodes_login_required":3082},3502:{"apac.errorcodes_login_required":3082},3032:{"apac.errorcodes_denied_register_with_panelist":3100},3033:{"apac.errorcodes_denied_email":3620},3059:{"apac.errorcodes_not_support_simulive":3630},1001:{"apac.errorcodes_host_inactive":3625},3136:{"apac.errorcodes_zak":3623,"apac.errorcodes_host_email":3624,"apac.errorcodes_zak2":3265,"apac.errorcodes_require_host":3709},3082:{"apac.errorcodes_real_name":3082},403:{"apac.errorcodes_offline":403},404:{"apac.errorcodes_offline":403},4003:{"apac.invalid_parameter":4003},124:{"apac.errorcodes_tk_expired":3610}},RR={3004:{"apac.errorcodes_pac_mn_wrong":3714},3005:{"apac.errorcodes_web_has_in_progress":3e3},3008:{"apac.errorcodes_not_start":3008},3027:{"apac.errorcodes_host_email_as_attendee":3627},3033:{"apac.errorcodes_denied_email":3620},1005:{"apac.errorcodes_no_response_from_web":3621},131005:{"apac.errorcodes_no_response_from_web":3621},1001:{"apac.errorcodes_host_inactive":3625},131001:{"apac.errorcodes_host_inactive":3625},131013:{"meeting ended":4004},103039:{"apac.errorcodes_be_removed":3009},6:{"meeting ended":4004},9:{"meeting is at capacity":4005},12:{"meeting locked":4006},103043:{"reject for information barriers":4007},103044:{"participant exist":4008}};let vS;function km(e,t){const{key:n,value:r}=function(s,l){let d=!1;if(s===-1)return{key:"apac.errorcodes_offline",value:403};if(s===3e3){const h=["en-US","de-DE","es-ES","fr-FR","jp-JP","pt-PT","ru-RU","zh-CN","zh-TW","ko_KO","vi-VN","it-IT","id-ID","nl-NL","tr-TR","pl-PL"];let g={};if(vS)g=vS;else{const v=Object.keys(wc[3e3]);h.forEach(S=>{const b=yk(S);g[S]={},v.forEach(_=>{g[S][_]=b[_]})}),vS=g}return h.forEach(v=>{if(d)return;const S=yS(g[v],l);S&&(d={key:S,value:wc[s][S]})}),d||(d={key:"apac.errorcodes_fail",value:af}),d}if(s===200){const h=yS({"apac.errorcodes_pac_api_wrong":"The api key is wrong.","apac.errorcodes_pac_signature_expired":"The signature has expired.","apac.errorcodes_pac_mn_wrong":"The meeting number is wrong.","apac.errorcodes_pac_mn_not_fount":"The meeting number is not found.","apac.errorcodes_pac_role_error":"The role is not applicable.","apac.errorcodes_pac_host_not_found":"The meeting host is not found.","apac.errorcodes_pac_api_disabled":"The account don't enable API.","apac.errorcodes_pac_cant_host_other_mn":"Can not be host in other account's meeting.","apac.errorcodes_pac_invalid_signature":"Invalid signature.","apac.errorcodes_pac_no_permission":"No permission"},l);return d=h?{key:h,value:wc[s][h]}:{key:"apac.errorcodes_fail",value:af},d}if(wc[s]!==void 0){const h=wc[s],g=Object.keys(h)[0];d={key:g,value:h[g]}}if(d)return d;const f=yS(vk,s),p=Ax[f];return p?{key:p,value:s}:{key:"apac.errorcodes_fail",value:af}}(e,t),a=oA(n,n);return n!==a?{reason:a,errorCode:r}:{reason:Dm[n],errorCode:r}}function Wc(e){let t=!1;const n=typeof e=="number"?e:e.body.res;if(RR[n]!==void 0){const a=RR[n],s=Object.keys(a)[0];t={key:s,value:a[s]}}if(t){const{key:a,value:s}=t,l=oA(a,a);return a!==l?Object.assign({},e,{reason:l,errorCode:s}):Object.assign({},e,{reason:Dm[a],errorCode:s})}const r=km(n);return Object.assign({},e,{reason:r.reason,errorCode:r.errorCode})}const Cx=["bLock","bHoldUponEntry","viewOnly","listenOnlyPhone","bAllowRaiseHand","bAllowAttendeeRename","bBroadcast","bAllowPlayChimeForEnterOrExit","bIbDisableShare","bIbDisableChat","encryptKey","bNoHostTimeOut","bAllowShowCount","bHasAST","bHasRMC","gatewayKey","encryptKey"],IR={bChime:"bAllowPlayChimeForEnterOrExit",bHasAST:"hasAst",bHasRMC:"hasRmc",topic:e=>({meetingTopic:Qi(e)}),gatewayKey:e=>{const[,t,n]=e.split(".");return t&&n?{gatewayUser:{userId:Number(t),sn:n}}:{}},encryptKey:e=>({gcmSessinKey:ni(e)})},Qb=xt("GET_MEETING_INFO"),_f=xt("GET_INSTANT_MEETING_INFO");xt("LOGON_ZOOM_DOMAIN"),xt("VERIFY_ZOOM_RECAPTCHA"),xt("LOGON_THIRD_PARTY_DOMAIN");const aA=xt("PING_RWC_SERVER"),rr=xt("MEETING_FAILOVER"),Ef=xt("LEAVE_MEETING"),Zb=xt("LEAVE_WAITING_ROOM"),fd=xt("END_MEETING");xt("REGISTER_WEBINAR");const DR=xt("TRIGGER_IDLE_CHECK"),{setMeetingInfo:Di,setMeetingJoinInfo:wx,setWindownOpen:Ox,setAppidSignature:Sk,setZtk:Tx,setZsk:Rx,setTkMtkguid:Ix,setPingRwcTimestamp:bk,setInMeetingInfo:pa,setMeetingAttribute:sA,resetMeeting:Jb,setIsHost:_k,setIsCohost:Ek,setMeetingIsOnHold:Ul,setIsMeetingReset:Ak,setAudioVideoBeforeOnHold:Ck,setCurrentUserAudioBeforeReset:wk,setIsCurrentUserMutedBeforeReset:Ok,setMeetingStatus:uA,setMeetingRegion:Tk,setIsCurrentUserStartVideoBeforeReset:Rk,setJoinMeetingTimeStamp:Ik,setActiveAppInfo:Dx,setMeetingIdleStartTime:Qc,setSessionIdleTimeoutMinutes:Dk,setIsAudioBridgeEnabled:Mk,addDiscardedRwcHost:kk,setSharePronounType:Nk,setIsStayAwakeDuringTheSession:Lk,setMeetingJoinSuccessTimestamp:Pk,resetFailoverRecord:Uk,setFailoverReason:Nm,setIsQuicklyLeaveMeetingAfterRefresh:Vk,setMeetingInfoTimestamp:jk}=bn({SET_MEETING_INFO:e=>e,SET_MEETING_JOIN_INFO:e=>e,SET_WINDOWN_OPEN:e=>e,SET_APPID_SIGNATURE:e=>e,SET_ZTK:e=>e,SET_ZSK:e=>e,SET_TK_MTKGUID:e=>e,SET_PING_RWC_TIMESTAMP:e=>e,SET_IN_MEETING_INFO:e=>e,SET_MEETING_ATTRIBUTE:e=>{if(Cx.some(t=>e&&e[t]!==void 0)){let t=e;return Object.keys(IR).some(n=>e[n]!==void 0)&&(t=Object.keys(e).reduce((n,r)=>{const a=IR[r];return typeof a=="function"?Object.assign(n,a(e[r])):typeof a=="string"?n[a]=e[r]:(n[r],e[r]),n},{})),t}return{}},SET_IS_HOST:e=>e&&e.bHost,SET_IS_COHOST:e=>e&&e.bCoHost,RESET_MEETING:e=>e,SET_MEETING_IS_ON_HOLD:e=>e,SET_IS_MEETING_RESET:e=>e,SET_AUDIO_VIDEO_BEFORE_ON_HOLD:e=>e,SET_CURRENT_USER_AUDIO_BEFORE_RESET:e=>e,SET_IS_CURRENT_USER_MUTED_BEFORE_RESET:e=>e,SET_MEETING_STATUS:e=>e,SET_MEETING_REGION:e=>e,SET_IS_CURRENT_USER_START_VIDEO_BEFORE_RESET:e=>e,SET_JOIN_MEETING_TIME_STAMP:e=>e,SET_ACTIVE_APP_INFO:e=>e,SET_MEETING_IDLE_START_TIME:e=>e,SET_SESSION_IDLE_TIMEOUT_MINUTES:e=>e,SET_IS_AUDIO_BRIDGE_ENABLED:e=>e,ADD_DISCARDED_RWC_HOST:e=>e,SET_SHARE_PRONOUN_TYPE:e=>e,SET_IS_STAY_AWAKE_DURING_THE_SESSION:e=>e,SET_MEETING_JOIN_SUCCESS_TIMESTAMP:e=>e,RESET_FAILOVER_RECORD:e=>e,SET_FAILOVER_REASON:e=>e,SET_IS_QUICKLY_LEAVE_MEETING_AFTER_REFRESH:e=>e,SET_MEETING_INFO_TIMESTAMP:e=>e});let zn=function(e){return e.Failover="failover",e.OnHold="on hold",e.Promote="promote",e.Depromote="depromote",e.JoinBreakoutRoom="join breakout room",e.MoveToBreakoutRoom="move to breakout room",e.BackToMainSession="back to main session",e}({});const ou="js_media.min.js";let SS=function(e){return e.CDN="CDN",e.Global="Global",e.CN="CN",e}({}),Vl=function(e){return e.Connected="Connected",e.Reconnecting="Reconnecting",e.Closed="Closed",e.Fail="Fail",e}({}),Xt=function(e){return e.Initial="initial",e.Joined="joined",e.Closed="closed",e}({}),pu=function(e){return e.AudioBridgeEnable="M:1,2;V:1,2",e.AudioDecodeInWorklet="M:6;V:3",e.VideoFullHD="M:8;V:4",e.VideoShareFullHD="M:9;V:5",e}({}),Tn=function(e){return e[e.NormalCase=-1]="NormalCase",e[e.NoHeartbeat=0]="NoHeartbeat",e[e.NoHeartbeatMChannel=1]="NoHeartbeatMChannel",e[e.NetworkChange=2]="NetworkChange",e[e.NotifyUiFailover=3]="NotifyUiFailover",e[e.InvalidParameters=4]="InvalidParameters",e[e.OnError=5]="OnError",e[e.OnErrorMChannel=6]="OnErrorMChannel",e[e.Disconnect=7]="Disconnect",e[e.DisconnectMChannel=8]="DisconnectMChannel",e[e.DisconnectXmpp=9]="DisconnectXmpp",e[e.RefreshPage=10]="RefreshPage",e}({}),ft=function(e){return e.LocalStorage="LocalStorage",e.SessionStorage="SessionStorage",e.Memory="Memory",e}({});const MR=Wt("{}");class Je{constructor(t){this.sessionStorageKey=void 0,this.localStorageKey=void 0,this.sessionCache=void 0,this.localCache=void 0,this.memoryCache=void 0,this.sessionStorageKey=Wt(`zoom-storage-${t}`),this.localStorageKey=Wt("zoom-local-storage"),this.memoryCache={};try{this.sessionCache=JSON.parse(Qi(sessionStorage.getItem(this.sessionStorageKey)||MR)),this.localCache=JSON.parse(Qi(localStorage.getItem(this.localStorageKey)||MR))}catch(n){console.error(n),this.sessionCache={},this.localCache={}}}static init(t){this.instance=new Je(t)}static get(t){if(this.instance===void 0)throw new Error("read before initial");return this.instance.getValue(t).value}static set(t,n,r){if(this.instance===void 0)throw new Error("set before initial");return this.instance.setValue(t,n,r)}static remove(t){if(this.instance===void 0)throw new Error("remove before initial");return this.instance.removeValue(t)}static clearSession(){if(this.instance===void 0)throw new Error("clear before initial");return this.instance.memoryCache={},this.instance.sessionCache={},this.instance.localCache={},sessionStorage.removeItem(this.instance.sessionStorageKey)}getValue(t){return this.sessionCache.hasOwnProperty(t)?{value:this.sessionCache[t],type:ft.SessionStorage}:this.localCache.hasOwnProperty(t)?{value:this.localCache[t],type:ft.LocalStorage}:{value:this.memoryCache[t],type:ft.Memory}}setValue(t,n,r){if(!t)throw new Error("key is null");switch(r){case ft.SessionStorage:{const a=this.sessionCache[t];let s=n;return typeof n=="function"&&(s=n(a)),a!==s&&(this.sessionCache[t]=s,this.flushValue(ft.SessionStorage)),s}case ft.LocalStorage:{const a=this.localCache[t];let s=n;return typeof n=="function"&&(s=n(a)),a!==s&&(this.localCache[t]=s,this.flushValue(ft.LocalStorage)),s}case ft.Memory:{const a=this.memoryCache[t];let s=n;return typeof n=="function"&&(s=n(a)),this.memoryCache[t]=s,s}default:return null}}removeValue(t){const{type:n}=this.getValue(t);switch(n){case ft.SessionStorage:delete this.sessionCache[t],this.flushValue(ft.SessionStorage);break;case ft.LocalStorage:delete this.localCache[t],this.flushValue(ft.LocalStorage);break;case ft.Memory:delete this.memoryCache[t]}}flushValue(t){t===ft.SessionStorage?sessionStorage.setItem(this.sessionStorageKey,Wt(JSON.stringify(this.sessionCache))):t===ft.LocalStorage&&localStorage.setItem(this.localStorageKey,Wt(JSON.stringify(this.localCache)))}}Je.instance=void 0;let Ct=function(e){return e.WebclientOpt="WEB_CLIENT_OPT",e.WebclientWebinarToken="WEB_CLIENT_WEBINAR_TOKEN",e.WebclientMeetingToken="WEB_CLIENT_MEETING_TOKEN",e.WebclientZtk="WEB_CLIENT_ZTK",e.WebclientZsk="WEB_CLIENT_ZSK",e.WebclientTk="WEB_CLIENT_TK",e.WebclientIVState="WEB_CLIENT_IV_STATE",e.WebclientIsOnHold="WEB_CLIENT_IS_ON_HOLD",e.WebclientParticipantId="WEB_CLIENT_PARTICIPANT_ID",e.WebclientZoomId="WEB_CLIENT_ZOOM_ID",e.WebclientUserName="WEB_CLIENT_USER_NAME",e.WebclientUserEmail="WEB_CLIENT_USER_EMAIL",e.WebclientBreakoutRoomAttendeeStatus="WEB_CLIENT_BO_ATTENDEE_STATUS",e.WebclientBreakoutRoomCommand="WEB_CLIENT_BO_COMMAND",e.WebclientAudioEncryptKey="WEB_CLIENT_AUDIO_ENCRYPT_KEY",e.WebclientVideoEncryptKey="WEB_CLIENT_VIDEO_ENCRYPT_KEY",e.WebclientSharingEncryptKey="WEB_CLIENT_SHARING_ENCRYPT_KEY",e.WebclientFailoverCount="WEB_CLIENT_FAILOVER_COUNT",e.WebclientRecordingToken="WEB_CLIENT_RECORDING_TOKEN",e}({}),Yb=function(e){return e.WebclientDeviceId="WEBCLIENT_DEVICE_ID",e.VSDKLogTrackingId="ZM_VSDK_LOG_TRACKING_IDS",e}({}),lA=function(e){return e.EnforceWebRTCAudio="ENFORCE_WEB_RTC_AUDIO",e}({});function Yt(e,t){const n=t.match(e);return n&&n.length>0&&n[1]||""}function Bk(e,t){const n=t.match(e);return n&&n.length>1&&n[2]||""}const Ha=/version\/(\d+(\.?_?\d+)+)/i,Mx=[{test:[/opera/i],describe:e=>["Opera(Legacy)",Yt(Ha,e)||Yt(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e)]},{test:[/opr\/|opios/i],describe:e=>["Opera",Yt(/(?:opr|opios)[\s/](\S+)/i,e)||Yt(Ha,e)]},{test:[/SamsungBrowser/i],describe:e=>["Samsung Internet for Android",Yt(Ha,e)||Yt(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e)]},{test:[/micromessenger/i],describe:e=>["WeChat",Yt(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||Yt(Ha,e)]},{test:[/qqbrowser/i],describe:e=>[/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser",Yt(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||Yt(Ha,e)]},{test:[/msie|trident/i],describe:e=>["Internet Explorer",Yt(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e)]},{test:[/\sedg\//i],describe:e=>["Microsoft Edge",Yt(/\sedg\/(\d+(\.?_?\d+)+)/i,e)]},{test:[/edg([ea]|ios)/i],describe:e=>["Microsoft Edge(Legacy)",Bk(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e)]},{test:[/firefox|iceweasel|fxios/i],describe:e=>["Firefox",Yt(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e)]},{test:[/electron/i],describe:e=>["Electron",Yt(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e)]},{test:[/chromium/i],describe:e=>["Chromium",Yt(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||Yt(Ha,e)]},{test:[/chrome|crios|crmo/i],describe:e=>["Chrome",Yt(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e)]},{test:e=>!/like android/i.test(e)&&/android/i.test(e),describe:e=>["Android Browser",Yt(Ha,e)]},{test:[/safari|applewebkit/i],describe:e=>["Safari",Yt(Ha,e)]}],kx=[{test:[/windows /i],describe:e=>["Windows",Yt(/Windows ((NT|XP)( \d\d?.\d)?)/i,e)]},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:e=>["iOS",Bk(/(Version\/)(\d[\d.]+)/,e)]},{test:[/macintosh/i],describe:e=>["macOS",Yt(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,".")]},{test:[/(ipod|iphone|ipad)/i],describe:e=>["iOS",Yt(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".")]},{test:e=>!/like android/i.test(e)&&/android/i.test(e),describe:e=>["Android",Yt(/android[\s/-](\d+(\.\d+)*)/i,e)]},{test:[/linux/i],describe:()=>["Linux"]},{test:[/CrOS/],describe:()=>["Chrome OS"]}];class Nx{constructor(){this.value=void 0,this.gpu=void 0}get isSupported(){if(this.value===void 0)if(typeof window.OffscreenCanvas=="function"){const t=new OffscreenCanvas(1,1);t.addEventListener("webglcontextlost",r=>{r.preventDefault()});const n=t.getContext("webgl");if(this.value=!!n,n){const r=n.getExtension("WEBGL_debug_renderer_info");r&&(this.gpu=n.getParameter(r.UNMASKED_RENDERER_WEBGL))}}else this.value=!1;return this.value}}const Me=new class{constructor(){this._browser=void 0,this._os=void 0,this._browserVersion=void 0,this._osVersion=void 0,this._offscreenCanvasCapality=void 0,this._clientHintsData=void 0,this._offscreenCanvasCapality=new Nx,"userAgentData"in navigator&&navigator.userAgentData.getHighEntropyValues(["architecture","bitness","formFactor","model","platformVersion","wow64"]).then(e=>{this._clientHintsData=e,this._os&&this._osVersion&&this._clientHintsData.platform&&this._clientHintsData.platformVersion&&(this._os=this._clientHintsData.platform,this._osVersion=this._clientHintsData.platformVersion)}).catch(e=>{console.warn(e)})}_getBrowserVersion(){var e,t;if((e=this._clientHintsData)!==null&&e!==void 0&&(t=e.brands)!==null&&t!==void 0&&t.length){const n=this._clientHintsData.brands.filter(a=>!/(Chromium|Not.*Brand)/i.test(a.brand))[0];n&&(this._browser=n.brand);const r=this._clientHintsData.brands.find(a=>{var s;return((s=a.brand)===null||s===void 0?void 0:s.toLowerCase())==="chromium"});r?(this._browserVersion=r.version,this._browser||(this._browser=r.brand)):this._browserVersion=n.version}else{const n=navigator.userAgent,r=Mx.find(a=>typeof a.test=="function"?a.test(n):a.test.some(s=>s.test(n)));if(r){const a=r.describe(n);this._browser=a[0],this._browserVersion=a[1],this.isIOSMobile&&(this._browser="ios-safari")}else this._browser="unknown",this._browserVersion="0"}}_getOSVersion(){var e,t;if((e=this._clientHintsData)!==null&&e!==void 0&&e.platform&&(t=this._clientHintsData)!==null&&t!==void 0&&t.platformVersion)this._os=this._clientHintsData.platform,this._osVersion=this._clientHintsData.platformVersion;else{const n=navigator.userAgent,r=kx.find(a=>typeof a.test=="function"?a.test(n):a.test.some(s=>s.test(n)));if(r){const a=r.describe(n);this._os=a[0],this._osVersion=a[1]}else this._os="unknown",this._osVersion="0"}}get browser(){return this._browser||this._getBrowserVersion(),this._browser}get browserVersion(){return this._browserVersion||this._getBrowserVersion(),this._browserVersion}get os(){return this._os||this._getOSVersion(),this._os}get osVersion(){return this._osVersion||this._getOSVersion(),this._osVersion}get isIE(){return this.browser==="Internet Explorer"}get isLegacyEdge(){return this.browser==="Microsoft Edge(Legacy)"}get isLegacyOpera(){return this.browser==="Opera(Legacy)"}get isFirefox(){return this.browser==="Firefox"}get isSafari(){return this.browser==="Safari"}get isChrome(){var e,t,n;if((e=this._clientHintsData)!==null&&e!==void 0&&(t=e.brands)!==null&&t!==void 0&&t.length)return(n=this._clientHintsData)===null||n===void 0?void 0:n.brands.some(a=>{var s;return((s=a.brand)===null||s===void 0?void 0:s.toLocaleLowerCase())==="chromium"});const{userAgent:r}=navigator;return!this.isLegacyOpera&&!this.isLegacyEdge&&/chrome/i.test(r)&&/webkit/i.test(r)}get isLegacyChrome(){var e;return this.isChrome&&typeof((e=navigator.mediaDevices)===null||e===void 0?void 0:e.getDisplayMedia)!="function"}get isMacOS(){return this.os==="macOS"}get isIPad(){var e;return/iPad/i.test(navigator.userAgent)||this.isMacOS&&((e=navigator)===null||e===void 0?void 0:e.maxTouchPoints)>2}get isIOSMobile(){return this.os==="iOS"||this.isIPad}get architecture(){var e,t;return(e=(t=this._clientHintsData)===null||t===void 0?void 0:t.architecture)!==null&&e!==void 0?e:""}get isArm(){return this.architecture?this.architecture==="arm":/arm/i.test(navigator.userAgent)}get isChromeOS(){return this.os==="Chrome OS"}get isAndroidBrowser(){var e;return((e=this.os)===null||e===void 0?void 0:e.toLowerCase())==="android"}get isArmChromeOS(){return this.isArm&&this.isChromeOS}get isAndroidOrIOSBrowser(){return this.isAndroidBrowser||this.isIOSMobile}get isSupportEssentialAudioAndVideoAbility(){return typeof WebAssembly=="object"&&typeof Worker=="function"}get isSupportAudioWorklet(){return typeof AudioWorklet=="function"}get isSupportImageCapture(){return"ImageCapture"in window}get isSupportMediaStreamTrackProcessor(){return"MediaStreamTrackProcessor"in window}get isSupportOffscreenCanvas(){return this._offscreenCanvasCapality.isSupported}get gpu(){return this._offscreenCanvasCapality.isSupported?this._offscreenCanvasCapality.gpu:""}get bitness(){var e,t;return(e=(t=this._clientHintsData)===null||t===void 0?void 0:t.bitness)!==null&&e!==void 0?e:""}get model(){var e,t;return(e=(t=this._clientHintsData)===null||t===void 0?void 0:t.model)!==null&&e!==void 0?e:""}get wow64(){var e;if(this.os.toLowerCase()==="windows")return(e=this._clientHintsData)===null||e===void 0?void 0:e.wow64}get isSupportSendScreenSharing(){return"getDisplayMedia"in navigator.mediaDevices&&typeof navigator.mediaDevices.getDisplayMedia=="function"}};function Vr(){return Me.isAndroidOrIOSBrowser||!!Je.get(lA.EnforceWebRTCAudio)}const xk=()=>Me.isIE,Gg=()=>{var e;return Me.isSupportOffscreenCanvas&&((e=navigator)===null||e===void 0?void 0:e.hardwareConcurrency)>=4&&typeof requestAnimationFrame=="function"&&typeof SharedArrayBuffer=="function"},Ql=e=>{var t;const{isSafari:n,isIOSMobile:r,isSupportMediaStreamTrackProcessor:a,isAndroidOrIOSBrowser:s,isArmChromeOS:l,isChromeOS:d,isArm:f,isSupportOffscreenCanvas:p,isIPad:h}=Me;if(!Gg()){const g=n||r,v=typeof window.SharedArrayBuffer!="function"&&(!!g||a&&p);return e&&v?4:1}return s?h?9:4:l||d&&!f?navigator.hardwareConcurrency>=4?9:4:((t=navigator)===null||t===void 0?void 0:t.hardwareConcurrency)<4?9:25};function Hk(){var e;return"webkit"in window&&!("chrome"in window)&&!((e=window.webkit.messageHandlers)===null||e===void 0||!e.jsOCHelper)}function Oc(){var e;const{isAndroidBrowser:t,isIOSMobile:n,osVersion:r,browserVersion:a,isChrome:s,isFirefox:l,isSafari:d}=Me;var f,p;if(n)return Number((f=r.match(/^\d+/))===null||f===void 0?void 0:f[0])>=15;if(t)return Number((p=r.match(/^\d+/))===null||p===void 0?void 0:p[0])>=10;const h=Number((e=a.match(/^\d+/))===null||e===void 0?void 0:e[0]);return!!(s&&h>=69)||!!(d&&h>14)||!!(l&&h>=76)}let yn=function(e){return e.VIDEO_ENCODE="0",e.VIDEO_DECODE="1",e.AUDIO_ENCODE="2",e.AUDIO_DECODE="3",e.SHARING_ENCODE="4",e.SHARING_DECODE="5",e}({}),Wf=function(e){return e[e.NONE=0]="NONE",e[e.AES_256=1]="AES_256",e[e.AES_GCM=2]="AES_GCM",e}({});const Gn=Object.freeze({RWG_CHAT:{gcmType:1,sessionType:"RWG_CHAT"},XMPP_CHAT:{gcmType:1,sessionType:"XMPP_CHAT"},CC_MESSAGE:{gcmType:3,sessionType:"CC_MESSAGE"},BO_BROADCAST:{gcmType:1,sessionType:"BO_BROADCAST"},CHAT_FILE:{gcmType:2,sessionType:"CHAT_FILE"},CHAT_FILE_INFO:{gcmType:1,sessionType:"CHAT_FILE_INFO"}}),Tc=(window.crypto||window.msCrypto).subtle,yl=Ct.WebclientIVState,Lx=Object.keys(Gn).map(e=>Gn[e].sessionType);class Rn{constructor(t,n,r){this.isGCMEnabled=void 0,this.gcmSessionKey=void 0,this.gcmMainSessionKey=void 0,this.zoomId=void 0,this.resetParameters(t,n,r),Je.set(yl,{},ft.SessionStorage)}static init(t,n,r){this.instance?this.instance.resetParameters(t,n,r):this.instance=new Rn(t,n,r)}static destroy(){this.instance&&(this.instance=void 0)}resetParameters(t,n,r){this.isGCMEnabled=!(Me.isIE||!Me.isSupportEssentialAudioAndVideoAbility)&&r===Wf.AES_GCM,this.gcmSessionKey=ni(n),this.gcmMainSessionKey||(this.gcmMainSessionKey=this.gcmSessionKey),this.zoomId=String(t)}beginCrypto(t,n,r){const a=new Uint32Array(1);a[0]=9,a[0]+=Number(r);const s=new Uint8Array(a.buffer);let l=new Uint8Array(132);const d=ni(n);return l.set(d,0),l.set(s,d.length),l=l.subarray(0,d.length+4),Tc.importKey("raw",t,{name:"HMAC",hash:"SHA-256"},!0,["sign"]).then(f=>Tc.sign({name:"HMAC"},f,l)).then(f=>Tc.importKey("raw",f,{name:"AES-GCM",length:256},!0,["encrypt","decrypt"]))}getNextIV(t){const n=Je.get(yl);return n[t]===void 0?(n[t]=0,Je.set(yl,n,ft.SessionStorage)):Je.set(yl,r=>({...r,[t]:r[t]+1}),ft.SessionStorage)}resetIVState(){const t=Je.get(yl);if(t!==void 0){const n=Object.keys(t).filter(r=>Lx.indexOf(r)>-1);n.length>0&&(n.forEach(r=>{t[r]+=1e6}),Je.set(yl,t,ft.SessionStorage))}}static resetIV(){if(this.instance===void 0)throw new Error("reset before intialize");this.instance.resetIVState()}static beginEncrypt(t){let{text:n,type:r}=t;const a=new Uint8Array(0);if(this.instance&&this.instance.isGCMEnabled){const d=this.instance.getNextIV(r.sessionType),f=new ArrayBuffer(12),p=new Uint8Array(f);new DataView(f).setUint32(0,d,!0);let h=null;return h=r.sessionType==="BO_BROADCAST"||r.sessionType==="XMPP_CHAT"?this.instance.gcmMainSessionKey:this.instance.gcmSessionKey,this.instance.beginCrypto(h,this.instance.zoomId,r.gcmType).then(g=>{const v=ArrayBuffer.isView(n)?n:new TextEncoder().encode(n);return Tc.encrypt({name:"AES-GCM",iv:p,additionalData:a,tagLength:8*16},g,v)}).then(g=>{const v=1+p.byteLength+2+a.byteLength+4+g.byteLength,S=new ArrayBuffer(v);if(new Uint8Array(S)[0]=p.length,new Uint8Array(S,1,p.byteLength).set(p),new DataView(S).setUint16(1+p.byteLength,a.length,!0),new Uint8Array(S,3+p.byteLength).set(a),new DataView(S).setUint32(1+p.byteLength+2+a.byteLength,g.byteLength-16,!0),new Uint8Array(S,1+p.byteLength+2+a.byteLength+4).set(new Uint8Array(g)),r.sessionType===Gn.CHAT_FILE.sessionType)return S;const b=new Uint8Array(S).reduce((_,E)=>_+String.fromCharCode(E),"");return window.btoa(b).replace(/_/g,"/").replace(/-/g,"+").replace(/\=/g,"")})}return Promise.resolve(ArrayBuffer.isView(n)?n:Wt(n))}static beginDecrypt(t){let{decryptedText:n,type:r,zoomId:a}=t;if(this.instance&&this.instance.isGCMEnabled){const s=ArrayBuffer.isView(n)||n instanceof ArrayBuffer?new Uint8Array(n):function(E){let A;const w=E.length,O=new Array(w);for(A=0;A<w;++A)O[A]=255&E.charCodeAt(A);return new Uint8Array(O)}(atob(n.replace(/_/g,"/").replace(/-/g,"+"))),l=s[0],d=s.slice(1,l+1),f=s.slice(1+l,3+l),p=new DataView(f.buffer).getUint16(0,!0),h=s.slice(1+l+2,1+l+2+p),g=s.slice(1+l+2+p,1+l+2+p+4),v=new DataView(g.buffer).getUint32(0,!0),S=s.slice(1+l+2+p+4,1+l+2+p+4+v),b=s.slice(1+l+2+p+4+v);let _=null;return _=r.sessionType==="BO_BROADCAST"||r.sessionType==="XMPP_CHAT"?this.instance.gcmMainSessionKey:this.instance.gcmSessionKey,this.instance.beginCrypto(_,a,r.gcmType).then(E=>{const A=function(w,O){w=new Uint8Array(w),O=new Uint8Array(O);const I=new Uint8Array(w.length+O.length);return I.set(w),I.set(O,w.length),I}(S,b);return Tc.decrypt({name:"AES-GCM",iv:d,additionalData:h,tagLength:8*b.length},E,A.buffer)}).then(E=>({message:r.sessionType===Gn.CHAT_FILE.sessionType?E:new TextDecoder().decode(E),iv:d,aad:h})).catch(E=>({message:"[This is an encrypted message]",iv:d,aad:h}))}{const s=new TextDecoder("utf-8");return Promise.resolve({message:ArrayBuffer.isView(n)||n instanceof ArrayBuffer?n:s.decode(ni(n))})}}}Rn.instance=void 0;const Xb=20225,dA=20234,Pt=7937,ri=7938,e_=12039,kR=16138,qg=4098,bS=4305,yh=4343,t_=16428;let Bt=function(e){return e[e.NoAttendee=0]="NoAttendee",e[e.All=1]="All",e[e.AllPanelist=2]="AllPanelist",e[e.Host=3]="Host",e[e.NoOne=4]="NoOne",e[e.EveryonePublicly=5]="EveryonePublicly",e}({}),Tu=function(e){return e[e.AllPanelist=1]="AllPanelist",e[e.Everyone=2]="Everyone",e[e.Invalid=0]="Invalid",e}({}),wt=function(e){return e[e.All=0]="All",e[e.Panelist=1]="Panelist",e[e.IndividualCcPanelist=2]="IndividualCcPanelist",e[e.Individual=3]="Individual",e[e.SilentModeUsers=4]="SilentModeUsers",e}({}),Lm=function(e){return e[e.None=0]="None",e[e.Delete=1]="Delete",e[e.Modify=2]="Modify",e}({}),_S=function(e){return e[e.Success=0]="Success",e[e.Delete=1]="Delete",e[e.Block=3]="Block",e}({});const Px=[Bt.All,Bt.Host,Bt.NoOne,Bt.EveryonePublicly],Ux=[Bt.NoOne,Bt.All,Bt.AllPanelist],Pm={AllPanelist:11,Everyone:12},Vx={[Pm.AllPanelist]:Tu.AllPanelist,[Pm.Everyone]:Tu.Everyone},Zc={userId:wt.All,displayName:"Everyone",isHost:!1,isCoHost:!1},jl={userId:wt.Panelist,displayName:"All panelists"},jx={userId:wt.SilentModeUsers,displayName:"Everyone (in Waiting Room)",isHost:!1,isCoHost:!1};let Bx=function(e){return e[e.Local=0]="Local",e[e.ThirdParty=1]="ThirdParty",e}({}),Vn=function(e){return e[e.ChunkSize=20971520]="ChunkSize",e[e.EncodeBlockSize=32768]="EncodeBlockSize",e[e.DecodeBlockSize=32803]="DecodeBlockSize",e[e.MaxSize=2147483648]="MaxSize",e[e.ReaderChunkSize=1073741824]="ReaderChunkSize",e}({}),sn=function(e){return e[e.Init=0]="Init",e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.Fail=3]="Fail",e[e.Cancel=4]="Cancel",e[e.Complete=5]="Complete",e}({}),na=function(e){return e[e.InProgress=1]="InProgress",e[e.Success=2]="Success",e[e.Fail=3]="Fail",e[e.Cancel=4]="Cancel",e}({});const xx={"7z":"application/x-7z-compressed",avi:"video/x-msvideo",bin:"application/octet-stream",bmp:"image/bmp",css:"text/css",csv:"text/csv",doc:"application/msword",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",gif:"image/gif",gz:"application/gzip",html:"text/html",ics:"text/calendar",jar:"application/java-archive",jpeg:"image/jpeg",jpg:"image/jpeg",js:"text/javascript",json:"application/json",mid:"audio/midi",mov:"video/*",mp3:"audio/mpeg",mp4:"video/mp4",mpeg:"video/*",mpg:"video/*",pdf:"application/pdf",png:"image/png",ppt:"application/vnd.ms-powerpoint",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",rar:"application/vnd.rar",rtf:"application/rtf",tar:"application/x-tar",tif:"image/tiff",tiff:"image/tiff",txt:"text/plain",wav:"audio/wav",webp:"image/webp",wma:"audio/*",wmv:"video/*",xls:"application/vnd.ms-excel",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xml:"application/xml",zip:"application/zip"};let cr=function(e){return e.Open="open",e.Message="message",e.Error="error",e.Close="close",e.Inactive="inactive",e}({});class zk{constructor(){this.eventHandlers=void 0,this.websocket=void 0,this.seq=void 0,this.intervalsToBeCleardWhenSocketClose=[],this.isAlive=!1,this.eventHandlers=new Map,this.websocket=null,this.seq=1}on(t,n){let r=this.eventHandlers.get(t);r||(r=[]),r.push(n),this.eventHandlers.set(t,r)}off(t,n){const r=this.eventHandlers.get(t);if(r){const a=r.filter(s=>s!==n);this.eventHandlers.set(t,a)}}emit(t,n){const r=this.eventHandlers.get(t);r&&r instanceof Array&&r.slice(0).forEach(a=>{try{a(n)}catch(s){console.error(s)}})}sendMessageToRwg(t){this.seq+=1;const n=this.seq;return this.websocket&&this.websocket.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify(Object.assign(t,{seq:n}))),n}connect(t){this.websocket=new WebSocket(t),this.websocket.binaryType="arraybuffer",this.addWebSocketEventListeners()}close(){var t;(t=this.websocket)===null||t===void 0||t.close()}addHeartBeat(){const t=Me.isAndroidOrIOSBrowser?15e3:2e4,n=setInterval(()=>{this.isAlive||this.emit(cr.Inactive,{}),this.sendMessageToRwg({evt:0}),this.isAlive=!1},t);this.intervalsToBeCleardWhenSocketClose.push(n)}clearIntervals(){this.intervalsToBeCleardWhenSocketClose.forEach(t=>clearInterval(t)),this.isAlive=!1}addWebSocketEventListeners(){this.websocket&&(this.websocket.addEventListener("open",t=>{this.addHeartBeat(),this.emit(cr.Open,t)}),this.websocket.addEventListener("message",t=>{this.isAlive=!0,this.emit(cr.Message,t)}),this.websocket.addEventListener("close",t=>{this.clearIntervals(),this.emit(cr.Close,t)}),this.websocket.addEventListener("error",t=>{this.clearIntervals(),this.emit(cr.Error,t)}))}sendLaunchParams(t){return{seq:this.sendMessageToRwg({evt:4301,body:t})}}joinMeeting(t){return{seq:this.sendMessageToRwg({evt:4097,body:{meetingtoken:t}})}}lockMeeting(t){return{seq:this.sendMessageToRwg({evt:4099,body:{bLock:t}})}}endMeeting(){return{seq:this.sendMessageToRwg({evt:4101,body:{}})}}leaveMeeting(){return{seq:this.sendMessageToRwg({evt:4103,body:{}})}}recordMeeting(t,n){return{seq:this.sendMessageToRwg({evt:4105,body:{bRecord:t,bPause:n}})}}localRecordingGrantPermission(t,n,r){return{seq:this.sendMessageToRwg({evt:yh,body:{cmdType:"permission_request_answer",userId:t,agreed:n,saveAgreed:r}})}}hostGrantPermission(t,n){return{seq:this.sendMessageToRwg({evt:yh,body:{cmdType:"grant_permission",userId:t,grant:n}})}}localRecordingRequestPermission(){return{seq:this.sendMessageToRwg({evt:yh,body:{cmdType:"request_permission"}})}}localRecordingMeeting(t){return{seq:this.sendMessageToRwg({evt:yh,body:{cmdType:"change_recording_status",status:t}})}}summaryMeeting(t){return{seq:this.sendMessageToRwg({evt:8009,body:{type:t?"start":"stop"}})}}startMeetingQuery(t){return{seq:this.sendMessageToRwg({evt:8017,body:{type:t?"start":"stop"}})}}allowSelfRecord(t){return{seq:this.sendMessageToRwg({evt:4325,body:{bAllowISORecord:t}})}}enableZoomIQRecord(t){return{seq:this.sendMessageToRwg({evt:4318,body:{check:t}})}}expel(t){return{seq:this.sendMessageToRwg({evt:4107,body:{id:t}})}}expelAttendee(t){return{seq:this.sendMessageToRwg({evt:4205,body:{jid:t}})}}rename(t,n,r){return{seq:this.sendMessageToRwg({evt:4109,body:{id:t,dn2:n,olddn2:r}})}}assignHost(t,n){return{seq:this.sendMessageToRwg({evt:4111,body:{id:t,bCoHost:n}})}}reclaimHost(t){let n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return{seq:this.sendMessageToRwg({evt:4133,body:{id:t,bCoHost:n}})}}revokeCoHost(t){return{seq:this.sendMessageToRwg({evt:4195,body:{id:t}})}}putOnHold(t,n){return{seq:this.sendMessageToRwg({evt:4113,body:{id:t,bHold:n}})}}setMuteOnEntry(t){return{seq:this.sendMessageToRwg({evt:4115,body:{bOn:t}})}}setHoldOnEntry(t){return{seq:this.sendMessageToRwg({evt:4117,body:{bOn:t}})}}inviteCRCDevice(t,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:2;return{seq:this.sendMessageToRwg({evt:4119,body:{ip:t,type:n,encrypt:r}})}}cancelInviteCRCDevice(t){return{seq:this.sendMessageToRwg({evt:4121,body:{transID:t}})}}sendCloseCaption(t){return{seq:this.sendMessageToRwg({evt:4125,body:{...t}})}}allowViewParticipantNumber(t){return{seq:this.sendMessageToRwg({evt:4127,body:{bOn:t}})}}lowerAllHands(){return{seq:this.sendMessageToRwg({evt:4129,body:{}})}}raiseLowerHand(t,n){return{seq:this.sendMessageToRwg({evt:4131,body:{id:t,bOn:n}})}}chat(t,n,r,a){const s={text:t,destNodeID:n};return r&&Object.assign(s,{sn:r}),a&&Object.assign(s,{attendeeNodeID:a}),{seq:this.sendMessageToRwg({evt:4135,body:s})}}assignCC(t,n){return{seq:this.sendMessageToRwg({evt:4137,body:{id:t,bCCEditor:n}})}}enableLT(t){return{seq:this.sendMessageToRwg({evt:4227,body:{op:t?2:4}})}}enableNewLLT(){return{seq:this.sendMessageToRwg({evt:4285})}}disableCaptions(t){return{seq:this.sendMessageToRwg({evt:bS,body:{type:4,disableNewLtt:t}})}}enableManualCaption(t){return{seq:this.sendMessageToRwg({evt:4291,body:{op:t?1:0}})}}setTranslationLanguage(t){return t!==void 0?{seq:this.sendMessageToRwg({evt:bS,body:{type:1,lang:t}})}:{seq:this.sendMessageToRwg({evt:bS,body:{type:3}})}}setSpokenLanguage(t){return{seq:this.sendMessageToRwg({evt:4287,body:{lang:t}})}}allowAskLT(t){return{seq:this.sendMessageToRwg({evt:4263,body:{bAnonymous:t}})}}approveLT(){return{seq:this.sendMessageToRwg({evt:4262,body:{bApproved:!0}})}}askLT(t){return{seq:this.sendMessageToRwg({evt:4261,body:{bAnonymous:t}})}}setChatPriviledge(t){return{seq:this.sendMessageToRwg({evt:4141,body:{chatPriviledge:t}})}}setPanelistChatPrivilege(t){if(!Object.values(Pm).includes(t))throw Error("Invalid panelist chat privilege req value");return{seq:this.sendMessageToRwg({evt:4141,body:{chatPriviledge:t}})}}sendFeedback(t){return{seq:this.sendMessageToRwg({evt:4143,body:{feedback:t}})}}clearFeedback(){return{seq:this.sendMessageToRwg({evt:4145,body:{}})}}allowUnmuteVideo(t){return{seq:this.sendMessageToRwg({evt:4147,body:{bOn:t}})}}allowUnmuteAudio(t){return{seq:this.sendMessageToRwg({evt:4149,body:{bOn:t}})}}allowRaiseHand(t){return{seq:this.sendMessageToRwg({evt:4151,body:{bOn:t}})}}boToken(t){return{seq:this.sendMessageToRwg({evt:4173,body:{topic:t}})}}startBO(t){return{seq:this.sendMessageToRwg({evt:4175,body:{proto:t}})}}stopBO(t){return{seq:this.sendMessageToRwg({evt:4177,body:{status:t}})}}assignToBO(t,n){return{seq:this.sendMessageToRwg({evt:4179,body:{targetID:t,targetBID:n}})}}switchBO(t,n){return{seq:this.sendMessageToRwg({evt:4181,body:{targetID:t,targetBID:n}})}}wantJoinBO(t,n){return{seq:this.sendMessageToRwg({evt:4183,body:{targetID:t,targetBID:n}})}}joinBO(t){return{seq:this.sendMessageToRwg({evt:4193,body:{targetBID:t}})}}leaveBO(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return{seq:this.sendMessageToRwg({evt:4185,body:{reason:t}})}}broadcastBO(t){return{seq:this.sendMessageToRwg({evt:4187,body:{textContent:t}})}}askForHelpBO(t){return{seq:this.sendMessageToRwg({evt:4189,body:{targetID:t}})}}askForHelpResultBO(t,n){return{seq:this.sendMessageToRwg({evt:4191,body:{targetID:t,helpResult:n}})}}allowParticipantRename(t){return{seq:this.sendMessageToRwg({evt:4163,body:{bOn:t}})}}allowMessageFeedbackNotify(t,n){return{seq:this.sendMessageToRwg({evt:4171,body:{bOn:t,id:n}})}}setPlayChime(t,n){return{seq:this.sendMessageToRwg({evt:4197,body:{bOn:t,id:n}})}}admitAllSilentUsers(){return{seq:this.sendMessageToRwg({evt:4199,body:{}})}}bindTeleUser(t,n,r){return{seq:this.sendMessageToRwg({evt:4201,body:{teleUserID:t,targetUserID:n,bBind:r}})}}practiceSession(){return{seq:this.sendMessageToRwg({evt:4207,body:null})}}roleChangeWebinar(t,n,r,a){return{seq:this.sendMessageToRwg({evt:4209,body:{jid:n,userID:r,clientCap:a,bPromote:t}})}}sendPromoteConsent(t,n){return{seq:this.sendMessageToRwg({evt:4254,body:{agreed:t,req_id:n}})}}batchCreateBOToken(t){const n=t.map((r,a)=>({topic:r,index:a}));return{seq:this.sendMessageToRwg({evt:4211,body:n})}}mute(t,n){return{seq:this.sendMessageToRwg({evt:8193,body:{bMute:n,id:t}})}}audioDrop(t){return{seq:this.sendMessageToRwg({evt:8195,body:{id:t}})}}audioDialout(t,n,r,a,s){return{seq:this.sendMessageToRwg({evt:8197,body:{pn:t,dn2:Wt(n),bCallme:r,bPressOne:a,bGreeting:s}})}}audioCancelDialout(t,n){return{seq:this.sendMessageToRwg({evt:8199,body:{pn:t,bCallme:n}})}}audioMuteAll(t){return{seq:this.sendMessageToRwg({evt:8201,body:{bMute:t}})}}allowToTalk(t,n){return{seq:this.sendMessageToRwg({evt:8204,body:{id:t,bAllowTalk:n}})}}subscribeVideo(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return{seq:this.sendMessageToRwg({evt:12289,body:{id:t,size:n,bOn:r}})}}unsubscribeVideo(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;return{seq:this.sendMessageToRwg({evt:12291,body:{id:t}})}}muteAttendeeVideo(t,n){return{seq:this.sendMessageToRwg({evt:12297,body:{id:t,bOn:n}})}}notifyRwgIsMuteVideo(t,n){return this.muteAttendeeVideo(t,n)}pauseSharing(){return{seq:this.sendMessageToRwg({evt:16385,body:{}})}}resumeSharing(){return{seq:this.sendMessageToRwg({evt:16387,body:{}})}}allowAnonymousQuestion(t,n){return{seq:this.sendMessageToRwg({evt:4155,body:{userId:t,bOn:n}})}}allowViewAll(t,n){return{seq:this.sendMessageToRwg({evt:4157,body:{userId:t,bOn:n}})}}allowVote(t,n){return{seq:this.sendMessageToRwg({evt:4159,body:{userId:t,bOn:n}})}}allowComment(t,n){return{seq:this.sendMessageToRwg({evt:4161,body:{userId:t,bOn:n}})}}sharingRequestRemoteControl(t,n){return{seq:this.sendMessageToRwg({evt:16389,body:{id:t,bOn:n}})}}subscribeGrabRemoteControl(t,n){return{seq:this.sendMessageToRwg({evt:16393,body:{id:t,bOn:n}})}}subscribeSharing(t,n,r,a){const s={id:t,size:n};return r&&Object.assign(s,{bShareToBO:!0}),a!==void 0&&Object.assign(s,{bVideoShare:a}),{seq:this.sendMessageToRwg({evt:16415,body:s})}}unsubscribeSharing(t,n){const r={id:t};return n&&Object.assign(r,{bShareToBO:!0}),{seq:this.sendMessageToRwg({evt:16417,body:r})}}sendRWGConnectionPerformance(t){return{seq:this.sendMessageToRwg({evt:4167,body:{data:t}})}}sendSdkKeyToMonitor(t,n,r){return{seq:this.sendMessageToRwg({evt:4167,body:{data:`ZoomConferenceClient,videoapp_HTML5_sdk_web_join,${r},2,${n},${t}`}})}}sendDatachannelOffer(t){return{seq:this.sendMessageToRwg({evt:24321,offer:t})}}joinOrLeaveVoip(t){return{seq:this.sendMessageToRwg({evt:8203,body:{bOn:t}})}}startSharing(t,n){return{seq:this.sendMessageToRwg({evt:16409,body:{id:t,boOn:!1,...n??{}}})}}stopSharing(t){return{seq:this.sendMessageToRwg({evt:16409,body:{id:t,bOn:!0}})}}lockSharing(t){return{seq:this.sendMessageToRwg({evt:4169,body:{lockShare:t}})}}startShareToBreakoutRoom(t){return{seq:this.sendMessageToRwg({evt:16425,body:{id:t,bShareToBO:!0}})}}stopShareToBreakoutRoom(t){return{seq:this.sendMessageToRwg({evt:16425,body:{id:t,bShareToBO:!1}})}}preAssignBreakoutRoom(){return{seq:this.sendMessageToRwg({evt:4213,body:{}})}}claimHost(t){return{seq:this.sendMessageToRwg({evt:4215,body:{hostKey:t}})}}allowMultiplePin(t,n){return{seq:this.sendMessageToRwg({evt:4217,body:{userID:t,bOn:n}})}}spotlightVideo(t,n){return{seq:this.sendMessageToRwg({evt:4219,body:{id:t,...n}})}}connectCamera(t,n){const r={evt:12307,body:{id:t,bOn:n}};return{seq:this.sendMessageToRwg(r)}}followHostLayout(t){return{seq:this.sendMessageToRwg({evt:4223,body:{bFollowHostVideo:t}})}}setVideoDragLayout(t){return{seq:this.sendMessageToRwg({evt:4218,body:{drag_list:t}})}}chatCmdReq(t,n){return{seq:this.sendMessageToRwg({evt:4237,body:{msgID:t,cmd:n}})}}activeAppLinkReq(t){return{seq:this.sendMessageToRwg({evt:4257,body:{appId:t}})}}activeAppInfoReq(){return{seq:this.sendMessageToRwg({evt:4255,body:{}})}}muteShareAudio(t){return{seq:this.sendMessageToRwg({evt:16423,body:{bOn:!0,bShareAudio:!t}})}}localMuteAudio(t,n){return{seq:this.sendMessageToRwg({evt:8209,body:{id:t,bMute:n}})}}changeSharePronoun(t,n){return{seq:this.sendMessageToRwg({evt:4264,body:{bPronoun:t,strPronoun:n}})}}sendReceivingSharingReady(t){return{seq:this.sendMessageToRwg({evt:16421,body:{ssrc:t}})}}sendManualCaption(t){return{seq:this.sendMessageToRwg({evt:4289,body:{...t}})}}sendPollingAction(t,n,r){return{seq:this.sendMessageToRwg({evt:4224,body:{action:t,PollingId:n,...r}})}}broadcastUserNetworkQuality(t){const n={type:t.isUplink,level:t.level,bwLevel:t.bwLevel};return{seq:this.sendMessageToRwg({evt:4331,body:n})}}sendFarEndCameraControl(t,n,r){return{seq:this.sendMessageToRwg({evt:4329,body:{cmd:t,userID:n,buttonID:r}})}}sendCameraAblity(t){return{seq:this.sendMessageToRwg({evt:4330,body:{...t,focus:!1}})}}sendReaction(t){return{seq:this.sendMessageToRwg({evt:4259,body:{...t}})}}remoteControlConsent(t,n,r,a){let s=arguments.length>4&&arguments[4]!==void 0&&arguments[4];const{deviceId:l,...d}=a;return{seq:this.sendMessageToRwg({evt:16427,body:{DeviceID:l,op:t,SendUserID:r,AssignUserID:n,...d,bAutoDelete:s}})}}takeBackRemoteControlPermission(t,n){return{seq:this.sendMessageToRwg({evt:16431,body:{SendUserID:t,ReceiverUserID:n}})}}syncSharedContentMetaWithRcApp(t){const{deviceId:n,...r}=t;return{seq:this.sendMessageToRwg({evt:16429,body:{DeviceID:n,...r}})}}startLiveStream(t,n,r){return{seq:this.sendMessageToRwg({evt:7977,body:{action:1,streamingURL:t,streamingKey:n,broadcastURL:r}})}}stopLiveStream(){return{seq:this.sendMessageToRwg({evt:7977,body:{action:0}})}}sendRemoteControlAuth(t){return{seq:this.sendMessageToRwg({evt:16433,body:{auth:t}})}}chatFileTransfer(t){return{seq:this.sendMessageToRwg({evt:4307,body:{...t,fileType:0,receiverType:0}})}}}class at extends zk{static createAgent(){return this.rwgInstance||(this.rwgInstance=new at),this.rwgInstance}}at.rwgInstance=null;class $g extends zk{static getInstance(){return this.instance||(this.instance=new $g),this.instance}}$g.instance=null;const Fk=[{name:"audio_simd.min.js",category:"audio",type:"worker",tag:"simd",alias:"audioSIMDWorkletPath"},{name:"audio.simd.wasm",category:"audio",type:"wasm",tag:"simd",alias:"audioSIMDWasm"},{name:"js_audio_process.min.js",category:"audio",type:"worker",tag:"",alias:"audioWorkerPath"},{name:"audio.encode.wasm",category:"audio",type:"wasm",tag:"",alias:"audioWasm"},{name:"js_audio_worklet.min.js",category:"audio",type:"worklet",tag:"",alias:"audioWorkletPath"},{name:"js_audio_worklet_simd.min.js",category:"audio",type:"worklet",tag:"simd",alias:"audioWorkletSIMDPath"},{name:"js_audio_worklet_process.min.js",category:"audio",type:"worklet",tag:"",alias:"audioWorkletProcessPath"},{name:"js_sharing_audio_worklet.min.js",category:"audio",type:"worklet",tag:"",alias:"sharingAudioWorkletPath"},{name:"video_mtsimd.min.js",category:"video",type:"worker",tag:"simd,thread",alias:"videoMSIMDWorkerPath"},{name:"video.mtsimd.wasm",category:"video",type:"wasm",tag:"simd,thread,videoShare",alias:"videoMSIMDWasm"},{name:"video_m.min.js",category:"video",type:"worker",tag:"thread",alias:"videoMtWorkerPath"},{name:"video.mt.wasm",category:"video",type:"wasm",tag:"thread",alias:"videoMtWasm"},{name:"video_simd.min.js",category:"video",type:"worker",tag:"simd",alias:"videoSIMDWorkerPath"},{name:"video.simd.wasm",category:"video",type:"wasm",tag:"simd",alias:"videoSIMDWasm"},{name:"video_s.min.js",category:"video",type:"worker",tag:"",alias:"videoWorkerPath"},{name:"video.decode.wasm",category:"video",type:"wasm",tag:"",alias:"videoWasm"},{name:"video_share_mtsimd.min.js",category:"video",type:"worker",tag:"videoShare",alias:"vsmiworkerpath"},{name:"sharing_mtsimd.min.js",category:"sharing",type:"worker",tag:"simd,thread",alias:"sharingMSIMDWorkerPath"},{name:"sharing_m.min.js",category:"sharing",type:"worker",tag:"thread",alias:"sharingMtWorkerPath"},{name:"sharing_simd.min.js",category:"sharing",type:"worker",tag:"simd",alias:"sharingSIMDWorkerPath"},{name:"sharing_s.min.js",category:"sharing",type:"worker",tag:"",alias:"sharingWorkerPath"}],NR="1505",Gk=(e,t)=>Fk.reduce((n,r)=>{const{name:a,alias:s}=r;return Object.assign(n,{[`${s}`]:`${e}/${t&&NR?`${NR}_`:""}${a}`}),n},{});let jn=function(e){return e.VideoEncode="0",e.VideoDecode="1",e.AudioEncode="2",e.AudioDecode="3",e.SharingEncode="4",e.SharingDecode="5",e}({});const vl=Ct.WebclientIVState;class qe{static getInstance(){return this.agentInstance===void 0&&(this.agentInstance=new qe),this.agentInstance}constructor(){this.assetsPath=void 0,this.instance=void 0,this.callbackList=void 0,this.mediaWorkersPath=void 0,this.constraints=void 0,this.svcUrl=void 0,this.meetingNumber=void 0,this.confId=void 0,this.mediaSocketAddress=void 0,this.currentUserId=void 0,this.receivedSharingCanvas=void 0,this.sharingCanvas=void 0,this.mediaOptions=void 0,this.inProgress=void 0,this.callbackList=[]}init(t){if(!this.instance&&window.JsMediaSDK_Instance){const n={ivObj:{[yn.AUDIO_ENCODE]:Je.get(vl)&&Je.get(vl)[yn.AUDIO_ENCODE],[yn.VIDEO_ENCODE]:Je.get(vl)&&Je.get(vl)[yn.VIDEO_ENCODE],[yn.SHARING_ENCODE]:Je.get(vl)&&Je.get(vl)[yn.SHARING_ENCODE]},globalTracingLogger:t};this.instance=new window.JsMediaSDK_Instance(n),this.instance.setRWGAgent(at.createAgent())}}setAssetsAndConstraint(t,n,r,a){var s;this.assetsPath=t,this.constraints=n,this.mediaWorkersPath=Gk(this.assetsPath,!!r),this.onMediaSDKCallback=this.onMediaSDKCallback.bind(this),this.mediaOptions=a,(s=this.instance)===null||s===void 0||s.JsMediaSDK_PreLoad(this.mediaWorkersPath,this.onMediaSDKCallback,a)}onMediaSDKCallback(t,n){this.callbackList.length>0&&this.callbackList.forEach(r=>r(t,n))}registerCallback(t){this.callbackList.push(t)}unregisterCallback(t){this.callbackList=this.callbackList.filter(n=>n!==t)}static isSupportVideoEncodeHardwareAcceleration(){return window.JsMediaSDK_Instance.util.IsSupportVideoEncodeHardwareAcceleration()}static isSupportVideoDecodeHardwareAcceleration(){return window.JsMediaSDK_Instance.util.IsSupportVideoDecodeHardwareAcceleration()}static isCompatibleHardwareForEncode(){var t;return Me.isSupportOffscreenCanvas&&((t=window.JsMediaSDK_Instance)===null||t===void 0?void 0:t.util.AdapterWhiteListCheckForEncoder())==0}static getPTZCapability(){var t,n,r,a,s,l,d,f,p;return{pan:!((t=window.JsMediaSDK_Instance)===null||t===void 0||(n=t.util)===null||n===void 0||(r=n.isSupportCameraPan)===null||r===void 0||!r.call(n)),tilt:!((a=window.JsMediaSDK_Instance)===null||a===void 0||(s=a.util)===null||s===void 0||(l=s.isSupportCameraTilt)===null||l===void 0||!l.call(s)),zoom:!((d=window.JsMediaSDK_Instance)===null||d===void 0||(f=d.util)===null||f===void 0||(p=f.isSupportCameraZoom)===null||p===void 0||!p.call(f))}}static isSupportVideoShare(){var t,n,r;return!((t=window.JsMediaSDK_Instance)===null||t===void 0||(n=t.util)===null||n===void 0||(r=n.isSupportVideoShareReceive)===null||r===void 0||!r.call(n))}static isSupportVideoShareSend(){var t,n,r;return!((t=window.JsMediaSDK_Instance)===null||t===void 0||(n=t.util)===null||n===void 0||(r=n.isSupportVideoShareSend)===null||r===void 0||!r.call(n))}static isSupportSending720P(){var t,n;return!((t=window.JsMediaSDK_Instance)===null||t===void 0||(n=t.util)===null||n===void 0||!n.get720pcapacity())}static isSupportSubscribing1080P(){var t,n;return!((t=window.JsMediaSDK_Instance)===null||t===void 0||(n=t.util)===null||n===void 0||!n.getsub1080pcapacity())}static isSupportOpenMicWhenShareAudio(){var t;return!((t=window.JsMediaSDK_Instance)===null||t===void 0||!t.util.isSupportOpenMicWhenShareAudio())}static isSupportMediaPlaybackAsVideoInput(){var t,n;return!((t=window.JsMediaSDK_Instance)===null||t===void 0||(n=t.util.videoToMediaStreamManager)===null||n===void 0||!n.isSupported())}static isSupportMediaPlaybackAsAudioInput(){var t,n;return!((t=window.JsMediaSDK_Instance)===null||t===void 0||(n=t.util.audioToMediaStreamMananger)===null||n===void 0||!n.isSupported())}static isSupportAudioDenoise(){var t;return!((t=window.JsMediaSDK_Instance)===null||t===void 0||!t.util.isSupportAudioDenoise())}static isSupportAudioBridgeAVSync(){var t;return!((t=window.JsMediaSDK_Instance)===null||t===void 0||!t.util.isSupportAudioBridgeAvsync())}static getAudioFeatureFlag(){var t;return(t=window.JsMediaSDK_Instance)===null||t===void 0?void 0:t.util.getAudioFeatureFlags()}static isSupportShareMultiStream(){var t;return(t=window.JsMediaSDK_Instance)===null||t===void 0?void 0:t.util.isSupportShareMultiStream()}static isSupportVideoLTR(){var t;return(t=window.JsMediaSDK_Instance)===null||t===void 0?void 0:t.util.isSupportVideoLTR()}static isSupportStereoAudio(){var t;return!((t=window.JsMediaSDK_Instance)===null||t===void 0||!t.util.isBrowserSupportStereo())}static isSupportFullHDVideo(){var t;return!((t=window.JsMediaSDK_Instance)===null||t===void 0||!t.util.isSupportSendVideoFullHD())}static isSupportFullHDVideoShare(){var t;return!((t=window.JsMediaSDK_Instance)===null||t===void 0||!t.util.isSupportSendVideoShareFullHD())}connect(t){var n,r,a,s,l,d;let{svcUrl:f,meetingNumber:p,conId:h,e2eEncrypt:g,isViewOnly:v,currentUserId:S,isWebinar:b,enableAudioQos:_,enableVideoQos:E=!1,enableWebtransport:A=!1,webtransportPort:w}=t;const{isSupportEssentialAudioAndVideoAbility:O,isSupportAudioWorklet:I,isSupportSendScreenSharing:V}=Me;this.svcUrl=f,this.meetingNumber=p,this.confId=h;const U=((J,re,M)=>({videoSocketAddress:`wss://${J}/wc/media/${re}?type=v&cid=${M}`,audioSocketAddress:`wss://${J}/wc/media/${re}?type=a&cid=${M}`,sharingSocketAddress:`wss://${J}/wc/media/${re}?type=${xk()?"j":"s"}&cid=${M}`}))(f,p,h);this.mediaSocketAddress=U,this.currentUserId=S;const x=Ql((n=this.mediaOptions)===null||n===void 0?void 0:n.enableMultiDecodeVideoWithoutSAB);var $,W,z,L,T,N,F,P,D,K;(r=this.instance)===null||r===void 0||r.setPropsBeforeInit({callback:this.onMediaSDKCallback,audioWorkerPath:O?(a=this.mediaWorkersPath)===null||a===void 0?void 0:a.audioWorkletPath:void 0,e2eEncrypt:g,isEnableListenInitEvent:!0,enableWebtransport:A,webtransportPort:w}),((s=this.constraints)===null||s===void 0?void 0:s.audio)===!0&&O&&!Vr()&&((b||I)&&(($=this.instance)===null||$===void 0||$.initAudioDecode(this.mediaWorkersPath,U.audioSocketAddress,S,Bs,h,p,x,_)),!I||b&&v||(W=this.instance)===null||W===void 0||W.initAudioEncode(this.mediaWorkersPath,U.audioSocketAddress,S,Bs,h,p,x,_)),((l=this.constraints)===null||l===void 0?void 0:l.video)===!0&&O&&((z=this.instance)===null||z===void 0||z.initVideoDecode(this.mediaWorkersPath,U.videoSocketAddress,S,Bs,h,p,x,(L=(T=window.JsMediaSDK_Instance)===null||T===void 0||(N=T.util)===null||N===void 0?void 0:N.isGraphicShouldUseHardwareAccelerationDecode())===null||L===void 0||L,E),b&&v||(F=this.instance)===null||F===void 0||F.initVideoEncode(this.mediaWorkersPath,U.videoSocketAddress,S,Bs,h,p,x,!1,E,!0,!0)),((d=this.constraints)===null||d===void 0?void 0:d.screen)===!0&&(O?((P=this.instance)===null||P===void 0||P.initSharingDecode(this.mediaWorkersPath,U.sharingSocketAddress,S,Bs,h,p,x),!V||b&&v||(D=this.instance)===null||D===void 0||D.initSharingEncode(this.mediaWorkersPath,U.sharingSocketAddress,S,Bs,h,p,x)):(K=this.instance)===null||K===void 0||K.initSharingDecode(U.sharingSocketAddress)),this.inProgress=!0}async destroy(){var t;this.callbackList=[],[jn.AudioDecode,jn.AudioEncode,jn.VideoDecode,jn.VideoEncode].forEach(n=>{var r;(r=this.instance)===null||r===void 0||r.updateQosSubscription(!1,n)}),await((t=this.instance)===null||t===void 0?void 0:t.destroy()),this.instance=null,this.inProgress=!1}disconnect(){var t,n;(t=this.instance)===null||t===void 0||t.Notify_MeidaSDK(17,{}),(n=this.instance)===null||n===void 0||n.JsMediaSDK_UnInit()}muteAudio(){var t;(t=this.instance)===null||t===void 0||t.Notify_MeidaSDK(8,{ssrc:0})}unmuteAudio(){var t;(t=this.instance)===null||t===void 0||t.Notify_MeidaSDK(7,{ssrc:0,AudioSelectValue:0})}joinComputerAudio(t,n,r,a,s,l,d){var f;const p=d?{...d,enableHID:!0}:{enableHID:!1};return(f=this.instance)===null||f===void 0?void 0:f.Notify_MeidaSDK(22,{CaptureAudio:a,CaptureAudioInfo:{ssrc:t,AudioSelectValue:n==="default"?null:n,...p,audioProfile:s},speakerInfo:{defaultDeviceId:r},...l?{useAudioBridge:!0,audioBridge:l}:{}})}leaveComputerAudio(){var t;return(t=this.instance)===null||t===void 0?void 0:t.Notify_MeidaSDK(21,null)}joinSharingAudio(t){var n;let{ssrc:r,microphoneDeviceId:a,speakerDeviceId:s,isCaptureAudio:l,audioBridge:d}=t;return(n=this.instance)===null||n===void 0?void 0:n.Notify_MeidaSDK(72,{CaptureAudio:l,CaptureAudioInfo:{ssrc:r,AudioSelectValue:a==="default"?null:a},speakerInfo:{defaultDeviceId:s},checkAutoplay:!1,...d?{useAudioBridge:!0,audioBridge:d}:{}})}leaveSharingAudio(t){var n;return(n=this.instance)===null||n===void 0?void 0:n.Notify_MeidaSDK(73,{isPause:t?1:0})}changeSpeaker(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(11,{ssrc:0,AudioSelectValue:t})}changeMicrophone(t,n,r){var a;(a=this.instance)===null||a===void 0||a.Notify_MeidaSDK(18,{ssrc:0,AudioSelectValue:t==="default"?null:t,microphoneLabel:n??"default",defaultMuted:r})}restoreWebRTC(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(19,{ssrc:0,AudioSelectValue:t==="default"?null:t})}renderVideo(t,n,r,a,s,l,d,f,p,h,g){var v;const S={userId:n,width:a,height:s,x:l,y:d,quality:f,isMyself:p,canvas:t,enableWaterMark:g,waterMarkText:h,zone:r};t instanceof HTMLVideoElement&&Object.assign(S,{videodom:t}),(v=this.instance)===null||v===void 0||v.Notify_MeidaSDK(1,S)}stopRenderVideo(t,n,r,a){var s;let l=arguments.length>4&&arguments[4]!==void 0&&arguments[4];(s=this.instance)===null||s===void 0||s.Notify_MeidaSDK(2,{canvas:t,userId:n,RGBA:a,doNotClean:l,zone:r})}startCaptureVideo(t,n,r,a,s,l){var d;let f=arguments.length>6&&arguments[6]!==void 0&&arguments[6],p=arguments.length>8?arguments[8]:void 0;const h=arguments.length>7&&arguments[7]?qe.getPTZCapability():void 0;(d=this.instance)===null||d===void 0||d.Notify_MeidaSDK(3,{ssid:t,width:r,height:a,fps:p,video:s,usingFacingMode:l,VideoSelectValue:n==="default"?null:n,disableOriginalRatio:f,...h})}stopCaptureVideo(){var t;(t=this.instance)===null||t===void 0||t.Notify_MeidaSDK(4,{ssrc:0})}changeCamera(t,n){var r;(r=this.instance)===null||r===void 0||r.Notify_MeidaSDK(12,{VideoSelectValue:t==="default"?null:t,...n||{}})}switchCanvasForVideoCapture(t){var n;let r=t;Array.isArray(t)||(r=[t]),(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(25,r)}renderSharing(t,n){var r;let a=arguments.length>2&&arguments[2]!==void 0&&arguments[2],s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"",l=arguments.length>4&&arguments[4]!==void 0&&arguments[4];this.receivedSharingCanvas=n,(r=this.instance)===null||r===void 0||r.Notify_MeidaSDK(23,{width:0,height:0,ssrc:t,canvas:n,enableWaterMark:a,waterMarkText:s,isFromMainSession:l})}stopRenderSharing(){var t;(t=this.instance)===null||t===void 0||t.Notify_MeidaSDK(24,{})}switchSharingSource(t){var n;let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(36,{ssrc:t,isFromMainSession:Number(r)})}ajustmentReceivedSharingCanvas(t,n){if(this.receivedSharingCanvas)try{this.receivedSharingCanvas.width=t,this.receivedSharingCanvas.height=n}catch{}}startRemoteControl(t,n,r){var a;(a=this.instance)===null||a===void 0||a.Notify_MeidaSDK(26,{socketURL:`wss://${this.svcUrl}`,meetingID:this.meetingNumber,condID:this.confId,os:n,dom:t,...r})}stopRemoteControl(){var t;(t=this.instance)===null||t===void 0||t.Notify_MeidaSDK(28)}resendRemoteControlPositionPDU(){var t;(t=this.instance)===null||t===void 0||t.Notify_MeidaSDK(41)}updateRemoteControlProperties(t){var n;const{dimension:r,...a}=t;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(27,{...r,...a})}startDesktopSharing(t,n,r,a){var s;let l=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4],d=arguments.length>5?arguments[5]:void 0,f=arguments.length>6?arguments[6]:void 0,p=arguments.length>7?arguments[7]:void 0;this.sharingCanvas=document.querySelector(`#${n}`);const h={};a&&Object.assign(h,{share2ndCamera:!0,share2ndCameraParams:{VideoSelectValue:a.cameraId==="default"?null:a.cameraId,width:a.width,height:a.height}}),d!==void 0&&Object.assign(h,{videoParams:{displaySurface:d}}),p!==void 0&&Object.assign(h,{otherParams:{...p}}),(s=this.instance)===null||s===void 0||s.Notify_MeidaSDK(30,{ssid:t,canvas:n,video:r,...h,showShareAudioOption:l,sourceId:f})}stopDesktopSharing(){var t;(t=this.instance)===null||t===void 0||t.Notify_MeidaSDK(31,{})}pauseDesktopSharing(){var t;(t=this.instance)===null||t===void 0||t.Notify_MeidaSDK(32,{})}resumeDesktopSharing(){var t;(t=this.instance)===null||t===void 0||t.Notify_MeidaSDK(33,{})}selectLanguageChannelForNewLTT(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(57,{lang:t})}changeSharingSecondCamera(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(49,{VideoSelectValue:t})}ajustmentSharingCanvas(t,n){if(this.sharingCanvas)try{this.sharingCanvas.width=t,this.sharingCanvas.height=n}catch{}}checkChromeSharingExtension(){var t;(t=this.instance)===null||t===void 0||t.Notify_MeidaSDK(34,{})}enableAudioEncode(){var t,n;(t=this.instance)===null||t===void 0||t.initAudioEncode(this.mediaWorkersPath,this.mediaSocketAddress.audioSocketAddress,this.currentUserId,Bs,this.confId,this.meetingNumber,Ql((n=this.mediaOptions)===null||n===void 0?void 0:n.enableMultiDecodeVideoWithoutSAB))}sendUserNodeList(t,n){var r;(r=this.instance)===null||r===void 0||r.Notify_MeidaSDK(43,{userList:t,encryptKey:n})}updateRenderedSharingDimension(t,n){var r;(r=this.instance)===null||r===void 0||r.Notify_MeidaSDK(44,{width:t,height:n})}pauseOrResumeAudio(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(45,{bPause:t})}updateRenderedVideoCanvasDimension(t,n,r){var a;(a=this.instance)===null||a===void 0||a.Notify_MeidaSDK(46,{canvas:t,width:n,height:r})}clearVideoCanvas(t,n){var r;(r=this.instance)===null||r===void 0||r.Notify_MeidaSDK(47,{id:t,RGBA:n})}adjustRenderedVideoPosition(t,n,r,a,s,l,d,f){var p;(p=this.instance)===null||p===void 0||p.Notify_MeidaSDK(48,{userId:n,x:a,y:s,width:l,height:d,canvas:t,zone:r,RGBA:f})}mirrorVideo(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(75,{isMirrorMyVideo:t})}updateUserMediaSN(t){var n,r,a;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(80,{isFromMainSession:Number(t.isFromMainSession),mediaActionType:t.iVType,body:{add:(r=t.added)!==null&&r!==void 0?r:[],remove:(a=t.removed)!==null&&a!==void 0?a:[]}})}updateMediaParams(t){var n;const{iVType:r,isFromMainSession:a,updateParams:s}=t;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(81,{mediaActionType:r,isFromMainSession:Number(a),updateParams:s})}createMainSessionChannel(t,n){var r,a;t==="sharing"?(r=this.instance)===null||r===void 0||r.Notify_MeidaSDK(84,n):(a=this.instance)===null||a===void 0||a.Notify_MeidaSDK(85,n)}addReceivedSharingChannelType(t){var n;const{isFromMainSession:r,...a}=t;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(82,{isFromMainSession:Number(r),...a})}removeReceivedSharingChannelType(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(83,{isFromMainSession:Number(t.isFromMainSession),ssrc:t.ssrc})}enableHardwareAccelerationForVideoDecode(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(70,{enable:t})}enableHardwareAccelerationForVideoEncode(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(71,{enable:t})}setSharingAudioVolume(t,n,r){var a;(a=this.instance)===null||a===void 0||a.Notify_MeidaSDK(74,{userid:t>>10,shareVolume:n?0:100,isFromMainSession:r})}subscribeToQos(t,n){t.forEach(r=>{var a;(a=this.instance)===null||a===void 0||a.updateQosSubscription(!0,r,n)})}unsubscribeFromQos(t){t.forEach(n=>{var r;(r=this.instance)===null||r===void 0||r.updateQosSubscription(!1,n)})}passThroughRWGMessage(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(40,t)}startVirtualBackgroundSetting(t,n,r,a,s,l){var d;let f=arguments.length>6&&arguments[6]!==void 0&&arguments[6];(d=this.instance)===null||d===void 0||d.Notify_MeidaSDK(91,{canvas:t,bgdom:n,width:s,height:l,ssid:r,VideoSelectValue:a==="default"?null:a,disableOriginalRatio:f})}updateVirtualBackgroundImage(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(92,{bgdom:t})}stopVirtualBackgroundSetting(){var t;let n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];(t=this.instance)===null||t===void 0||t.Notify_MeidaSDK(93,{isSwitch:n})}startMaskSetting(t,n,r,a,s,l,d,f,p){var h;(h=this.instance)===null||h===void 0||h.Notify_MeidaSDK(62,{canvas:t,maskdom:r,bgdom:n,dx:0,dy:0,dWidth:l,dHeight:d,width:f,height:p,ssid:a,VideoSelectValue:s==="default"?null:s})}updateMaskBackgroundImage(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(63,{bgdom:t})}updateMaskClip(t,n,r){var a;(a=this.instance)===null||a===void 0||a.Notify_MeidaSDK(64,{maskdom:t,dx:0,dy:0,dWidth:n,dHeight:r})}stopMaskSetting(){var t;let n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];(t=this.instance)===null||t===void 0||t.Notify_MeidaSDK(65,{isSwitch:n})}enableVideoObserver(t){var n;let r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(99,{enable:t,fpsdisbale:r})}enableShareAudioToBreakoutRoom(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(86,{enable:t})}sendUserAudioStatus(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(51,t)}muteOrUnmuteOtherAudio(t,n){var r;(r=this.instance)===null||r===void 0||r.Notify_MeidaSDK(50,{userId:t,volume:n?0:100})}adjustOtherAudioVolume(t,n){var r;(r=this.instance)===null||r===void 0||r.Notify_MeidaSDK(50,{userId:t,volume:n})}notifySDKMeetingReady(){var t;(t=this.instance)===null||t===void 0||t.Notify_MeidaSDK(113)}movePTZCamera(t){var n,r;return(n=window.JsMediaSDK_Instance)===null||n===void 0||(r=n.util)===null||r===void 0?void 0:r.queryPTZPermisson().then(a=>{var s;return a?((s=this.instance)===null||s===void 0||s.Notify_MeidaSDK(53,t),Promise.resolve("")):Promise.reject("Cannot move camera without permission granted")})}switchSharingMode(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(101,{mode:t})}updateVideoHDValue(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK("update_videohd_value",{videohd:t})}updateVideoFullhdValue(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK("update_videofullhd_value",{videofullhd:t})}changeAudioProfile(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(126,t)}enableSyncButtonsOnHeadset(t,n,r){var a;(a=this.instance)===null||a===void 0||a.Notify_MeidaSDK(100,{enable:t,microphoneLabel:n,defaultMuted:r})}stopAllIncomingAudio(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(123,t)}isSharingEntireScreen(){var t,n;const r=(t=this.instance)===null||t===void 0||(n=t.getShareStreamInfo)===null||n===void 0?void 0:n.call(t);if(r){const{displaySurface:a}=r;return!a||a==="monitor"}return!1}getShareStreamInfo(){var t,n;const r=(t=this.instance)===null||t===void 0||(n=t.getShareStreamInfo)===null||n===void 0?void 0:n.call(t);if(r){const{deviceId:a,width:s,height:l}=r;return{deviceId:a,width:s,height:l}}return{}}preInitAudioBridge(t){var n;(n=this.instance)===null||n===void 0||n.previewInit({audioBridge:{...t}})}prefetchVideoSsrc(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(110,{ssrc:t})}cancelPrefetchVideoSsrc(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(112,{ssrc:t,haddata:!1})}setMobileRotateMode(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(124,{isLandScape:t})}changeActiveVideoSsrc(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(13,{ssrc:t})}setAudioCodecMode(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(122,{mode:t})}startRemoteControlQRCheck(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(54,{enable:t})}}qe.agentInstance=void 0;const Qf="ADD_CURRENT_USER_PARTICIPANT_ATTRIBUTE",kr="UPDATE_CURRENT_USER_PARTICIPANT_ATTRIBUTE",qk="ADD_USER_PARTICIPANT_ATTRIBUTE",Oo="UPDATE_USER_PARTICIPANT_ATTRIBUTE",cA="REMOVE_USER_PARTICIPANT_ATTRIBUTE",Xa="UPDATE_WEBINAR_PARTICIPANT_ATTRIBUTE",$k="REMOVE_WEBINAR_ATTENDEE_ATTRIBUTE",Kk="JOIN_MEETING_SUCCESS",xn="JOIN_MEETING_FAILED",vr="RECONNECTING_MEETING",Zs="LEAVING_MEETING",fA="MEETING_IN_WAITING_ROOM",pA="UPDATE_MEETING_ATTRIBUTE",Wk="SHARE_PRONOUN_TYPE_UPDATE";var Hi=function(e){return e.ConnectionChange="connection-change",e.OnHoldChange="on-hold-change",e.UserAdd="user-added",e.UserUpdate="user-updated",e.UserRemove="user-removed",e.AttendeeUpdate="attendee-updated",e.MeetingAttributeUpdate="meeting-attribute-updated",e.PromoteAttendeeConsent="promote-attendee-consent",e.ActiveAppsUpdate="active-apps-updated",e.SharePronounTypeUpdate="share-pronoun-type-update",e}(Hi||{});const Hx={JoinMeeting:{success:Qf,fail:[xn]}},zx={[Hi.ConnectionChange]:[{event:Kk,payload:()=>({state:Vl.Connected})},{event:xn,payload:e=>({state:Vl.Fail,...e})},{event:vr,payload:e=>({state:Vl.Reconnecting,...e})},{event:Zs,payload:e=>({state:Vl.Closed,...e})}],[Hi.OnHoldChange]:[{event:fA,payload:e=>({isOnHold:e})}],[Hi.UserAdd]:[{event:Qf,payload:e=>[e]},{event:qk,payload:e=>e}],[Hi.UserUpdate]:[{event:kr,payload:e=>[e]},{event:Oo,payload:e=>e}],[Hi.UserRemove]:[{event:cA,payload:e=>e}],[Hi.AttendeeUpdate]:[{event:Xa,payload:e=>e},{event:$k,payload:e=>e}],[Hi.MeetingAttributeUpdate]:[{event:pA,payload:e=>"bNoHostTimeOut"in e?{isHostLost:e.bNoHostTimeOut}:null}],[Hi.PromoteAttendeeConsent]:[{event:"MEETING_WEBINAR_PROMOTE_CONSENT_REQ",payload:e=>{let{req_id:t,sender_id:n}=e;return{reqId:t,senderId:n}}}],[Hi.ActiveAppsUpdate]:[{event:"ACTIVE_APPS_UPDATE",payload:()=>{}}],[Hi.SharePronounTypeUpdate]:[{event:Wk,payload:e=>e}]},sf="LIVE_TRANSCRIPTION_RECEIVE_MESSAGE",yo="LIVE_TRANSCRIPTION_CAPTION_STATUS_CHANGE_RESPONSE",Qk="LIVE_TRANSCRIPTION_STATUS_CHANGE",Um="LIVE_TRANSCRIPTION_HOST_DISABLE_CHANGE",Fx={"caption-message":[{event:sf,payload:e=>e}],"caption-status":[{event:yo,payload:e=>e}],"caption-enable":[{event:Qk,payload:e=>e}],"caption-host-disable":[{event:Um,payload:e=>e}]},Su="CHAT_RECEIVE_MESSAGE_EVENTS",Zl="CHAT_PRIVILEGE_CHANGE",Zk="CHAT_MESSAGE_RESPONSE",Vm="CHAT_DELETE_MESSAGE_REPONSE",Ru="CHAT_FILE_CHAT_UPLOAD_PROGRESS",Jh="CHAT_FILE_CHAT_DOWNLOAD_PROGRESS";let Rc=function(e){return e.ChatOnMessage="chat-on-message",e.ChatPrivilegeChange="chat-privilege-change",e.ChatDeleteMessage="chat-delete-message",e.ChatFileUploadProgress="chat-file-upload-progress",e.ChatFileDownloadProgress="chat-file-download-progress",e}({});const Gx={[Rc.ChatOnMessage]:[{event:Su,payload:e=>e}],[Rc.ChatPrivilegeChange]:[{event:Zl,payload:e=>e}],[Rc.ChatDeleteMessage]:[{event:Vm,payload:e=>e}],[Rc.ChatFileUploadProgress]:[{event:Ru,payload:e=>e}],[Rc.ChatFileDownloadProgress]:[{event:Jh,payload:e=>e}]},Jk="COMMAND_RECEIVE_MESSAGE_EVENTS",hA="COMMAND_STATUS_EVENTS";let LR=function(e){return e.CommandChannelStatus="command-channel-status",e.CommandChannelMessage="command-channel-message",e}({});const qx={[LR.CommandChannelStatus]:[{event:hA,payload:e=>e}],[LR.CommandChannelMessage]:[{event:Jk,payload:e=>e}]};let Fi=function(e){return e.Recording="Recording",e.Paused="Paused",e.Stopped="Stopped",e.Ask="Ask",e.Accept="Accept",e.Decline="Decline",e}({}),gn=function(e){return e[e.None=0]="None",e[e.Init=1]="Init",e[e.Start=2]="Start",e[e.Pause=3]="Pause",e[e.Stop=4]="Stop",e}({}),Af=function(e){return e[e.Stop=0]="Stop",e[e.Start=1]="Start",e[e.Pause=2]="Pause",e}({}),yr=function(e){return e[e.None=0]="None",e[e.Deny=1]="Deny",e[e.Allow=2]="Allow",e}({}),$x=function(e){return e[e.None=0]="None",e[e.DenyAllRequest=1]="DenyAllRequest",e[e.AllowAllRequest=2]="AllowAllRequest",e}({});const uf="CLOUD_RECORDING_STATUS_CHANGE",jm="CLOUD_RECORDING_ISO_STATUS_CHANGE",Bm="LOCAL_RECORDING_CHANGE",po="LOCAL_RECORDING_PERMISSION_CHANGE",Yk="RECORDING_FOR_IQ_STATUS_CHANGE",Xk="RECORDING_FOR_IQ_OPERATION_CHANGE";let xs=function(e){return e.RecordingChange="recording-change",e.IndividualRecordingChange="individual-recording-change",e.LocalRecordingChange="local-recording-change",e.LocalRecordingPermissionChange="local-recording-permission-change",e.MediaCaptureStatusChange="media-capture-status-change",e.MediaCapturePermissionChange="media-capture-permission-change",e.RecordingIqChange="recording-iq-change",e}({});const Kx={[xs.RecordingChange]:[{event:uf,payload:e=>{const{cmrServerStatus:t}=e;return t===gn.Start?Fi.Recording:t===gn.Pause?Fi.Paused:Fi.Stopped}}],[xs.IndividualRecordingChange]:[{event:jm,payload:e=>e}],[xs.LocalRecordingChange]:[{event:Bm,payload:e=>e}],[xs.LocalRecordingPermissionChange]:[{event:po,payload:e=>e}],[xs.MediaCaptureStatusChange]:[{event:Bm,payload:e=>e}],[xs.MediaCapturePermissionChange]:[{event:po,payload:e=>e}],[xs.RecordingIqChange]:[{event:Yk,payload:e=>e}]};let ce=function(e){return e[e.InitSuccess=1]="InitSuccess",e[e.InitSuccessVideo=1.1]="InitSuccessVideo",e[e.InitSuccessAudio=1.2]="InitSuccessAudio",e[e.InitSuccessSharing=1.3]="InitSuccessSharing",e[e.UserGrantCaptureAudio=2]="UserGrantCaptureAudio",e[e.CurrentVideoResolution=3]="CurrentVideoResolution",e[e.JpegDecThreadOk=4]="JpegDecThreadOk",e[e.JpegData=5]="JpegData",e[e.SharingPara=6]="SharingPara",e[e.VideoDecodeMaxSize=7]="VideoDecodeMaxSize",e[e.CurrentCaptureVideoWidthHeight=8]="CurrentCaptureVideoWidthHeight",e[e.StartVideoCaptureSuccess=9]="StartVideoCaptureSuccess",e[e.StopVideoCaptureSuccess=10]="StopVideoCaptureSuccess",e[e.StartRemoteControlSuccess=11]="StartRemoteControlSuccess",e[e.CancelRemoteControlSuccess=12]="CancelRemoteControlSuccess",e[e.RemoteControlCopiedTextNotify=13]="RemoteControlCopiedTextNotify",e[e.MonitorLog=14]="MonitorLog",e[e.CurrentDesktopSharingWidthHeight=15]="CurrentDesktopSharingWidthHeight",e[e.DesktopSharingCaptureSuccess=16]="DesktopSharingCaptureSuccess",e[e.CheckChromeSharingExtensionResponse=17]="CheckChromeSharingExtensionResponse",e[e.SharingDecodeMaxSize=18]="SharingDecodeMaxSize",e[e.DataChannelOffer=19]="DataChannelOffer",e[e.AesGcmIvResponse=21]="AesGcmIvResponse",e[e.SharingDesktopStreamHaveAudio=23]="SharingDesktopStreamHaveAudio",e[e.JoinComputerAudioComplete=24]="JoinComputerAudioComplete",e[e.JoinSharingAudioComplete=25]="JoinSharingAudioComplete",e[e.LeaveComputerAudioComplete=26]="LeaveComputerAudioComplete",e[e.LeaveSharingAudioComplete=27]="LeaveSharingAudioComplete",e[e.HidStatusMute=28]="HidStatusMute",e[e.AudioStreamFailed=31]="AudioStreamFailed",e[e.VideoStreamFailed=32]="VideoStreamFailed",e[e.AudioSpeakerSetSuccess=33]="AudioSpeakerSetSuccess",e[e.AudiobridgeSetCcLangSuccess=36]="AudiobridgeSetCcLangSuccess",e[e.SendRemoteControlQrCode=55]="SendRemoteControlQrCode",e[e.StartVideoStreamInMaskSettingSuccess=66]="StartVideoStreamInMaskSettingSuccess",e[e.CurrentDecodeVideoQuality=66.5]="CurrentDecodeVideoQuality",e[e.CurrentDecodeVideoFps=66.6]="CurrentDecodeVideoFps",e[e.SharingFirstDecodeFrameReceivedSsrc=70]="SharingFirstDecodeFrameReceivedSsrc",e[e.StartVideoStreamInVbSettingSuccess=94]="StartVideoStreamInVbSettingSuccess",e[e.VbModelPreloading_3S=96]="VbModelPreloading_3S",e[e.VbModelPreloading_10S=97]="VbModelPreloading_10S",e[e.VbModelPreloadingOk=98]="VbModelPreloadingOk",e[e.NewActiveSpeakerFirstFrameCallback=111]="NewActiveSpeakerFirstFrameCallback",e[e.AudioBridgeFirstRecvData=114]="AudioBridgeFirstRecvData",e[e.AudioBridgeCanSendData=115]="AudioBridgeCanSendData",e[e.InitFailed=-1]="InitFailed",e[e.InitFailedVideo=-1.1]="InitFailedVideo",e[e.InitFailedAudio=-1.2]="InitFailedAudio",e[e.InitFailedSharing=-1.3]="InitFailedSharing",e[e.UserForbiddedCaptureAudio=-2]="UserForbiddedCaptureAudio",e[e.AudioWebsocketBroken=-3]="AudioWebsocketBroken",e[e.VideoWebsocketBroken=-4]="VideoWebsocketBroken",e[e.SharingDecThreadFailed=-5]="SharingDecThreadFailed",e[e.AudioZeroData=-6]="AudioZeroData",e[e.AudioCtxSamplerate=-7]="AudioCtxSamplerate",e[e.UserForbiddedCaptureVideo=-8]="UserForbiddedCaptureVideo",e[e.UserCameraIsTakenByOtherPrograms=-9]="UserCameraIsTakenByOtherPrograms",e[e.StopVideoCaptureFailed=-10]="StopVideoCaptureFailed",e[e.StartRemoteControlFailed=-11]="StartRemoteControlFailed",e[e.CancelRemoteControlFailed=-12]="CancelRemoteControlFailed",e[e.RemoteControlPasteTextLengthOverflow=-14]="RemoteControlPasteTextLengthOverflow",e[e.UserStopDesktopSharing=-15]="UserStopDesktopSharing",e[e.UserCancelPermissionRequest=-16]="UserCancelPermissionRequest",e[e.DesktopSharingChromeExtensionUninstalled=-17]="DesktopSharingChromeExtensionUninstalled",e[e.DesktopSharingPermissionDenied=-18]="DesktopSharingPermissionDenied",e[e.DesktopSharingTimeOut=-19]="DesktopSharingTimeOut",e[e.DesktopSharingError=-20]="DesktopSharingError",e[e.AudioSpeakerSetError=-21]="AudioSpeakerSetError",e[e.DesktopSharingSystemError=-22]="DesktopSharingSystemError",e[e.SharingDesktopStreamHaveNoAudio=-27]="SharingDesktopStreamHaveNoAudio",e.AudioQosData="AUDIO_QOS_DATA",e.VideoQosData="VIDEO_QOS_DATA",e.ShareQosData="VIDEOSHARE_QOS_DATA",e.NetworkQualityChange="NETWORK_QUALITY_CHANGE",e[e.AudioBridgeReconnectStart=-29]="AudioBridgeReconnectStart",e[e.AudioBridgeReconnectEnd=-31]="AudioBridgeReconnectEnd",e[e.WebglLostInMultiView=-32]="WebglLostInMultiView",e[e.MaskSettingParaError=-33]="MaskSettingParaError",e[e.VbSettingParaError=-34]="VbSettingParaError",e[e.NotifyUIFailover=-35]="NotifyUIFailover",e[e.RecoverWebrtcAudio=-36]="RecoverWebrtcAudio",e[e.AudiobridgeSetCcLangFailure=-39]="AudiobridgeSetCcLangFailure",e}({}),gr=function(e){return e[e.EncodeSuccess=1]="EncodeSuccess",e[e.DecodeSuccess=2]="DecodeSuccess",e[e.EncodeFailed=-1]="EncodeFailed",e[e.DecodeFailed=-2]="DecodeFailed",e}({}),ES=function(e){return e.Spotlight="Spotlight",e.Unmute="Unmute",e.AllowToTalk="Allow to talk",e}({}),fo=function(e){return e.Inherited="inherited",e.Active="active",e.PassiveByMuteOne="passive(mute one)",e.PassiveByMuteAll="passive(mute all)",e.SharingAudio="sharing audio",e}({}),lf=function(e){return e.Inherited="inherited",e.Active="active",e.Passive="passive",e.SharingAudio="sharing audio",e}({}),Cf=function(e){return e.Active="active",e.Failover="failover",e.EndedBySystem="audio stream is ended by system",e.Pstn="pstn",e.MicrophoneError="microphone error",e}({}),Ic=function(e){return e.Join="join",e.Leave="leave",e.Muted="muted",e.Unmuted="unmuted",e}({}),io=function(e){return e[e.Calling=1]="Calling",e[e.Ringing=2]="Ringing",e[e.Accepted=3]="Accepted",e[e.Busy=4]="Busy",e[e.NotAvailable=5]="NotAvailable",e[e.HangUp=6]="HangUp",e[e.Fail=7]="Fail",e[e.Success=8]="Success",e[e.Timeout=9]="Timeout",e[e.Canceling=10]="Canceling",e[e.Canceled=11]="Canceled",e[e.CancelFailed=12]="CancelFailed",e}({});const Wx=(()=>{const e=new ArrayBuffer(684),t=new Uint32Array(e);return t.set([1179011410,676,1163280727,544501094,16,65539,16e3,64e3,2097156,1635017060,640],0),new Blob([t],{type:"audio/wav"})})(),Qx=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,5,4,1,3,1,1,10,11,1,9,0,65,0,254,16,2,0,26,11]),Zx=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);let Jr=function(e){return e[e.HostGrab=0]="HostGrab",e[e.OnlyHost=1]="OnlyHost",e[e.AnyoneGrab=2]="AnyoneGrab",e[e.MultipleShare=3]="MultipleShare",e}({}),rt=function(e){return e.Sharing="sharing",e.Paused="paused",e.End="ended",e}({}),Ai=function(e){return e[e.Video_90P=0]="Video_90P",e[e.Video_180P=1]="Video_180P",e[e.Video_360P=2]="Video_360P",e[e.Video_720P=3]="Video_720P",e[e.Video_1080P=4]="Video_1080P",e}({}),PR=function(e){return e.Active="Active",e.Inactive="Inactive",e}({}),vh=function(e){return e.Muted="Muted",e.Unmuted="Unmuted",e}({}),AS=function(e){return e.Started="Started",e.Stopped="Stopped",e.Failed="Failed",e}({}),UR=function(e){return e.Approved="Approved",e.Rejected="Rejected",e}({}),CS=function(e){return e.PrivilegeChange="PrivilegeChange",e.StopScreenCapture="StopScreenCapture",e.ShareFromMainSession="ShareFromMainSession",e}({}),eN=function(e){return e[e.ImageNotMatch=2]="ImageNotMatch",e[e.CanvasNotMatch=3]="CanvasNotMatch",e[e.VBModelNotMatch=4]="VBModelNotMatch",e}({});const pd="blur";let Jc=function(e){return e.User="user",e.Environment="environment",e.Left="left",e.Right="right",e}({});const Qa=1e3,wS="__ZOOM_SDK_SHARING_VIDEO__",Js="__ZOOM_SDK_VIDEO_ZONE__",Jx="__ZOOM_SDK_VIRTUAL_BACKGROUND_CANVAS_@__",Yx="__ZOOM_SDK_VIRTUAL_BACKGROUND_IMAGE_@__",Xx="__ZOOM_SDK_MASK_CLIP_@__",VR="__ZOOM_SDK_MEDIA_PLAYBACK_SOURCE_VIDEO__",df="__ZOOM_SDK_DYMMY_VIDEO_PLAYER_CANVAS_ID__",OS="__ZOOM_SDK_DUMMY_HIDDEN_SELF_VIEW_VIDEO_ID__",xm={data:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0}},us={data:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0}};let dr=function(e){return e[e.Request=11]="Request",e[e.Decline=12]="Decline",e[e.Approve=13]="Approve",e[e.GiveUp=14]="GiveUp",e[e.StartControl=15]="StartControl",e[e.ContinueControl=16]="ContinueControl",e[e.StopControl=17]="StopControl",e[e.SwitchCamera=20]="SwitchCamera",e}({}),Za=function(e){return e[e.Bk=0]="Bk",e[e.Center=1]="Center",e[e.ZoomIn=2]="ZoomIn",e[e.ZoomOut=3]="ZoomOut",e[e.Left=4]="Left",e[e.Right=5]="Right",e[e.Up=6]="Up",e[e.Down=7]="Down",e[e.SwitchCamera=8]="SwitchCamera",e}({}),Sl=function(e){return e[e.Pan=192]="Pan",e[e.Tilt=48]="Tilt",e[e.Zoom=12]="Zoom",e[e.Focus=3]="Focus",e}({});(function(e){return e[e.ZoomIn=2]="ZoomIn",e[e.ZoomOut=3]="ZoomOut",e[e.Left=4]="Left",e[e.Right=5]="Right",e[e.Up=6]="Up",e[e.Down=7]="Down",e[e.SwitchCamera=8]="SwitchCamera",e})({});(function(e){return e[e.None=0]="None",e[e.ApproveAnother=3]="ApproveAnother",e[e.Stop=5]="Stop",e})({});let cf=function(e){return e[e.Null=0]="Null",e[e.Normal=1]="Normal",e[e.VideoMode=2]="VideoMode",e}({}),Zi=function(e){return e[e.Null=0]="Null",e[e.VirtualBackground=1]="VirtualBackground",e[e.Mask=2]="Mask",e}({}),bt=function(e){return e.Computer="computer",e.Phone="phone",e}({}),Hm=function(e){return e[e.Decline=0]="Decline",e[e.Approve=1]="Approve",e[e.CacheClean=2]="CacheClean",e}({}),Bn=function(e){return e.Unknown="unknown",e.Uninstalled="uninstalled",e.Installed="installed",e}({}),zm=function(e){return e.Unlaunched="unlaunched",e.Launched="launched",e}({}),TS=function(e){return e.Started="started",e.Ended="ended",e}({}),RS=function(e){return e[e.Max=30]="Max",e[e.Min=10]="Min",e[e.Default=24]="Default",e}({}),Yc=function(e){return e[e.Loading=1]="Loading",e[e.Done=2]="Done",e}({}),jR=function(e){return e.Browser="Browser",e.Zoom="Zoom",e}({}),BR=function(e){return e.Denoise="backgroundNoiseSuppression",e.OriginalSound="originalSound",e}({});const tN="RECEIVE_VIDEO_ACTIVE_INDICATION",nN="RECEIVE_VIDEO_MUTE_INDICATION",rN="ASK_FOR_START_VIDEO_CONSENT",n_="RECEIVE_VIDEO_DIMENSION_CHANGE",iN="CAPTURED_VIDEO_DIMENSION_CHANGE",r_="CAN_NOT_DETECT_CAMERA",i_="CAN_NOT_FIND_CAMERA",o_="VIDEO_USER_FORBIDDEN_CAPTURE",a_="VIDEO_CAMERA_IS_TAKEN",oN="VIDEO_BACKGROUND_FAILED",aN="VIDEO_ESTABLISH_STREAM_ERROR",mA="VIDEO_CAPTURE_START_SUCCESS",bu="VIDEO_CAPTURE_STOP_RESULT",s_="VIDEO_SPOTLIGHT_CHANGE",sN="VIDEO_FOLLOW_HOST_ORDER_CHANGE",uN="VIDEO_HOST_DRAG_LAYOUT_CHANGE",lN="VIDEO_NEW_USER_START",Yh="VIDEO_OLD_USER_STOP",Fm="VIDEO_VIRTUAL_BACKGROUND_PRELOAD_READY",u_="VIDEO_VIRTUAL_BACKGROUND_SETTING_SUCCESS",l_="VIDEO_STATISTIC_DATA",d_="VIDEO_CELL_DETAILED_DATA",c_="VIDEO_NETWORK_QUALITY_CHANGE",dN="VIDEO_FAR_END_CAMERA_CONTROL_REQUEST",f_="VIDEO_FAR_END_CAMERA_CONTROL_RESPONSE",Gm="VIDEO_FAR_END_CAMERA_IN_CONTROL_CHANGE",cN="VIDEO_FAR_END_CAMERA_CAPABILITY_CHANGE",p_="VIDEO_MASK_SETTING_SUCCESS",fN="VIDEO_CAPTURE_SDK_SUCCESS",pN="VIDEO_PREFETCH_VIDEO_FRAME_CALLBACK",hN="VIDEO_CURRENT_USER_SSRC",mN="VIDEO_RENDER_ASPECT_RATIO_CHANGE",xR={startCaptureVideo:{success:mA,fail:[r_,i_,o_,aN,a_,oN]},switchCameraVideo:{success:fN,fail:[r_,i_,o_,a_]},stopCaptureVideo:{success:bu}};let Ln=function(e){return e.VideoActiveChange="video-active-change",e.PeerVideoStateChange="peer-video-state-change",e.VideoSpotlightChange="video-spotlight-change",e.VideoMutedChange="video-muted-change",e.VideoCapturingChange="video-capturing-change",e.AskForStartVideoConsent="ask-for-start-video-consent",e.VideoDimensionChange="video-dimension-change",e.VideoFollowHostOrder="video-follow-host-order-change",e.VideoHostLayoutChange="video-host-layout-change",e.VideoVBPreloadChange="video-virtual-background-preload-change",e.VideoStatisticDataChange="video-statistic-data-change",e.VideoDetailedDataChange="video-detailed-data-change",e.VideoAspectRatioChange="video-aspect-ratio-change",e.NetworkQualityChange="network-quality-change",e.FarEndCameraRequestControl="far-end-camera-request-control",e.FarEndCameraResponseControl="far-end-camera-response-control",e.FarEndCameraInControlChange="far-end-camera-in-control-change",e.FarEndCameraCapabilityChange="far-end-camera-capability-change",e}({});const eH={[Ln.VideoActiveChange]:[{event:tN,payload:e=>({state:e.bVideoOn?PR.Active:PR.Inactive,userId:e.userId})}],[Ln.VideoCapturingChange]:[{event:mA,payload:()=>({state:AS.Started})},{event:bu,payload:e=>({state:e!=null&&e.failed?AS.Failed:AS.Stopped})}],[Ln.VideoMutedChange]:[{event:nN,payload:e=>({state:e.isVideoMuted?vh.Muted:vh.Unmuted,userId:e.id})}],[Ln.AskForStartVideoConsent]:[{event:rN,payload:e=>({state:e.isVideoMuted?vh.Muted:vh.Unmuted,userId:e.id})}],[Ln.VideoSpotlightChange]:[{event:s_,payload:e=>({spotlightList:e.spotlightList&&e.spotlightList.map(t=>({userId:t}))})}],[Ln.VideoDimensionChange]:[{event:n_,payload:e=>({type:"received",width:e.width,height:e.height})},{event:iN,payload:e=>({type:"captured",width:e.width,height:e.height})}],[Ln.VideoFollowHostOrder]:[{event:sN,payload:e=>({isFollowHostOrder:e.bOn})}],[Ln.VideoHostLayoutChange]:[{event:uN,payload:e=>Array.isArray(e.layout)?e.layout.map(t=>({userId:t})):[]}],[Ln.PeerVideoStateChange]:[{event:lN,payload:e=>({action:"Start",...e})},{event:Yh,payload:e=>({action:"Stop",...e})}],[Ln.VideoVBPreloadChange]:[{event:Fm,payload:e=>({isReady:e})}],[Ln.VideoStatisticDataChange]:[{event:l_,payload:e=>e}],[Ln.VideoDetailedDataChange]:[{event:d_,payload:e=>e}],[Ln.VideoAspectRatioChange]:[{event:mN,payload:e=>e}],[Ln.NetworkQualityChange]:[{event:c_,payload:e=>e}],[Ln.FarEndCameraRequestControl]:[{event:dN,payload:e=>e}],[Ln.FarEndCameraResponseControl]:[{event:f_,payload:e=>e}],[Ln.FarEndCameraInControlChange]:[{event:Gm,payload:e=>e}],[Ln.FarEndCameraCapabilityChange]:[{event:cN,payload:e=>e}]},gN="AUDIO_ACTIVE_SPEAKER",Xh="AUDIO_UNMUTE_CONSENT",Bl="AUDIO_CURRENT_USER_JOIN_BY_VOIP",h_="AUDIO_CURRENT_USER_JOIN_BY_PHONE",wf="AUDIO_CURRENT_USER_LEAVE_AUDIO",gA="AUDIO_CURRENT_USER_MUTED",yA="AUDIO_CURRENT_USER_UNMUTED",yN="AUDIO_PARTICIPANT_AUDIO_UPDATE",vN="AUDIO_DIALOUT_RESULT_CODE",SN="AUDIO_DIALOUT_RESULT_SUCCESS",bN="DIALOUT_FAIL",_N="AUDIO_DIALOUT_CANCEL_SUCCESS",EN="DIALOUT_CANCEL_FAIL",AN="AUDIO_MERGE_AUDIO_INDICATION",CN="USER_FORBIDDEN_MICROPHONE",wN="ESTABLISH_AUDIO_STREAM_ERROR",ON="AUDIO_AUTO_PLAY_FAILED",HR="INVALID_DEVICE_ID",TN="AUDIO_ALLOW_TALK_CHANGE",hd="SHARE_AUDIO_STATE_CHANGE",m_="AUDIO_STATISTIC_DATA",RN="AUDIO_CURRENT_USER_SSRC",g_="AUDIO_SET_SPEAKER_RESULT";let $o=function(e){return e.ActiveSpeaker="active-speaker",e.UnmuteAudioConsent="unmute-audio-consent",e.CurrentAudioChange="current-audio-change",e.DialoutStateChange="dialout-state-change",e.MergeAudio="merged-audio",e.AutoPlayFailed="auto-play-audio-failed",e.AllowTalkChange="allow-talk-change",e.ShareAudioChange="share-audio-change",e.AudioStatisticDataChange="audio-statistic-data-change",e}({});const bl={JoinComputerAudio:{success:Bl,fail:[CN,wN]},LeaveComputerAudio:{success:wf},JoinAudioByCallMe:{success:SN,fail:[bN]},cancelDialOut:{success:_N,fail:[EN]},hangup:{success:wf}},tH={[$o.ActiveSpeaker]:[{event:gN,payload:e=>e}],[$o.UnmuteAudioConsent]:[{event:Xh,payload:e=>({reason:e})}],[$o.CurrentAudioChange]:[{event:h_,payload:()=>({action:Ic.Join,type:bt.Phone})},{event:Bl,payload:()=>({action:Ic.Join,type:bt.Computer})},{event:wf,payload:e=>{let{source:t}=e;return{action:Ic.Leave,source:t}}},{event:gA,payload:e=>{let{source:t}=e;return{action:Ic.Muted,source:t}}},{event:yA,payload:e=>{let{source:t}=e;return{action:Ic.Unmuted,source:t}}}],[$o.DialoutStateChange]:[{event:vN,payload:e=>e}],[$o.MergeAudio]:[{event:AN,payload:e=>e}],[$o.AutoPlayFailed]:[{event:ON,payload:()=>{}}],[$o.AllowTalkChange]:[{event:TN,payload:e=>({enabled:e})}],[$o.ShareAudioChange]:[{event:hd,payload:e=>e}],[$o.AudioStatisticDataChange]:[{event:m_,payload:e=>e}]},y_="SHARE_ACTIVE_INDICATION",v_="SHARE_CHECK_CHROME_SHARING_EXTENSION",IN="SHARE_START_DESKTOP_SHARE_FAILED",DN="SHARE_DIMENSION_CHANGE",qm="SHARE_RECEIVED_DIMENSION_CHANGE",MN="SHARE_VIDEO_STREAMS_END",kN="SHARE_PASSIVE_STOP_SHARE",NN="SHARE_PASSIVE_BO_STOP",vA="SHARE_NEW_USER_ADD",SA="SHARE_USER_REMOVE",LN="SHARE_USER_PAUSED",PN="SHARE_USER_RESUMED",$m="SHARE_AUTO_CHANGE_SOURCE",Km="SHARE_REMOTE_CONTROL_APPROVE",_u="SHARE_GRAB_REMOTE_CONTROL_CHANGE",S_="SHARE_REMOTE_CONTROL_CLIPBOARD_CHANGE",UN="SHARE_REMOTE_CONTROL_SUCCESS",VN="SHARE_REMOTE_CONTROL_FAILED",jN="SHARE_PRIVILEGE_CHANGE",BN="SHARE_READ_RECEIPT",b_="SHARE_STATISTIC_DATA",xN="SHARE_REMOTE_CONTROL_REQUEST",Ys="SHARE_REMOTE_CONTROL_APP_STATUS",em="SHARE_REMOTE_CONTROL_SESSION_STATUS",HN="SHARE_REMOTE_CONTROL_APP_SCHEME";let Tr=function(e){return e.ShareActiveChange="active-share-change",e.ShareDimensionChange="share-content-dimension-change",e.SharePassiveStop="passively-stop-share",e.SharePeerStateChange="peer-share-state-change",e.ShareContentChange="share-content-change",e.SharePrivilegeChange="share-privilege-change",e.ShareReadReceipt="share-can-see-screen",e.ShareStatisticDataChange="share-statistic-data-change",e.RemoteControlApprovedChange="remote-control-approved-change",e.RemoteControlInControlChange="remote-control-in-control-change",e.RemoteControlClipboardChange="remote-control-clipboard-change",e.RemoteControlRequestChange="remote-control-request-change",e.RemoteControlAppStatusChange="remote-control-app-status-change",e.RemoteControlControlledStatusChange="remote-control-controlled-status-change",e}({});const nH={[Tr.ShareActiveChange]:[{event:y_,payload:e=>{const{isActive:t,activeUserId:n,...r}=e;return{state:t?"Active":"Inactive",userId:n,...r}}}],[Tr.ShareDimensionChange]:[{event:DN,payload:e=>({type:"sended",width:e.width,height:e.height})},{event:qm,payload:e=>({type:"received",width:e.width,height:e.height})}],[Tr.SharePassiveStop]:[{event:MN,payload:()=>({reason:CS.StopScreenCapture})},{event:kN,payload:()=>({reason:CS.PrivilegeChange})},{event:NN,payload:()=>({reason:CS.ShareFromMainSession})}],[Tr.SharePeerStateChange]:[{event:vA,payload:e=>({userId:e.id,action:"Start"})},{event:SA,payload:e=>({userId:e.id,action:"Stop"})},{event:LN,payload:e=>({userId:e.id,action:"Pause"})},{event:PN,payload:e=>({userId:e.id,action:"Resume"})}],[Tr.ShareContentChange]:[{event:$m,payload:e=>e}],[Tr.SharePrivilegeChange]:[{event:jN,payload:e=>({privilege:e})}],[Tr.ShareReadReceipt]:[{event:BN,payload:()=>{}}],[Tr.ShareStatisticDataChange]:[{event:b_,payload:e=>e}],[Tr.RemoteControlApprovedChange]:[{event:Km,payload:e=>({state:e?UR.Approved:UR.Rejected})}],[Tr.RemoteControlInControlChange]:[{event:_u,payload:e=>({isControlling:e})}],[Tr.RemoteControlClipboardChange]:[{event:S_,payload:e=>e}],[Tr.RemoteControlRequestChange]:[{event:xN,payload:e=>e}],[Tr.RemoteControlAppStatusChange]:[{event:Ys,payload:e=>e}],[Tr.RemoteControlControlledStatusChange]:[{event:em,payload:e=>e}]};let Ko=function(e){return e.Question="question",e.UpdateQuestion="updateQuestion",e.Answer="answer",e.DeleteComment="deleteComment",e.DeleteQuestion="deleteQuestion",e.Dismiss="dismiss",e.Reopen="reopen",e.Upvote="upvote",e.AnswerLive="answerLive",e}({}),zR=function(e){return e.QaSettingChange="qa-setting-change",e.QaActionChange="qa-action-change",e}({});const rH={[zR.QaSettingChange]:[{event:"QA_SETTING_OPTION_CHANGE",payload:e=>e}],[zR.QaActionChange]:[{event:"QA_NEW_ASK_QUESTION",payload:e=>({action:Ko.Question,data:e})},{event:"QA_UPDATE_ANONYMOUS_QUESTION",payload:e=>({action:Ko.UpdateQuestion,data:e})},{event:"QA_ANSWER_QUESTION",payload:e=>({action:Ko.Answer,data:e})},{event:"QA_ANSWER_REMOVE_COMMENT",payload:e=>({action:Ko.DeleteComment,data:e})},{event:"QA_ANSWER_REMOVE_QUESTION",payload:e=>({action:Ko.DeleteQuestion,data:e})},{event:"QA_ANSWER_DISMISS_QUESTION",payload:e=>({action:Ko.Dismiss,data:e})},{event:"QA_ANSWER_REOPEN_QUESTION",payload:e=>({action:Ko.Reopen,data:e})},{event:"QA_ANSWER_VOTE_QUESTION",payload:e=>({action:Ko.Upvote,data:e})},{event:"QA_ANSWER_QUESTION_LIVE",payload:e=>({action:Ko.AnswerLive,data:e})}]},ae="INVALID_OPERATION",bo="INTERNAL_ERROR",bA="OPERATION_TIMEOUT",nr="INSUFFICIENT_PRIVILEGES",Jl="IMPROPER_MEETING_STATE",Qe="INVALID_PARAMETERS",zN="AUDIO_ENCODE_SUCCESS",FN="AUDIO_DECODE_SUCCESS",GN="VIDEO_ENCODE_SUCCESS",qN="VIDEO_DECODE_SUCCESS",$N="SHARING_ENCODE_SUCCESS",__="SHARING_DECODE_SUCCESS",KN="AUDIO_ENCODE_FAIL",WN="AUDIO_DECODE_FAIL",QN="VIDEO_ENCODE_FAIL",ZN="VIDEO_DECODE_FAIL",JN="SHARING_ENCODE_FAIL",YN="SHARING_DECODE_FAIL",XN="MEDIA_DEVICE_CHANGE",tm="MEDIS_SDK_PATHCH_LOADED",eL="AUDIO_BRIDGE_PEER_CONNECTION_RECEIVE_READY",tL="AUDIO_BRIDGE_PEER_CONNECTION_SEND_READY",nL="DEVICE_PERMISSION_CHANGE";let IS=function(e){return e.DeviceChange="device-change",e.MediaSDKChange="media-sdk-change",e.DevicePermissionChange="device-permission-change",e}({});const iH={[IS.DeviceChange]:[{event:XN,payload:()=>({})}],[IS.MediaSDKChange]:[{event:zN,payload:()=>({type:"audio",action:"encode",result:"success"})},{event:KN,payload:()=>({type:"audio",action:"encode",result:"fail"})},{event:FN,payload:()=>({type:"audio",action:"decode",result:"success"})},{event:WN,payload:()=>({type:"audio",action:"decode",result:"fail"})},{event:GN,payload:()=>({type:"video",action:"encode",result:"success"})},{event:QN,payload:()=>({type:"video",action:"encode",result:"fail"})},{event:qN,payload:()=>({type:"video",action:"decode",result:"success"})},{event:ZN,payload:()=>({type:"video",action:"decode",result:"fail"})},{event:$N,payload:()=>({type:"share",action:"encode",result:"success"})},{event:JN,payload:()=>({type:"share",action:"encode",result:"fail"})},{event:__,payload:()=>({type:"share",action:"decode",result:"success"})},{event:YN,payload:()=>({type:"share",action:"decode",result:"fail"})}],[IS.DevicePermissionChange]:[{event:nL,payload:e=>e}]},rL="BREAKOUT_ROOM_ADD_TOKEN",nm="BREAKOUT_ROOM_INVITE_TO_JOIN_NOTIFICATION",E_="BREAKOUT_ROOM_ROOM_CLOSING_COUNTDOWN",A_="BREAKOUT_ROOM_ROOM_COUTDOWN",iL="BREAKOUT_ROOM_BROADCAST_MESSAGE",oL="BREAKOUT_ROOM_ASK_HELP_REQUEST",_A="BREAKOUT_ROOM_ASK_HELP_RESPONSE",xl="BREAKOUT_ROOM_ATTRIBUTE_INDICATION",aL="BREAKOUT_ROOM_JOIN_BO_RESPONSE",sL="BREAKOUT_ROOM_ROOM_COUNTDOWN_TIME_UP",C_="BREAKOUT_ROOM_CURRENT_USER_PARTICIPANT_ROLE",uL="BREAKOUT_ROOM_LOAD_PRE_ASSIGNED_ROOMS",lL="BREAKOUT_ROOM_MAIN_SESSION_USER_UPDATE";let Wo=function(e){return e.InviteToJoin="invite-to-join",e.RoomCountdown="room-countdown",e.RoomTimeUp="room-time-up",e.ClosingRoomCountdown="closing-room-countdown",e.BroadcastMessage="broadcast-message",e.AskForHelp="ask-for-help",e.AskForHelpResponse="ask-for-help-response",e.RoomStateChange="room-state-change",e.MainSessionUserUpdate="main-session-user-updated",e}({});const oH={[Wo.InviteToJoin]:[{event:nm,payload:e=>e}],[Wo.RoomCountdown]:[{event:A_,payload:e=>e}],[Wo.RoomTimeUp]:[{event:sL,payload:e=>e}],[Wo.ClosingRoomCountdown]:[{event:E_,payload:e=>e}],[Wo.BroadcastMessage]:[{event:iL,payload:e=>e}],[Wo.AskForHelp]:[{event:oL,payload:e=>e}],[Wo.AskForHelpResponse]:[{event:_A,payload:e=>e}],[Wo.RoomStateChange]:[{event:xl,payload:e=>({status:e.controlStatus})}],[Wo.MainSessionUserUpdate]:[{event:lL,payload:()=>({})}]};var w_=function(e){return e.StatusUpdate="archiving-status-update",e.OptionsUpdate="archiving-options-update",e}(w_||{});const aH={[w_.StatusUpdate]:[{event:"ARCHIVING_STATUS_UPDATE",payload:e=>e}],[w_.OptionsUpdate]:[{event:"ARCHIVING_OPTIONS_UPDATE",payload:e=>e}]};let DS=function(e){return e.PollDataChange="poll-data-change",e.PollSizeUpdate="poll-size-update",e.PollStatusUpdate="poll-status-update",e}({});const sH={[DS.PollDataChange]:[{event:"POLL_DATA_CHANGE",payload:e=>e}],[DS.PollSizeUpdate]:[{event:"POLL_SIZE_UPDATE",payload:e=>e}],[DS.PollStatusUpdate]:[{event:"POLL_STATUS_UPDATE",payload:e=>e}]};let FR=function(e){return e.ReactionReceived="reaction-received",e.ReactionRemoved="reaction-removed",e}({});const uH={[FR.ReactionReceived]:[{event:"REACTION_RECEIVED",payload:e=>e}],[FR.ReactionRemoved]:[{event:"REACTION_REMOVED",payload:e=>e}]},es="SMART_SUMMARY_STATUS_CHANGE",ts="MEETING_QUERY_STATUS_CHANGE";let GR=function(e){return e.SummaryChange="summary-status-change",e.MeetingQueryChang="meeting-query-status-change",e}({});const lH={[GR.SummaryChange]:[{event:es,payload:e=>e}],[GR.MeetingQueryChang]:[{event:ts,payload:e=>e}]},ff="LIVE_STREAM_STATUS_CHANGE",dH={"live-stream-status":[{event:ff,payload:e=>e}]},qR={...zx,...Fx,...Gx,...qx,...Kx,...tH,...eH,...rH,...nH,...iH,...oH,...aH,"closed-caption-message":[{event:"CC_RECEIVE_MESSAGE",payload:e=>e}],"closed-caption-lt-status":[{event:"LT_STATUS_CHANGE",payload:e=>e}],"closed-caption-lt-message":[{event:"LT_RECEIVE_MESSAGE",payload:e=>e}],"closed-caption-status":[{event:"CC_ASSIGN_CC_EDITOR_SUCCESS",payload:e=>e},{event:"CC_STATUS_CHANGE",payload:e=>e}],...sH,...uH,...lH,...dH},ca=function(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(a){a(n)}),(r=e.get("*"))&&r.slice().map(function(a){a(t,n)})}}}(),Xs=new Map,O_=new Array,k=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0;ca.emit(e,t)},Ka=e=>new Promise((t,n)=>{e.fail&&e.fail.length>0?Ri(Ft(ca,e.success).pipe(ut(1)),vn(...e.fail.map(r=>Ft(ca,r).pipe(ut(1),ue(a=>lu({type:r,payload:a})))))).subscribe(r=>t(r),r=>{typeof r.payload=="object"?n({type:r.type,...r.payload}):r.payload===void 0?n({type:r.type}):n(r)}):Ft(ca,e.success).pipe(ut(1)).subscribe(r=>t(r))}),Ge=function(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1e4;return new Promise((r,a)=>{let s=_e;typeof e=="string"?s=Ft(ca,e).pipe(ut(1)):(s=Ft(ca,e.event),e.operations&&(s=e.operations.reduce((l,d)=>l.pipe(d),s))),Ri(s,On(n).pipe(je(lu("timeout")))).subscribe(l=>{if(t){const d=t(l);typeof d=="boolean"?d?r(""):a({type:bo}):d.ret===0?r(d.body):a({type:bo,reason:d.body})}else r(l)},()=>{a({type:bA})})})},It=(e,t)=>t!==void 0?Ft(ca,e).pipe(ut(t)):Ft(ca,e),EA=()=>{O_.forEach(e=>{e.unsubscribe()}),O_.length=0,Xs.clear()},{setAttendeesList:Wm,setAssistantList:wF,setIsAdmitAllSilentUsers:dL,resetParticipants:cL,addFailoverAttendees:T_,removeFailoverAttendees:fL,setClearRaiseHand:pL,setClearAttendeeFeedback:hL,updateAttendeeDisplayName:mL,removeXmppAttendeeUser:gL,updateXmppAttendeeList:yL,setAttendeeExtraKey:Of}=bn({SET_ATTENDEES_LIST:e=>e,SET_ASSISTANT_LIST:e=>e,UPDATE_XMPP_ATTENDEE_LIST:e=>e,RESET_PARTICIPANTS:()=>({}),SET_IS_ADMIT_ALL_SILENT_USERS:e=>e,REMOVE_FAILOVER_ATTENDEES:e=>e,ADD_FAILOVER_ATTENDEES:e=>e,SET_CLEAR_RAISE_HAND:()=>({}),SET_CLEAR_ATTENDEE_FEEDBACK:()=>({}),UPDATE_ATTENDEE_DISPLAY_NAME:e=>e,REMOVE_XMPP_ATTENDEE_USER:e=>e,SET_ATTENDEE_EXTRA_KEY:e=>e});var Sh="NOT_FOUND",cH=function(e,t){return e===t};function vL(e,t){var n,r,a=typeof t=="object"?t:{equalityCheck:t},s=a.equalityCheck,l=s===void 0?cH:s,d=a.maxSize,f=d===void 0?1:d,p=a.resultEqualityCheck,h=function(S){return function(b,_){if(b===null||_===null||b.length!==_.length)return!1;for(var E=b.length,A=0;A<E;A++)if(!S(b[A],_[A]))return!1;return!0}}(l),g=f===1?(n=h,{get:function(S){return r&&n(r.key,S)?r.value:Sh},put:function(S,b){r={key:S,value:b}},getEntries:function(){return r?[r]:[]},clear:function(){r=void 0}}):function(S,b){var _=[];function E(A){var w=_.findIndex(function(I){return b(A,I.key)});if(w>-1){var O=_[w];return w>0&&(_.splice(w,1),_.unshift(O)),O.value}return Sh}return{get:E,put:function(A,w){E(A)===Sh&&(_.unshift({key:A,value:w}),_.length>S&&_.pop())},getEntries:function(){return _},clear:function(){_=[]}}}(f,h);function v(){var S=g.get(arguments);if(S===Sh){if(S=e.apply(null,arguments),p){var b=g.getEntries().find(function(_){return p(_.value,S)});b&&(S=b.value)}g.put(arguments,S)}return S}return v.clearCache=function(){return g.clear()},v}function SL(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var a=arguments.length,s=new Array(a),l=0;l<a;l++)s[l]=arguments[l];var d,f=0,p={memoizeOptions:void 0},h=s.pop();if(typeof h=="object"&&(p=h,h=s.pop()),typeof h!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof h+"]");var g=p.memoizeOptions,v=g===void 0?n:g,S=Array.isArray(v)?v:[v],b=function(A){var w=Array.isArray(A[0])?A[0]:A;if(!w.every(function(I){return typeof I=="function"})){var O=w.map(function(I){return typeof I=="function"?"function "+(I.name||"unnamed")+"()":typeof I}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+O+"]")}return w}(s),_=e.apply(void 0,[function(){return f++,h.apply(null,arguments)}].concat(S)),E=e(function(){for(var A=[],w=b.length,O=0;O<w;O++)A.push(b[O].apply(null,arguments));return d=_.apply(null,A)});return Object.assign(E,{resultFunc:h,memoizedResultFunc:_,dependencies:b,lastResult:function(){return d},recomputations:function(){return f},resetRecomputations:function(){return f=0}}),E}}var en=SL(vL);const Zf=e=>{let{participants:{attendeesList:t}}=e;return t},bL=e=>{let{meeting:{userId:t}}=e;return t},R_=e=>{let{participants:{xmppAttendeeList:t}}=e;return t};let Iu=function(e){return e[e.Attendee=0]="Attendee",e[e.Host=1]="Host",e[e.Owner=4]="Owner",e[e.ViewOnly=8]="ViewOnly",e[e.HostOwner=5]="HostOwner",e[e.ViewOnlyCanTalk=24]="ViewOnlyCanTalk",e}({}),fH=function(e){return e[e.Host=10]="Host",e[e.Panelist=20]="Panelist",e[e.Attendee=30]="Attendee",e}({}),I_=function(e){return e[e.Client=9]="Client",e[e.Phone=5]="Phone",e[e.H323=15]="H323",e[e.Assitant=51]="Assitant",e}({});const AA=e=>(e&Iu.Host)===Iu.Host,md=e=>(e&I_.Phone)===I_.Phone,Qm=e=>e===Iu.ViewOnlyCanTalk,Sn=e=>(e&Iu.ViewOnly)===Iu.ViewOnly;let Tf=function(e){return e[e.Automatically=1]="Automatically",e[e.Manually=2]="Manually",e}({}),tt=function(e){return e[e.NotStarted=1]="NotStarted",e[e.InProgress=2]="InProgress",e[e.Closing=3]="Closing",e[e.Closed=4]="Closed",e}({}),_L=function(e){return e[e.NoToken=1]="NoToken",e[e.GotToken=2]="GotToken",e[e.Started=3]="Started",e[e.Closing=4]="Closing",e[e.Closed=5]="Closed",e}({}),Ue=function(e){return e.Initial="initial",e.Invited="invited",e.Joining="joining",e.InRoom="in room",e.Leaving="leaving",e.TimeUp="time up",e.MainSession="main session",e}({}),_l=function(e){return e.Join="joinRequest",e.Switch="switchRequest",e.Leave="leaveRequest",e.Broadcast="messageText",e.HelpReq="helpRequest",e.HelpRes="helpResponse",e.CoHostWantJoinThisBo="wantJoinThisBO",e}({}),ns=function(e){return e[e.Received=0]="Received",e[e.Busy=1]="Busy",e[e.Ignore=2]="Ignore",e[e.AlreadyInRoom=3]="AlreadyInRoom",e}({});const Ve=en([bL,Zf],(e,t)=>t.find(n=>n.userId===e)),ei=en([Ve],e=>(e==null?void 0:e.isHost)||(e==null?void 0:e.bCoHost)),pH=en([Ve],e=>e==null?void 0:e.isHost),Jf=en([R_],e=>e.filter(t=>t.userRole===fH.Attendee)),hH=en([Zf],e=>e.filter(t=>t.bHold&&!t.bid)),kt=en([Zf,e=>{let{breakoutRoom:t}=e;return t&&t.controlStatus},e=>{let{breakoutRoom:t}=e;return t&&t.currentRoom.status}],(e,t,n)=>t!==tt.InProgress&&t!==tt.Closing||n!==Ue.InRoom?e.filter(r=>!r.bHold&&!r.bid):e.filter(r=>!r.bHold)),mH=en([e=>{let{participants:{assistantList:t}}=e;return t}],e=>e),D_=en([kt],e=>e.find(t=>t.isHost)),$R=en([kt],e=>e.filter(t=>t.bCoHost)),CA=en([Ve,kt],(e,t)=>t.filter(n=>n.userId!==(e==null?void 0:e.userId)));en([R_],e=>e.reduce((t,n)=>{const{jid:r}=n;return Object.assign(t,{[r]:n}),t},{})),en([R_,e=>{let{meeting:{jid:t}}=e;return t}],(e,t)=>{var n;return(n=e.find(r=>r.jid===t))===null||n===void 0?void 0:n.userId});const gH=en([Zf],function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).some(e=>(e==null?void 0:e.bLocalRecord)===Af.Start)});let Ot=function(e){return e.Closed="closed",e.Connecting="connecting",e.Connected="connected",e}({});function An(e){return 1<<e-1}let Rr=function(e){return e[e.SupportASL=An(1)]="SupportASL",e[e.SidecarPhase2=An(2)]="SidecarPhase2",e[e.SupportBroadcastVoice=An(4)]="SupportBroadcastVoice",e[e.SendMeetingTokenSeparately=An(5)]="SendMeetingTokenSeparately",e[e.SupportPreview=An(6)]="SupportPreview",e[e.WebCameraIndication=An(7)]="WebCameraIndication",e[e.SupportFarEndCameraControl=An(9)]="SupportFarEndCameraControl",e[e.SupportVideoShare=An(10)]="SupportVideoShare",e[e.UnifyErrorType=An(11)]="UnifyErrorType",e[e.WhiteBoard=An(12)]="WhiteBoard",e[e.RequestRemoteControl=An(14)]="RequestRemoteControl",e[e.SmartSummary=An(15)]="SmartSummary",e[e.LocalRecording=An(16)]="LocalRecording",e[e.LocalRecordingGrantPermission=An(17)]="LocalRecordingGrantPermission",e[e.ShareMultiStream=An(18)]="ShareMultiStream",e[e.VideoLTR=An(19)]="VideoLTR",e[e.WebrtcAudioRtcpTime=An(20)]="WebrtcAudioRtcpTime",e[e.SupportSend1080PVideo=An(29)]="SupportSend1080PVideo",e[e.SupportSend1080PVideoShare=An(30)]="SupportSend1080PVideoShare",e}({});const{setAsnIds:EL,setIsCanUnmute:AL,setDialoutSequence:CL,setDialoutResultCode:wL,setIsAllowToTalk:M_,setAudioSsrc:OL,setIsMutedUponEntry:TL,setIsUserGrantCaptureAudio:RL,setIsMicrophoneForbidden:wA,setWebrtcRestartCount:Yf,setMicrophoneList:IL,setSpeakerList:DL,setActiveMicrophone:Rf,setActiveSpeaker:Kg,setCanPlayAudio:gd,resetAudio:ML,setIsComputerAudioLoading:eu,setIsAllowToTalkAttendeeConnected:k_,setIsMuteBeforeSharingAudio:fa,addLocalShareAudioUser:kL,updateLocalShareAudioUser:NL,setIsJoinComputerAudioBeforeSharingAudio:yd,setIsShareAudioEnabled:Wg,setIsShareAudioMuted:Zm,setIsSharingAudio:vd,setAudioDataEncoding:Jm,setAudioDataDecoding:Ym,addLocallyMutedAudio:LL,removeLocallyMutedAudio:Xm,updateUserAudioVolumeLocally:PL,removeLocalUserAudioVolume:UL,setCustomizedAudioOption:OA,setIsBackgroundNoiseSuppression:N_,setIsHidEnabled:VL,setAudioMediaPlaybackFile:L_,setIsStopAllIncomingAudio:P_,setIsVerifiedAudioPermissionOnIosMobile:jL,setIsAudioBridgeSignalReconnecting:TA,setAudioMutedSource:ra,setAudioUnmutedSource:If,setAudioOriginalSound:U_,setLeaveAudioSource:Du}=bn("SET_ASN_IDS","SET_IS_CAN_UNMUTE","SET_DIALOUT_SEQUENCE","SET_DIALOUT_RESULT_CODE","SET_IS_ALLOW_TO_TALK","SET_AUDIO_SSRC","SET_IS_MUTED_UPON_ENTRY","SET_IS_USER_GRANT_CAPTURE_AUDIO","SET_IS_MICROPHONE_FORBIDDEN","SET_WEBRTC_RESTART_COUNT","SET_MICROPHONE_LIST","SET_SPEAKER_LIST","SET_ACTIVE_MICROPHONE","SET_ACTIVE_SPEAKER","SET_CAN_PLAY_AUDIO","RESET_AUDIO","SET_IS_COMPUTER_AUDIO_LOADING","SET_IS_ALLOW_TO_TALK_ATTENDEE_CONNECTED","SET_IS_MUTE_BEFORE_SHARING_AUDIO","SET_IS_SHARING_AUDIO","ADD_LOCAL_SHARE_AUDIO_USER","UPDATE_LOCAL_SHARE_AUDIO_USER","SET_IS_JOIN_COMPUTER_AUDIO_BEFORE_SHARING_AUDIO","SET_IS_SHARE_AUDIO_ENABLED","SET_IS_SHARE_AUDIO_MUTED","SET_AUDIO_DATA_ENCODING","SET_AUDIO_DATA_DECODING","ADD_LOCALLY_MUTED_AUDIO","REMOVE_LOCALLY_MUTED_AUDIO","UPDATE_USER_AUDIO_VOLUME_LOCALLY","REMOVE_LOCAL_USER_AUDIO_VOLUME","SET_CUSTOMIZED_AUDIO_OPTION","SET_IS_BACKGROUND_NOISE_SUPPRESSION","SET_IS_HID_ENABLED","SET_AUDIO_MEDIA_PLAYBACK_FILE","SET_IS_STOP_ALL_INCOMING_AUDIO","SET_IS_VERIFIED_AUDIO_PERMISSION_ON_IOS_MOBILE","SET_IS_AUDIO_BRIDGE_SIGNAL_RECONNECTING","SET_AUDIO_MUTED_SOURCE","SET_AUDIO_UNMUTED_SOURCE","SET_AUDIO_ORIGINAL_SOUND","SET_LEAVE_AUDIO_SOURCE"),{setSharePrivilege:RA,setShareActiveNode:eg,setIsReceiveSharing:tg,setIsChromeExtensionInstalled:BL,setIsScreenShareForbidden:KR,setShareDimension:xL,setShareStatus:ti,setShareSsrc:HL,setShareQuality:IA,setReceivedShareDimension:V_,setIsGrabRemoteControl:rm,setIsSdkGrabControl:j_,setIsReceiveSharingFromMainSession:zL,setIsSharingToBreakoutRoom:Xc,setIsSharingWithSecondCamera:FL,setShringSecondCameraId:GL,setIsRequireReadReceipt:qL,setIsOptimizedForSharedVideo:ng,setShareDataEncoding:B_,setShareDataDecoding:Df,addShareCapturedEnsuredCanvas:$L,addShareRenderedEnsuredCanvas:KL,setRemoteControlCurrentSsrc:OF,setRemoteControllingSsrc:pf,setApprovedRemoteControlSsrc:Yl,setRemoteControlAppDownloadUrl:WL,setRemoteControlAppInstallStatus:au,remoteControlAppStatusFallbackCheck:WR,remoteControlAppLaunchedCheck:MS,setIsEnableAutoDeleteRcApp:TF,setRemoteControlAppLaunchSheme:vo,addSharingUserIdSsrcMapping:x_,addRemoteControlledUser:QL,removeRemoteControlledUser:H_,setRemoteControlSetting:DA,setRemoteControlViewportDomSelector:ZL,setIsFullHdVideoShareEnabled:JL,resetShare:YL}=bn("SET_SHARE_PRIVILEGE","SET_SHARE_ACTIVE_NODE","SET_IS_RECEIVE_SHARING","SET_IS_CHROME_EXTENSION_INSTALLED","SET_IS_SCREEN_SHARE_FORBIDDEN","SET_SHARE_DIMENSION","SET_SHARE_STATUS","SET_SHARE_SSRC","SET_SHARE_QUALITY","SET_RECEIVED_SHARE_DIMENSION","SET_IS_GRAB_REMOTE_CONTROL","SET_IS_SDK_GRAB_CONTROL","SET_IS_RECEIVE_SHARING_FROM_MAIN_SESSION","SET_IS_SHARING_TO_BREAKOUT_ROOM","SET_IS_SHARING_WITH_SECOND_CAMERA","SET_SHRING_SECOND_CAMERA_ID","SET_IS_REQUIRE_READ_RECEIPT","SET_IS_OPTIMIZED_FOR_SHARED_VIDEO","SET_SHARE_DATA_ENCODING","SET_SHARE_DATA_DECODING","ADD_SHARE_CAPTURED_ENSURED_CANVAS","ADD_SHARE_RENDERED_ENSURED_CANVAS","SET_REMOTE_CONTROL_CURRENT_SSRC","SET_REMOTE_CONTROLLING_SSRC","SET_APPROVED_REMOTE_CONTROL_SSRC","SET_REMOTE_CONTROL_APP_DOWNLOAD_URL","SET_REMOTE_CONTROL_APP_INSTALL_STATUS","REMOTE_CONTROL_APP_STATUS_FALLBACK_CHECK","REMOTE_CONTROL_APP_LAUNCHED_CHECK","SET_IS_ENABLE_AUTO_DELETE_RC_APP","SET_REMOTE_CONTROL_APP_LAUNCH_SHEME","ADD_SHARING_USER_ID_SSRC_MAPPING","ADD_REMOTE_CONTROLLED_USER","REMOVE_REMOTE_CONTROLLED_USER","SET_REMOTE_CONTROL_SETTING","SET_REMOTE_CONTROL_VIEWPORT_DOM_SELECTOR","SET_IS_FULL_HD_VIDEO_SHARE_ENABLED","RESET_SHARE"),{setVideoSsrc:XL,setActiveVideoId:eP,setCameraList:MA,setActiveCamera:rg,setIsCurrentUserStartedVideo:tP,setSpotlightVideo:z_,setIsCaptureForbidden:ig,setVideoMaxQuality:nP,setIsVideoMuted:rP,setIsCaptureCameraLoading:ef,setIsCameraTaken:og,resetVideo:iP,setReceivedVideoDimension:F_,addSubscribedVideoId:im,removeSubscribedVideoId:G_,setIsFollowHostVideoLayout:oP,setHostDragLayout:aP,addRenderedVideoId:Xl,removeRenderedVideoId:ag,setIsSupportHdVideo:sP,setMaximumNumbeOfHdSubscriptions:uP,setIsCanUnmuteVideo:lP,setIsVbPreloadReady:q_,setIsVbConfiged:sg,setVbImageSrc:om,setVideoDataEncoding:ug,setVideoDataDecoding:lg,setHardwareAccelerationState:Ml,setVideoCaptureCustomizedOption:dP,setNetworkQuality:$_,setVideoCameraPtzCapabilities:cP,setIsCurrentUserRequestCameraControlled:dg,setIsCurrentUserCameraInControl:cg,addVideoFarEndCameraControlUser:fP,removeVideoFarEndCameraControlUser:fg,setVideoPtzCameraMoving:K_,setVideoPtzCameraValue:kA,setIsControllingFarEndCamera:W_,setNetworkQualityBroadcastTime:pP,setIsMaskConfiged:pg,setVideoBackgroundMode:yH,setVideoMask:am,setVideoCapturedDimension:hP,addVideoRenderedEnsuredCanvas:mP,setVideoMediaPlaybackFile:Q_,setPrefetchedVideoUser:ed,setVideoQosSubscriptionStatus:Z_,setIsSupportFullHdVideo:gP,addVideoPlayerAttachment:yP,removeVideoPlayerAttachment:sm}=bn("SET_VIDEO_SSRC","SET_ACTIVE_VIDEO_ID","SET_CAMERA_LIST","SET_ACTIVE_CAMERA","SET_IS_CURRENT_USER_STARTED_VIDEO","SET_SPOTLIGHT_VIDEO","SET_IS_CAPTURE_FORBIDDEN","SET_VIDEO_MAX_QUALITY","SET_IS_VIDEO_MUTED","SET_IS_CAPTURE_CAMERA_LOADING","SET_IS_CAMERA_TAKEN","RESET_VIDEO","SET_RECEIVED_VIDEO_DIMENSION","ADD_SUBSCRIBED_VIDEO_ID","REMOVE_SUBSCRIBED_VIDEO_ID","SET_IS_FOLLOW_HOST_VIDEO_LAYOUT","SET_HOST_DRAG_LAYOUT","ADD_RENDERED_VIDEO_ID","REMOVE_RENDERED_VIDEO_ID","SET_IS_SUPPORT_HD_VIDEO","SET_MAXIMUM_NUMBE_OF_HD_SUBSCRIPTIONS","SET_IS_CAN_UNMUTE_VIDEO","SET_IS_VB_PRELOAD_READY","SET_IS_VB_CONFIGED","SET_VB_IMAGE_SRC","SET_VIDEO_DATA_ENCODING","SET_VIDEO_DATA_DECODING","SET_HARDWARE_ACCELERATION_STATE","SET_VIDEO_CAPTURE_CUSTOMIZED_OPTION","SET_NETWORK_QUALITY","SET_VIDEO_CAMERA_PTZ_CAPABILITIES","SET_IS_CURRENT_USER_REQUEST_CAMERA_CONTROLLED","SET_IS_CURRENT_USER_CAMERA_IN_CONTROL","ADD_VIDEO_FAR_END_CAMERA_CONTROL_USER","REMOVE_VIDEO_FAR_END_CAMERA_CONTROL_USER","SET_VIDEO_PTZ_CAMERA_MOVING","SET_VIDEO_PTZ_CAMERA_VALUE","SET_IS_CONTROLLING_FAR_END_CAMERA","SET_NETWORK_QUALITY_BROADCAST_TIME","SET_IS_MASK_CONFIGED","SET_VIDEO_BACKGROUND_MODE","SET_VIDEO_MASK","SET_VIDEO_CAPTURED_DIMENSION","ADD_VIDEO_RENDERED_ENSURED_CANVAS","SET_VIDEO_MEDIA_PLAYBACK_FILE","SET_PREFETCHED_VIDEO_USER","SET_VIDEO_QOS_SUBSCRIPTION_STATUS","SET_IS_SUPPORT_FULL_HD_VIDEO","ADD_VIDEO_PLAYER_ATTACHMENT","REMOVE_VIDEO_PLAYER_ATTACHMENT"),{setQaSetting:RF,addQaQuestion:IF,addQaAnswer:DF,removeQaComment:MF,removeQaQuestion:kF,dismissQaQuestion:NF,reopenQaQuestion:LF,voteQaQuestion:PF,answerQaQuestionLive:UF,updateAttendeeAnonymousQuestion:VF,setQaEnabled:jF,resetQa:vH}=bn("SET_QA_SETTING","ADD_QA_QUESTION","ADD_QA_ANSWER","REMOVE_QA_COMMENT","REMOVE_QA_QUESTION","DISMISS_QA_QUESTION","REOPEN_QA_QUESTION","VOTE_QA_QUESTION","ANSWER_QA_QUESTION_LIVE","UPDATE_ATTENDEE_ANONYMOUS_QUESTION","SET_QA_ENABLED","RESET_QA"),{setChatPrivilege:NA,setPanelistChatPrivilege:vP,addChatMessageHistory:Mf,resetChat:SP,setIsAllowAttendeeChat:bP,setLatestChatMessageId:_P,removeChatMessage:um,setFileChatSetting:EP,addChatFileRecord:LA,updateChatFileRecord:Cn,cancelSendFileChat:kf,addFailedChatFileTransfer:PA,setChatFileMessageId:AP,cancelDownloadFileChat:UA}=bn("SET_CHAT_PRIVILEGE","SET_PANELIST_CHAT_PRIVILEGE","ADD_CHAT_MESSAGE_HISTORY","RESET_CHAT","SET_IS_ALLOW_ATTENDEE_CHAT","SET_LATEST_CHAT_MESSAGE_ID","REMOVE_CHAT_MESSAGE","SET_FILE_CHAT_SETTING","ADD_CHAT_FILE_RECORD","UPDATE_CHAT_FILE_RECORD","CANCEL_SEND_FILE_CHAT","ADD_FAILED_CHAT_FILE_TRANSFER","SET_CHAT_FILE_MESSAGE_ID","CANCEL_DOWNLOAD_FILE_CHAT"),{setCcEditorInfo:CP,setTempSendCcText:BF,setCcLtMessage:xF,setTempReceiveLtText:HF,setTempReceiveCcText:zF,setGatewayInfoList:FF,setLtEnable:GF,setIsListenClosedCaption:qF,setCcEnable:$F,allowParticipantAskLt:KF,receiveAskStartLt:WF,setMeetingEnabledLtFeature:QF,updateLtStatus:ZF,deleteMessage:JF,updateMessage:YF,resetClosedCaption:SH}=bn("SET_CC_EDITOR_INFO","SET_CC_LT_MESSAGE","SET_TEMP_SEND_CC_TEXT","SET_TEMP_RECEIVE_LT_TEXT","SET_TEMP_RECEIVE_CC_TEXT","SET_GATEWAY_INFO_LIST","SET_LT_ENABLE","SET_IS_LISTEN_CLOSED_CAPTION","SET_CC_ENABLE","ALLOW_PARTICIPANT_ASK_LT","RECEIVE_ASK_START_LT","SET_MEETING_ENABLED_LT_FEATURE","UPDATE_LT_STATUS","DELETE_MESSAGE","UPDATE_MESSAGE","RESET_CLOSED_CAPTION"),{addBreakoutRooms:wP,setBreakoutRoomAllocationPattern:OP,setBreakoutRoomSequenceId:VA,setMeetingElapsedTime:J_,setStartRoomElapsedTime:TP,setBreakoutRoomOptions:RP,setBreakoutRoomControlStatus:IP,setBreakoutRooms:lm,setCurrentBreakoutRoom:hg,setBreakoutRoomAttendeeStatus:Eu,setBreakoutRoomConfId:Y_,setBreakoutRoomToken:X_,resetBreakoutRoom:DP,setBreakoutRoomClosingRoomTime:eE,setBreakoutRoomBroadcastMessage:MP,setBreakoutRoomHostReplyType:jA,setBreakoutRoomHostReplyRequestId:kP,setMainSessionAttendeeList:NP,setIsHugeBreakoutRoom:LP,setBreakoutRoomPreAssignedRoomList:tE,setBreakoutRoomUserRoleUpdated:nE,setBreakoutRoomMeetingOptions:PP}=bn("ADD_BREAKOUT_ROOMS","SET_BREAKOUT_ROOM_ALLOCATION_PATTERN","SET_BREAKOUT_ROOM_SEQUENCE_ID","SET_MEETING_ELAPSED_TIME","SET_START_ROOM_ELAPSED_TIME","SET_BREAKOUT_ROOM_OPTIONS","SET_BREAKOUT_ROOM_CONTROL_STATUS","SET_BREAKOUT_ROOMS","SET_CURRENT_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_ATTENDEE_STATUS","SET_BREAKOUT_ROOM_CONF_ID","SET_BREAKOUT_ROOM_TOKEN","RESET_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_CLOSING_ROOM_TIME","SET_BREAKOUT_ROOM_BROADCAST_MESSAGE","SET_BREAKOUT_ROOM_HOST_REPLY_TYPE","SET_BREAKOUT_ROOM_HOST_REPLY_REQUEST_ID","SET_MAIN_SESSION_ATTENDEE_LIST","SET_IS_HUGE_BREAKOUT_ROOM","SET_BREAKOUT_ROOM_PRE_ASSIGNED_ROOM_LIST","SET_BREAKOUT_ROOM_USER_ROLE_UPDATED","SET_BREAKOUT_ROOM_MEETING_OPTIONS"),{setCloudRecordingStatus:UP,setCloudRecordingEnable:VP,setCloudIsoRecordingEnable:jP,setAllowStopAutoRecording:BP,setAutomaticCloudRecordingEnable:xP,setIsZoomIQ:BA,setZoomIQChanging:xA,setLocalRecordStatus:HA,setSupportLocalRecording:rE,setLocalGrantPermissionOption:HP,setLocalPermissionUserList:td,resetRecording:zP}=bn("SET_CLOUD_RECORDING_STATUS","SET_CLOUD_RECORDING_ENABLE","SET_CLOUD_ISO_RECORDING_ENABLE","SET_ALLOW_STOP_AUTO_RECORDING","SET_AUTOMATIC_CLOUD_RECORDING_ENABLE","SET_IS_ZOOM_I_Q","SET_ZOOM_I_Q_CHANGING","SET_LOCAL_RECORD_STATUS","SET_SUPPORT_LOCAL_RECORDING","SET_LOCAL_GRANT_PERMISSION_OPTION","SET_LOCAL_PERMISSION_USER_LIST","RESET_RECORDING"),{updateCmdJid:FP,removeCmdJid:GP,setCmdChannelConnectionStatus:qP,resetCmdChannel:$P}=bn("UPDATE_CMD_JID","REMOVE_CMD_JID","SET_CMD_CHANNEL_CONNECTION_STATUS","RESET_CMD_CHANNEL"),{setArchivingStatus:XF,setArchivingSessionReady:e5,setArchivingOptions:t5,resetArchiving:bH}=bn({SET_ARCHIVING_STATUS:e=>e,SET_ARCHIVING_SESSION_READY:e=>e,SET_ARCHIVING_OPTIONS:e=>e,RESET_ARCHIVING:()=>{}}),{setIsLiveTranscriptionEnabled:KP,setLiveTranscriptionMeetingOptions:WP,setIsLiveTranscriptionManualCaptionerEnabled:iE,setLiveTranscriptionGatewayId:QP,setLiveTranscriptionSupportedLanguage:ZP,setIsLiveTranscriptionSubscribed:oE,setCurrentTranscriptionLang:hu,setCurrentTranslationLang:mg,addLiveTranscriptionMessage:aE,updateLiveTranscriptionMessage:JP,reduceLiveTranscriptionMessages:YP,setLiveTranscriptionEngineType:XP,removeLiveTranscriptionFailoverState:eU,setLiveTranscriptionLastCaptionMessage:tU,resetLiveTranscription:nU,setIsHostDisableCaptions:rU}=bn("SET_IS_LIVE_TRANSCRIPTION_ENABLED","SET_LIVE_TRANSCRIPTION_MEETING_OPTIONS","SET_IS_LIVE_TRANSCRIPTION_MANUAL_CAPTIONER_ENABLED","SET_LIVE_TRANSCRIPTION_GATEWAY_ID","SET_LIVE_TRANSCRIPTION_SUPPORTED_LANGUAGE","SET_IS_LIVE_TRANSCRIPTION_SUBSCRIBED","SET_CURRENT_TRANSCRIPTION_LANG","SET_CURRENT_TRANSLATION_LANG","ADD_LIVE_TRANSCRIPTION_MESSAGE","UPDATE_LIVE_TRANSCRIPTION_MESSAGE","REDUCE_LIVE_TRANSCRIPTION_MESSAGES","SET_LIVE_TRANSCRIPTION_ENGINE_TYPE","REMOVE_LIVE_TRANSCRIPTION_FAILOVER_STATE","SET_LIVE_TRANSCRIPTION_LAST_CAPTION_MESSAGE","RESET_LIVE_TRANSCRIPTION"," SET_IS_HOST_DISABLE_CAPTIONS"),{setPollData:n5,setPollingId:r5,setPollingWebLinks:i5,setPollingDocMaxSize:o5,setPollingDocSize:a5,setPollingDocLibraryMaxSize:s5,setPollingDocLibrarySize:u5,resetPoll:_H}=bn("SET_POLL_DATA","SET_POLLING_ID","SET_POLLING_WEB_LINKS","SET_POLLING_DOC_MAX_SIZE","SET_POLLING_DOC_SIZE","SET_POLLING_DOC_LIBRARY_MAX_SIZE","SET_POLLING_DOC_LIBRARY_SIZE","RESET_POLL"),{setLoggerInitOptions:zA,setIsLaplaceInitialized:gg,resetLogger:iU}=bn("SET_LOGGER_INIT_OPTIONS","SET_IS_LAPLACE_INITIALIZED","RESET_LOGGER"),{setIsLiveStreamEnable:oU,setLiveStreamStatus:yg,resetLiveStream:aU}=bn("SET_IS_LIVE_STREAM_ENABLE","SET_LIVE_STREAM_STATUS","RESET_LIVE_STREAM");var sE={exports:{}},kS={};(function(e,t){var n=function(Q,G){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,ie){j.__proto__=ie}||function(j,ie){for(var Se in ie)ie.hasOwnProperty(Se)&&(j[Se]=ie[Se])},n(Q,G)};function r(Q,G){function j(){this.constructor=Q}n(Q,G),Q.prototype=G===null?Object.create(G):(j.prototype=G.prototype,new j)}var a=function(){return a=Object.assign||function(Q){for(var G,j=1,ie=arguments.length;j<ie;j++)for(var Se in G=arguments[j])Object.prototype.hasOwnProperty.call(G,Se)&&(Q[Se]=G[Se]);return Q},a.apply(this,arguments)},s,l=function(Q,G){var j=new Uint8Array(Q.byteLength+G.byteLength);return j.set(new Uint8Array(Q),0),j.set(new Uint8Array(G),Q.byteLength),j.buffer},d="/";(s=e.TransformDataFormat||(e.TransformDataFormat={})).STRING="string",s.BLOB="blob",s.ARRAY_BUFFER="arraybuffer";var f=function(Q){return Blob&&Q instanceof Blob?"blob":ArrayBuffer&&Q instanceof ArrayBuffer?"arrayBuffer":typeof Q},p=[],h=function(){for(var Q=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],G="",j=0;j<32;j++)G+=Q[Math.round(61*Math.random())];return p.indexOf(G)!==-1?h():(p.push(G),G)},g=function(Q){return Q.arrayBuffer?Q.arrayBuffer():new Promise(function(G,j){var ie=new FileReader;ie.readAsArrayBuffer(Q),ie.onload=function(Se){G(Se.target&&Se.target.result)},ie.onerror=function(Se){j(Se)}})},v=function(Q){return Q.text?Q.text():new Promise(function(G,j){var ie=new FileReader;ie.readAsText(Q),ie.onload=function(Se){G(Se.target&&Se.target.result)},ie.onerror=function(Se){j(Se)}})},S=function(Q,G){return Promise.resolve(new Blob([new Uint8Array(Q)],{type:G}))},b=function(Q,G){var j=new Blob([Q],{type:G||"text/plain"});return v(j)},_=function(Q,G){return Promise.resolve(new Blob([Q],{type:G||"text/plain"}))},E=function(Q,G){return g(new Blob([Q],{type:G||"text/plain"}))};function A(Q){var G=(Q||"").split(".");return G[G.length-1]||""}function w(Q){var G=(Q||"").lastIndexOf(d);return G<0?"":Q.slice(0,G)}function O(Q){var G=(Q||"").lastIndexOf(d),j=G<0?Q:Q.slice(G+1),ie=(j||"").lastIndexOf(".");return ie<0?j:j.slice(0,ie)}function I(Q){return["png","jpg","jpeg","svg"].includes(A(Q))}function V(Q){return A(Q)==="json"}function U(Q){return A(Q)==="version"}function x(Q,G){return Q.reduce(function(j,ie){var Se,Ne=ie.data,Pe=ie.file,xe=A(Pe.name),ze=w(Pe.name),Ze=O(Pe.name),Ke=((G==null?void 0:G.combineExtNames)||[]).includes(xe)&&typeof Ne=="string",We=Ke?""+(ze?""+ze+d+xe:xe):Pe.name;return Ke&&j.some(function(lt){return lt.path===We&&(lt.data[Ze]=Ne,!0)})||j.push({path:We,extName:xe,data:Ke?(Se={},Se[Ze]=Ne,Se):Ne,shouldCombine:Ke}),j},[]).map(function(j){var ie=j.data,Se=j.shouldCombine,Ne=function(Pe,xe){var ze={};for(var Ze in Pe)Object.prototype.hasOwnProperty.call(Pe,Ze)&&xe.indexOf(Ze)<0&&(ze[Ze]=Pe[Ze]);if(Pe!=null&&typeof Object.getOwnPropertySymbols=="function"){var Ke=0;for(Ze=Object.getOwnPropertySymbols(Pe);Ke<Ze.length;Ke++)xe.indexOf(Ze[Ke])<0&&Object.prototype.propertyIsEnumerable.call(Pe,Ze[Ke])&&(ze[Ze[Ke]]=Pe[Ze[Ke]])}return ze}(j,["data","shouldCombine"]);return a(a({},Ne),{data:Se?JSON.stringify(ie):ie})})}function $(Q,G){return t.loadAsync(Q).then(function(j){return Promise.all(j.filter(function(ie,Se){return!Se.dir}).map(function(ie){var Se=function(Ne){return V(Ne.name)?"string":I(Ne.name)?"base64":U(Ne.name)?"text":"blob"}(ie);return G!=null&&G.setUnZipFormat&&(Se=G.setUnZipFormat(ie)||Se),ie.async(Se).then(function(Ne){var Pe=Ne,xe=A(ie.name),ze=xe==="svg"?"svg+xml":xe;return Se==="base64"&&I(ie.name)&&!Ne.startsWith("data")&&(Pe="data:image/"+ze+";base64,"+Pe),{data:Pe,file:ie}})}))}).then(function(j){return x(j,G)})}function W(Q,G){var j=G||{},ie=j.encoding,Se=j.blobType,Ne=j.unZipOptions;if(function(pt){return f(pt)==="blob"&&(pt.type.includes("compressed")||pt.type.includes("zip"))}(Q)&&!(Ne!=null&&Ne.disableUnZip))return $(Q,Ne);if(!ie)return Promise.resolve(Q);var Pe=f(Q),xe=Pe==="string",ze=Pe==="blob",Ze=Pe==="arrayBuffer";if(ie===e.TransformDataFormat.BLOB){var Ke=Q;if(xe)return v(Ke);if(Ze)return g(Ke)}else if(ie===e.TransformDataFormat.ARRAY_BUFFER){var We=Q;if(xe)return b(We,Se);if(ze)return S(We,Se)}else if(ie===e.TransformDataFormat.STRING){var lt=Q;if(ze)return _(lt,Se);if(Ze)return E(lt,Se)}return Promise.resolve(Q)}function z(Q){var G=0,j=!1,ie=function(){G>90||j||(Q(G+=(100-G)/50),requestAnimationFrame(ie))};return ie(),{finish:function(){G===100||j||(G=100,Q(100))},abort:function(){G===100||j||(j=!0)},get curProgress(){return G}}}function L(){}function T(){T.init.call(this)}function N(Q){return Q._maxListeners===void 0?T.defaultMaxListeners:Q._maxListeners}function F(Q,G,j,ie){var Se,Ne,Pe;if(typeof j!="function")throw new TypeError('"listener" argument must be a function');if((Ne=Q._events)?(Ne.newListener&&(Q.emit("newListener",G,j.listener?j.listener:j),Ne=Q._events),Pe=Ne[G]):(Ne=Q._events=new L,Q._eventsCount=0),Pe){if(typeof Pe=="function"?Pe=Ne[G]=ie?[j,Pe]:[Pe,j]:ie?Pe.unshift(j):Pe.push(j),!Pe.warned&&(Se=N(Q))&&Se>0&&Pe.length>Se){Pe.warned=!0;var xe=new Error("Possible EventEmitter memory leak detected. "+Pe.length+" "+G+" listeners added. Use emitter.setMaxListeners() to increase limit");xe.name="MaxListenersExceededWarning",xe.emitter=Q,xe.type=G,xe.count=Pe.length,function(ze){typeof console.warn=="function"?console.warn(ze):console.log(ze)}(xe)}}else Pe=Ne[G]=j,++Q._eventsCount;return Q}function P(Q,G,j){var ie=!1;function Se(){Q.removeListener(G,Se),ie||(ie=!0,j.apply(Q,arguments))}return Se.listener=j,Se}function D(Q){var G=this._events;if(G){var j=G[Q];if(typeof j=="function")return 1;if(j)return j.length}return 0}function K(Q,G){for(var j=new Array(G);G--;)j[G]=Q[G];return j}L.prototype=Object.create(null),T.EventEmitter=T,T.usingDomains=!1,T.prototype.domain=void 0,T.prototype._events=void 0,T.prototype._maxListeners=void 0,T.defaultMaxListeners=10,T.init=function(){this.domain=null,T.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new L,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},T.prototype.setMaxListeners=function(Q){if(typeof Q!="number"||Q<0||isNaN(Q))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=Q,this},T.prototype.getMaxListeners=function(){return N(this)},T.prototype.emit=function(Q){var G,j,ie,Se,Ne,Pe,xe,ze=Q==="error";if(Pe=this._events)ze=ze&&Pe.error==null;else if(!ze)return!1;if(xe=this.domain,ze){if(G=arguments[1],!xe){if(G instanceof Error)throw G;var Ze=new Error('Uncaught, unspecified "error" event. ('+G+")");throw Ze.context=G,Ze}return G||(G=new Error('Uncaught, unspecified "error" event')),G.domainEmitter=this,G.domain=xe,G.domainThrown=!1,xe.emit("error",G),!1}if(!(j=Pe[Q]))return!1;var Ke=typeof j=="function";switch(ie=arguments.length){case 1:(function(We,lt,pt){if(lt)We.call(pt);else for(var dt=We.length,St=K(We,dt),Tt=0;Tt<dt;++Tt)St[Tt].call(pt)})(j,Ke,this);break;case 2:(function(We,lt,pt,dt){if(lt)We.call(pt,dt);else for(var St=We.length,Tt=K(We,St),Nt=0;Nt<St;++Nt)Tt[Nt].call(pt,dt)})(j,Ke,this,arguments[1]);break;case 3:(function(We,lt,pt,dt,St){if(lt)We.call(pt,dt,St);else for(var Tt=We.length,Nt=K(We,Tt),$n=0;$n<Tt;++$n)Nt[$n].call(pt,dt,St)})(j,Ke,this,arguments[1],arguments[2]);break;case 4:(function(We,lt,pt,dt,St,Tt){if(lt)We.call(pt,dt,St,Tt);else for(var Nt=We.length,$n=K(We,Nt),In=0;In<Nt;++In)$n[In].call(pt,dt,St,Tt)})(j,Ke,this,arguments[1],arguments[2],arguments[3]);break;default:for(Se=new Array(ie-1),Ne=1;Ne<ie;Ne++)Se[Ne-1]=arguments[Ne];(function(We,lt,pt,dt){if(lt)We.apply(pt,dt);else for(var St=We.length,Tt=K(We,St),Nt=0;Nt<St;++Nt)Tt[Nt].apply(pt,dt)})(j,Ke,this,Se)}return!0},T.prototype.addListener=function(Q,G){return F(this,Q,G,!1)},T.prototype.on=T.prototype.addListener,T.prototype.prependListener=function(Q,G){return F(this,Q,G,!0)},T.prototype.once=function(Q,G){if(typeof G!="function")throw new TypeError('"listener" argument must be a function');return this.on(Q,P(this,Q,G)),this},T.prototype.prependOnceListener=function(Q,G){if(typeof G!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(Q,P(this,Q,G)),this},T.prototype.removeListener=function(Q,G){var j,ie,Se,Ne,Pe;if(typeof G!="function")throw new TypeError('"listener" argument must be a function');if(!(ie=this._events))return this;if(!(j=ie[Q]))return this;if(j===G||j.listener&&j.listener===G)--this._eventsCount==0?this._events=new L:(delete ie[Q],ie.removeListener&&this.emit("removeListener",Q,j.listener||G));else if(typeof j!="function"){for(Se=-1,Ne=j.length;Ne-- >0;)if(j[Ne]===G||j[Ne].listener&&j[Ne].listener===G){Pe=j[Ne].listener,Se=Ne;break}if(Se<0)return this;if(j.length===1){if(j[0]=void 0,--this._eventsCount==0)return this._events=new L,this;delete ie[Q]}else(function(xe,ze){for(var Ze=ze,Ke=Ze+1,We=xe.length;Ke<We;Ze+=1,Ke+=1)xe[Ze]=xe[Ke];xe.pop()})(j,Se);ie.removeListener&&this.emit("removeListener",Q,Pe||G)}return this},T.prototype.removeAllListeners=function(Q){var G,j;if(!(j=this._events))return this;if(!j.removeListener)return arguments.length===0?(this._events=new L,this._eventsCount=0):j[Q]&&(--this._eventsCount==0?this._events=new L:delete j[Q]),this;if(arguments.length===0){for(var ie,Se=Object.keys(j),Ne=0;Ne<Se.length;++Ne)(ie=Se[Ne])!=="removeListener"&&this.removeAllListeners(ie);return this.removeAllListeners("removeListener"),this._events=new L,this._eventsCount=0,this}if(typeof(G=j[Q])=="function")this.removeListener(Q,G);else if(G)do this.removeListener(Q,G[G.length-1]);while(G[0]);return this},T.prototype.listeners=function(Q){var G,j=this._events;return j&&(G=j[Q])?typeof G=="function"?[G.listener||G]:function(ie){for(var Se=new Array(ie.length),Ne=0;Ne<Se.length;++Ne)Se[Ne]=ie[Ne].listener||ie[Ne];return Se}(G):[]},T.listenerCount=function(Q,G){return typeof Q.listenerCount=="function"?Q.listenerCount(G):D.call(Q,G)},T.prototype.listenerCount=D,T.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var J=function(Q){function G(j){var ie=Q.call(this)||this;return ie.timeout=(j==null?void 0:j.timeout)||3e4,ie}return r(G,Q),G.prototype.clearTimeoutCheck=function(){this.timeoutTimer&&(clearTimeout(this.timeoutTimer),this.timeoutTimer=null)},G.prototype.startTimeoutCheck=function(){var j=this;!this.timeoutTimer&&!this.finished&&this.timeout>0&&(this.timeoutTimer=setTimeout(function(){j.finished||(j.finished=!0,j.data=null,j.emit("timeout")),j.clearTimeoutCheck()},this.timeout))},G}(T),re=function(Q){function G(j){var ie=Q.call(this,j)||this;return ie.uuid=h(),ie.domParams=j||{},ie}return r(G,Q),G.prototype.jsonp=function(){var j=this;if(!this.finished){var ie=this.domParams,Se=ie.url,Ne=ie.jsonpCallbackName,Pe=Ne===void 0?"callback":Ne,xe=ie.body,ze=ie.integrity;this.script=document.createElement("script"),ze&&(this.script.integrity=ze,this.script.crossOrigin="anonymous");var Ze="";xe&&Object.entries(xe).forEach(function(Ke){var We=Ke[0],lt=Ke[1];Ze+=(Ze?"&":"")+We+"="+lt}),Ze+=(Ze?"&":"")+Pe+"="+this.uuid,this.script.src=Se+(Se.includes("?")?"":"?")+Ze,this.jsonpCallback(),this.progressMonitory=z(function(Ke){j.finished||j.emit("progressUpdated",Ke)}),document.body.appendChild(this.script)}},G.prototype.clearSideEffect=function(j){if(j===void 0&&(j=!1),document.body.removeChild(this.script),j){var ie=this.uuid;window[this.uuid]=function(){window[ie]&&delete window[ie]}}else delete window[this.uuid];this.script=null,this.uuid=null,this.finished=!0,this.data=null,this.clearTimeoutCheck()},G.prototype.jsonpCallback=function(){var j=this;this.script.onerror=function(ie){var Se;j.finished||(j.clearSideEffect(),(Se=j.progressMonitory)===null||Se===void 0||Se.abort(),j.emit("error",new Error(typeof ie=="string"?ie:"load jsonp script failed")))},window[this.uuid]=function(ie){var Se;if(!j.finished){var Ne=j.domParams,Pe=Ne.encoding,xe=Ne.blobType,ze=Ne.unZipOptions,Ze=Ne.beforeTransformData,Ke=Ne.afterTransformData;(Se=j.progressMonitory)===null||Se===void 0||Se.finish(),j.clearSideEffect(),(Ze?Ze(ie||""):Promise.resolve(ie||"")).then(function(We){return W(We,{encoding:Pe,blobType:xe,unZipOptions:ze}).then(function(lt){return(Ke?Ke(lt):Promise.resolve(lt)).then(function(pt){return j.emit("finished",pt)})})}).catch(function(We){return j.emit("error",We)})}}},G.prototype.abort=function(){this.clearSideEffect(!0)},G}(J),M=function(Q){function G(j){var ie=Q.call(this,j)||this;return ie.socketParams=j||{},ie}return r(G,Q),G.prototype.write=function(j,ie){j&&!this.finished&&(j instanceof Error?this.handleError(j):(this.data?this.appendData(j):this.data=j,this.handlePerCentUpdate(ie)))},G.prototype.handlePerCentUpdate=function(j){j===void 0||this.finished||this.emit("progressUpdated",j)},G.prototype.handleError=function(j){this.data=null,this.finished=!0,this.clearTimeoutCheck(),this.emit("error",j)},G.prototype.appendData=function(j){f(j)===f(this.data)?typeof j=="string"?this.data+=j:Blob&&j instanceof Blob?this.data=new Blob([this.data,j],{type:j.type}):ArrayBuffer&&j instanceof ArrayBuffer&&(this.data=l(this.data,j)):this.handleError(new Error("every piece of the data format must be the same"))},G.prototype.end=function(j){var ie=this;if(!this.finished){this.handlePerCentUpdate(100),j&&this.write(j);var Se=this.socketParams,Ne=Se.encoding,Pe=Se.blobType,xe=Se.unZipOptions,ze=Se.beforeTransformData,Ze=Se.afterTransformData;(ze?ze(this.data):Promise.resolve(this.data)).then(function(Ke){return W(Ke,{encoding:Ne,blobType:Pe,unZipOptions:xe}).then(function(We){return(Ze?Ze(We):Promise.resolve(We)).then(function(lt){return ie.emit("finished",lt)})})}).catch(function(Ke){return ie.emit("error",Ke)}),this.data=null,this.finished=!0,this.clearTimeoutCheck()}},G.prototype.abort=function(){this.data=null,this.finished=!0,this.clearTimeoutCheck()},G}(J),X=function(Q){function G(j){var ie=Q.call(this,j)||this;return ie.xhrParams=j||{},ie.xhrParams.headers=a({},ie.xhrParams.headers||{}),ie}return r(G,Q),G.prototype.supportFetch=function(){return!!window.fetch&&window.AbortController&&window.Request},G.prototype.ajax=function(){var j=this;if(!this.finished)if(this.xhrParams.url){var ie=this.xhrParams,Se=ie.headers,Ne=Se===void 0?{}:Se,Pe=ie.url,xe=ie.body,ze=xe===void 0?{}:xe,Ze=ie.method,Ke=Ze===void 0?"POST":Ze,We=ie.encoding,lt=ie.integrity;this.controller=this.supportFetch()?new AbortController:new XMLHttpRequest;var pt=this.supportFetch()?z(function(dt){j.finished||j.emit("progressUpdated",dt)}):null;(this.supportFetch()?fetch(new Request(Pe,a({method:Ke,headers:Ne,body:Ke==="GET"?void 0:JSON.stringify(ze),signal:this.controller.signal},lt?{integrity:lt,mode:"cors"}:{}))).then(function(dt){return dt.ok?We===e.TransformDataFormat.STRING?dt.text():We===e.TransformDataFormat.ARRAY_BUFFER?dt.arrayBuffer():dt.blob():Promise.reject(new Error("xhr download "+Pe+" failed!"))}):new Promise(function(dt,St){var Tt=new XMLHttpRequest;j.controller=Tt,Tt.open(Ke,Pe),Tt.responseType=We===e.TransformDataFormat.STRING?"text":We===e.TransformDataFormat.ARRAY_BUFFER?"arraybuffer":"blob",Object.entries(Ne).forEach(function(Nt){var $n=Nt[0],In=Nt[1];Tt.setRequestHeader($n,In)}),Tt.onload=function(){var Nt=Tt.status,$n=Tt.response,In=Tt.statusText;Nt>=200&&Nt<300||Nt===304?dt($n):St(new Error(Nt+": "+In))},Tt.onprogress=function(Nt){var $n=Nt||{},In=$n.total,ga=$n.loaded;ga===void 0||j.finished||(In?j.emit("progressUpdated",ga/In*100):ga&&!pt&&(pt=z(function(ya){j.finished||j.emit("progressUpdated",ya)})))},Tt.onerror=function(){St(new Error("xhr download "+Pe+" failed!"))},Tt.send(JSON.stringify(ze))})).then(function(dt){if(!j.finished){var St=j.xhrParams,Tt=St.encoding,Nt=St.blobType,$n=St.unZipOptions,In=St.beforeTransformData,ga=St.afterTransformData;pt==null||pt.finish(),j.finished=!0,j.clearTimeoutCheck(),(In?In(dt):Promise.resolve(dt)).then(function(ya){return W(ya,{encoding:Tt,blobType:Nt,unZipOptions:$n}).then(function(np){return(ga?ga(np):Promise.resolve(np)).then(function(ey){return j.emit("finished",ey)})})}).catch(function(ya){return j.emit("error",ya)})}}).catch(function(dt){j.finished||(j.finished=!0,j.clearTimeoutCheck(),pt==null||pt.abort(),j.emit("error",dt))})}else this.emit("error",new Error("xhrDownloader url params invalid!"))},G.prototype.abort=function(){this.data=null,this.finished=!0,this.clearTimeoutCheck(),this.controller.abort()},G}(J),ye=0;T.defaultMaxListeners=500;var Ee,se=new T,we="ThreadPoolReady",Oe=function(){ye-=1,se.emit(we)};(Ee=e.DownloaderType||(e.DownloaderType={})).XHR="xhr",Ee.DOM="dom",Ee.SOCKET="socket";var Ye=function(Q){function G(j){var ie=Q.call(this)||this;return ie.aborted=!1,ie.downloadParmas=a({type:e.DownloaderType.XHR},j),ie.id=h(),ie}return r(G,Q),G.prototype.start=function(){var j=this;ye+=1,this.progress=0,this.emit("downloadStart"),this.onDownloadStartCallback&&this.onDownloadStartCallback();var ie=this.downloadParmas,Se=ie.type,Ne=ie.xhrParams,Pe=ie.domParams,xe=ie.socketParams;switch(Se){case e.DownloaderType.DOM:this.downloader=new re(Pe),this.downloader.jsonp();break;case e.DownloaderType.SOCKET:this.downloader=new M(xe);break;default:this.downloader=new X(Ne),this.downloader.ajax()}return this.downloader.startTimeoutCheck(),this.downloader.on("error",function(ze){j.emit("error",ze),j.onErrorCallback&&j.onErrorCallback(ze),Oe()}).on("finished",function(ze){j.emit("complete",ze),j.onCompleteCallback&&j.onCompleteCallback(ze),Oe()}).on("progressUpdated",function(ze){j.progress=ze,j.emit("progressUpdated",ze),j.onProgressUpdatedCallback&&j.onProgressUpdatedCallback(ze)}).on("timeout",function(){j.emit("timeout"),j.onTimeoutCallback&&j.onTimeoutCallback(),Oe()}),this},G.prototype.abort=function(){if(this.aborted)return this;this.aborted=!0,this.downloader&&!this.downloader.finished&&this.downloader.abort();var j=new Error("file download has been aborted");return this.emit("abort",j),this.onAbortCallback&&this.onAbortCallback(j),Oe(),this},G.prototype.onDownloadStart=function(j){return this.onDownloadStartCallback=j,this},G.prototype.onProgressUpdated=function(j){return this.onProgressUpdatedCallback=j,this},G.prototype.onError=function(j){return this.onErrorCallback=j,this},G.prototype.onComplete=function(j){return this.onCompleteCallback=j,this},G.prototype.onAbort=function(j){return this.onAbortCallback=j,this},G.prototype.onTimeout=function(j){return this.onTimeoutCallback=j,this},G.prototype.isInProgress=function(){return this.progress!==void 0},G.prototype.isFinished=function(){return this.progress===100},G}(T),Le=function(){function Q(G){this.taskList=[],this.options=G||{};var j=this.options.threadLimit;if((j===void 0?6:j)>6)throw new Error("threadLimit must be lower than 6");se.on(we,this.startNextTask.bind(this))}return Q.prototype.download=function(G){var j=new Ye(G),ie=this.removeTask.bind(this,j);return j.on("abort",ie),this.taskList.push(j),this.checkTaskReady(j),j},Q.prototype.startNextTask=function(){var G=this.taskList.find(function(j){return!j.isInProgress()});G&&this.checkTaskReady(G)},Q.prototype.checkTaskReady=function(G){var j=this.options.threadLimit,ie=j===void 0?6:j;if(!(this.taskList.findIndex(function(Ne){return!Ne.isInProgress()})>=ie||ye+1>6)){var Se=this.removeTask.bind(this,G);G.on("complete",Se),G.on("error",Se),G.on("timeout",Se),setTimeout(function(){return G.start()},0)}},Q.prototype.removeTask=function(G){var j=this;this.taskList.some(function(ie,Se){return ie===G&&(setTimeout(function(){return G.removeAllListeners()},0),j.taskList.splice(Se,1),!0)})},Q}();e.DownloadTask=Ye,e.IDownloadManager=Le,e.appendBuffer=l,e.arrayBufferToBlob=S,e.arrayBufferToString=b,e.blobToArrayBuffer=g,e.blobToText=v,e.genUuid=h,e.getDataFormat=f,e.getExtName=A,e.getFileName=O,e.getFullPathName=w,e.isImgFile=I,e.isJsonFile=V,e.isVersionFile=U,e.monitorProgress=z,e.sep=d,e.stringToArrayBuffer=E,e.stringToBlob=_,e.transformData=W,Object.defineProperty(e,"__esModule",{value:!0})})(kS,PM(Object.freeze({__proto__:null,default:{}}))),hR(kS),function(e,t){var n=function(z,L){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,N){T.__proto__=N}||function(T,N){for(var F in N)N.hasOwnProperty(F)&&(T[F]=N[F])},n(z,L)};function r(z,L){function T(){this.constructor=z}n(z,L),z.prototype=L===null?Object.create(L):(T.prototype=L.prototype,new T)}var a=function(){return a=Object.assign||function(z){for(var L,T=1,N=arguments.length;T<N;T++)for(var F in L=arguments[T])Object.prototype.hasOwnProperty.call(L,F)&&(z[F]=L[F]);return z},a.apply(this,arguments)};function s(){}function l(){l.init.call(this)}function d(z){return z._maxListeners===void 0?l.defaultMaxListeners:z._maxListeners}function f(z,L,T,N){var F,P,D;if(typeof T!="function")throw new TypeError('"listener" argument must be a function');if((P=z._events)?(P.newListener&&(z.emit("newListener",L,T.listener?T.listener:T),P=z._events),D=P[L]):(P=z._events=new s,z._eventsCount=0),D){if(typeof D=="function"?D=P[L]=N?[T,D]:[D,T]:N?D.unshift(T):D.push(T),!D.warned&&(F=d(z))&&F>0&&D.length>F){D.warned=!0;var K=new Error("Possible EventEmitter memory leak detected. "+D.length+" "+L+" listeners added. Use emitter.setMaxListeners() to increase limit");K.name="MaxListenersExceededWarning",K.emitter=z,K.type=L,K.count=D.length,function(J){typeof console.warn=="function"?console.warn(J):console.log(J)}(K)}}else D=P[L]=T,++z._eventsCount;return z}function p(z,L,T){var N=!1;function F(){z.removeListener(L,F),N||(N=!0,T.apply(z,arguments))}return F.listener=T,F}function h(z){var L=this._events;if(L){var T=L[z];if(typeof T=="function")return 1;if(T)return T.length}return 0}function g(z,L){for(var T=new Array(L);L--;)T[L]=z[L];return T}s.prototype=Object.create(null),l.EventEmitter=l,l.usingDomains=!1,l.prototype.domain=void 0,l.prototype._events=void 0,l.prototype._maxListeners=void 0,l.defaultMaxListeners=10,l.init=function(){this.domain=null,l.usingDomains&&(void 0).active,this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=new s,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},l.prototype.setMaxListeners=function(z){if(typeof z!="number"||z<0||isNaN(z))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=z,this},l.prototype.getMaxListeners=function(){return d(this)},l.prototype.emit=function(z){var L,T,N,F,P,D,K,J=z==="error";if(D=this._events)J=J&&D.error==null;else if(!J)return!1;if(K=this.domain,J){if(L=arguments[1],!K){if(L instanceof Error)throw L;var re=new Error('Uncaught, unspecified "error" event. ('+L+")");throw re.context=L,re}return L||(L=new Error('Uncaught, unspecified "error" event')),L.domainEmitter=this,L.domain=K,L.domainThrown=!1,K.emit("error",L),!1}if(!(T=D[z]))return!1;var M=typeof T=="function";switch(N=arguments.length){case 1:(function(X,ye,Ee){if(ye)X.call(Ee);else for(var se=X.length,we=g(X,se),Oe=0;Oe<se;++Oe)we[Oe].call(Ee)})(T,M,this);break;case 2:(function(X,ye,Ee,se){if(ye)X.call(Ee,se);else for(var we=X.length,Oe=g(X,we),Ye=0;Ye<we;++Ye)Oe[Ye].call(Ee,se)})(T,M,this,arguments[1]);break;case 3:(function(X,ye,Ee,se,we){if(ye)X.call(Ee,se,we);else for(var Oe=X.length,Ye=g(X,Oe),Le=0;Le<Oe;++Le)Ye[Le].call(Ee,se,we)})(T,M,this,arguments[1],arguments[2]);break;case 4:(function(X,ye,Ee,se,we,Oe){if(ye)X.call(Ee,se,we,Oe);else for(var Ye=X.length,Le=g(X,Ye),Q=0;Q<Ye;++Q)Le[Q].call(Ee,se,we,Oe)})(T,M,this,arguments[1],arguments[2],arguments[3]);break;default:for(F=new Array(N-1),P=1;P<N;P++)F[P-1]=arguments[P];(function(X,ye,Ee,se){if(ye)X.apply(Ee,se);else for(var we=X.length,Oe=g(X,we),Ye=0;Ye<we;++Ye)Oe[Ye].apply(Ee,se)})(T,M,this,F)}return!0},l.prototype.addListener=function(z,L){return f(this,z,L,!1)},l.prototype.on=l.prototype.addListener,l.prototype.prependListener=function(z,L){return f(this,z,L,!0)},l.prototype.once=function(z,L){if(typeof L!="function")throw new TypeError('"listener" argument must be a function');return this.on(z,p(this,z,L)),this},l.prototype.prependOnceListener=function(z,L){if(typeof L!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(z,p(this,z,L)),this},l.prototype.removeListener=function(z,L){var T,N,F,P,D;if(typeof L!="function")throw new TypeError('"listener" argument must be a function');if(!(N=this._events))return this;if(!(T=N[z]))return this;if(T===L||T.listener&&T.listener===L)--this._eventsCount==0?this._events=new s:(delete N[z],N.removeListener&&this.emit("removeListener",z,T.listener||L));else if(typeof T!="function"){for(F=-1,P=T.length;P-- >0;)if(T[P]===L||T[P].listener&&T[P].listener===L){D=T[P].listener,F=P;break}if(F<0)return this;if(T.length===1){if(T[0]=void 0,--this._eventsCount==0)return this._events=new s,this;delete N[z]}else(function(K,J){for(var re=J,M=re+1,X=K.length;M<X;re+=1,M+=1)K[re]=K[M];K.pop()})(T,F);N.removeListener&&this.emit("removeListener",z,D||L)}return this},l.prototype.removeAllListeners=function(z){var L,T;if(!(T=this._events))return this;if(!T.removeListener)return arguments.length===0?(this._events=new s,this._eventsCount=0):T[z]&&(--this._eventsCount==0?this._events=new s:delete T[z]),this;if(arguments.length===0){for(var N,F=Object.keys(T),P=0;P<F.length;++P)(N=F[P])!=="removeListener"&&this.removeAllListeners(N);return this.removeAllListeners("removeListener"),this._events=new s,this._eventsCount=0,this}if(typeof(L=T[z])=="function")this.removeListener(z,L);else if(L)do this.removeListener(z,L[L.length-1]);while(L[0]);return this},l.prototype.listeners=function(z){var L,T=this._events;return T&&(L=T[z])?typeof L=="function"?[L.listener||L]:function(N){for(var F=new Array(N.length),P=0;P<F.length;++P)F[P]=N[P].listener||N[P];return F}(L):[]},l.listenerCount=function(z,L){return typeof z.listenerCount=="function"?z.listenerCount(L):h.call(z,L)},l.prototype.listenerCount=h,l.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};var v="ZipInfo:";function S(z){var L;return(L=z==null?void 0:z.path)===null||L===void 0?void 0:L.startsWith(v)}function b(z){return typeof z=="string"&&z.startsWith(v)}function _(z,L){return(Array.isArray(z)?z:[z]).some(function(T){if(typeof T.version!="number")throw new Error("file version must be an int number");return T.version<L})}function E(z,L){return z.reduce(function(T,N){return T.then(function(F){return L(F,N)}).catch(function(){return L(void 0,N)})},Promise.resolve(void 0))}var A,w=function(z){function L(){return z!==null&&z.apply(this,arguments)||this}return r(L,z),L}(l),O="resource",I=function(z){function L(T){var N=z.call(this)||this;if(N.ready=!1,N.openError=!1,N.isEnable()){var F=T||{},P=F.nameSpaceId,D=F.indexDbVersion;N.dbName=function(J){return"resource-manager"+(J?"-"+J:"")}(P);var K=indexedDB.open(N.dbName,D||1);K.addEventListener("error",function(){N.openError=!0,N.checkReady(),N.emit("error",new Error("failed to open indexedDB"))}),K.addEventListener("success",function(){N.db=K.result,N.checkReady()}),K.addEventListener("upgradeneeded",function(){N.db=K.result,N.handleSuccess()}),setTimeout(function(){N.checkReady()},5e3)}else N.checkReady();return N}return r(L,z),L.prototype.checkReady=function(){this.ready||(this.ready=!0,this.emit("ready"))},L.prototype.handleSuccess=function(){if(!this.db.objectStoreNames||this.db.objectStoreNames.length===0||!this.db.objectStoreNames.contains(O)){var T=this.db.createObjectStore(O,{keyPath:"path",autoIncrement:!1});T.createIndex("path","path"),T.createIndex("sourceURL","sourceURL",{unique:!1})}},L.prototype.createAction=function(T){var N=this.db.transaction([O],T||"readonly");return{trans:N,store:N.objectStore(O)}},L.prototype.handleAction=function(T,N){return new Promise(function(F,P){var D=N();T.addEventListener("complete",function(){F(D.result)}),T.addEventListener("error",function(){P(T.error||new Error("transaction error"))}),T.addEventListener("abort",function(){P(T.error||new Error("transaction aborted"))})})},L.prototype.put=function(){for(var T=[],N=0;N<arguments.length;N++)T[N]=arguments[N];var F=this.createAction("readwrite"),P=F.trans,D=F.store;return this.handleAction(P,function(){return D.put.apply(D,T)})},L.prototype.getAllKeysFromIndex=function(T){for(var N=[],F=1;F<arguments.length;F++)N[F-1]=arguments[F];if(IDBObjectStore.prototype.getAllKeys){var P=this.createAction(),D=P.trans,K=P.store;return this.handleAction(D,function(){var J;return(J=K.index(T)).getAllKeys.apply(J,N)})}return this.openKeyCursor(T)},L.prototype.getAllFromIndex=function(T){for(var N=[],F=1;F<arguments.length;F++)N[F-1]=arguments[F];var P=this.createAction(),D=P.trans,K=P.store;return IDBObjectStore.prototype.getAll?this.handleAction(D,function(){var J;return(J=K.index(T)).getAll.apply(J,N)}):this.openCursor(T)},L.prototype.getFromIndex=function(T){for(var N=[],F=1;F<arguments.length;F++)N[F-1]=arguments[F];var P=this.createAction(),D=P.trans,K=P.store;return this.handleAction(D,function(){var J;return(J=K.index(T)).get.apply(J,N)})},L.prototype.deleteKey=function(){for(var T=[],N=0;N<arguments.length;N++)T[N]=arguments[N];var F=this.createAction("readwrite"),P=F.trans,D=F.store;return this.handleAction(P,function(){return D.delete.apply(D,T)})},L.prototype.handleCursorAction=function(T,N,F,P){return new Promise(function(D,K){N.addEventListener("success",function(){N.result?(F(P,N.result),N.result.continue()):D(P)}),N.addEventListener("error",function(){K(T.error||new Error("transaction error"))})})},L.prototype.openKeyCursor=function(T){for(var N,F=[],P=1;P<arguments.length;P++)F[P-1]=arguments[P];var D=this.createAction("readwrite"),K=D.trans,J=D.store;return this.handleCursorAction(K,(N=J.index(T)).openKeyCursor.apply(N,F),function(re,M){return re.push(M.key),re},[])},L.prototype.openCursor=function(T){for(var N,F=[],P=1;P<arguments.length;P++)F[P-1]=arguments[P];var D=this.createAction("readwrite"),K=D.trans,J=D.store;return this.handleCursorAction(K,(N=J.index(T)).openCursor.apply(N,F),function(re,M){return re.push(M.value),re},[])},L.prototype.isEnable=function(){return!!window.indexedDB&&!this.openError},L.prototype.saveFile=function(T){return this.db?this.put(T).then(function(){return!0}):Promise.resolve(!1)},L.prototype.removeFile=function(T){var N=this;return this.db?typeof T=="string"?this.getAllKeysFromIndex("path").then(function(F){var P=(F||[]).filter(function(D){return D===T||D.startsWith(""+T+t.sep)});return Promise.all(P.map(function(D){return N.deleteKey(D)}))}).then(function(){return!0}):this.deleteKey(T.path).then(function(){return!0}):Promise.resolve(!1)},L.prototype.clear=function(){if(!this.db)return Promise.resolve(!1);var T=this.createAction("readwrite"),N=T.trans,F=T.store;return this.handleAction(N,function(){return F.clear()}).then(function(){return!0})},L.prototype.findFileByPath=function(T){return this.db&&T?this.getFromIndex("path",T):Promise.resolve(void 0)},L.prototype.findFileBySourceURL=function(T){return this.db&&T?this.getAllFromIndex("sourceURL",T):Promise.resolve([])},L.prototype.isDirectory=function(T){var N=this;return this.db?new Promise(function(F){b(T)?F(!1):N.getAllKeysFromIndex("path").then(function(P){return(P||[]).some(function(D){return D.startsWith(""+T+t.sep)})}).then(F).catch(function(){return F(!1)})}):Promise.resolve(!1)},L.prototype.ls=function(T){var N=this;return this.db?this.getAllKeysFromIndex("path").then(function(F){var P=[];return Promise.all((F||[]).map(function(D){if(b(D))return Promise.resolve(void 0);if(T){if(D.startsWith(""+T+t.sep)){var K=D.split(""+T+t.sep)[1]||"";if(K.includes(t.sep)){var J=""+T+t.sep+K.split(t.sep)[0];return J&&!P.includes(J)?(P.push(J),Promise.resolve(J)):Promise.resolve(void 0)}return N.getFromIndex("path",D)}return Promise.resolve(void 0)}if(D.includes(t.sep)){var re=D.split(t.sep)[0]||"";return re&&!P.includes(re)?(P.push(re),Promise.resolve(re)):Promise.resolve(void 0)}return N.getFromIndex("path",D)})).then(function(D){return D.filter(function(K){return!!K})})}):Promise.resolve([])},L}(w),V=function(z){function L(){var T=z!==null&&z.apply(this,arguments)||this;return T.memoryFiles=[],T}return r(L,z),L.prototype.isEnable=function(){return!0},L.prototype.saveFile=function(T){var N=this;return new Promise(function(F){N.memoryFiles.some(function(P,D){return P.path===T.path&&(N.memoryFiles.splice(D,1,T),!0)})||N.memoryFiles.push(T),F(!0)})},L.prototype.removeFile=function(T){var N=this;return new Promise(function(F){for(var P=N.memoryFiles.length-1;P>=0;P--){var D=N.memoryFiles[P];(typeof T=="string"&&(D.path===T||D.path.startsWith(""+T+t.sep))||T.path===D.path)&&N.memoryFiles.splice(P,1)}F(!0)})},L.prototype.clear=function(){var T=this;return new Promise(function(N){T.memoryFiles=[],N(!0)})},L.prototype.findFileByPath=function(T){var N=this;return new Promise(function(F){F(N.memoryFiles.filter(function(P){return P.path===T})[0])})},L.prototype.findFileBySourceURL=function(T){var N=this;return new Promise(function(F){F(N.memoryFiles.filter(function(P){return P.sourceURL===T}))})},L.prototype.isDirectory=function(T){var N=this;return new Promise(function(F){b(T)?F(!1):F(N.memoryFiles.some(function(P){return P.path.startsWith(""+T+t.sep)}))})},L.prototype.ls=function(T){var N=this;return new Promise(function(F){var P=[];N.memoryFiles.forEach(function(D){if(!S(D))if(T){if(D.path.startsWith(""+T+t.sep)){var K=D.path.split(""+T+t.sep)[1]||"";if(K.includes(t.sep)){var J=""+T+t.sep+K.split(t.sep)[0];return void(J&&!P.includes(J)&&P.push(J))}P.push(D)}}else if(D.path.includes(t.sep)){var re=D.path.split(t.sep)[0]||"";re&&!P.includes(re)&&P.push(re)}else P.push(D)}),F(P)})},L}(w),U=function(z){function L(T){var N=z.call(this)||this;if(N.isLocalAvaliable=void 0,N.isEnable()){var F=(T||{}).nameSpaceId;N.storageName=function(P){return"resource-manager"+(P?"-"+P:"")}(F)}return N}return r(L,z),L.prototype.isEnable=function(){if(this.isLocalAvaliable!==void 0)return this.isLocalAvaliable;try{this.isLocalAvaliable=!0,localStorage.setItem("privateTest","")}catch{this.isLocalAvaliable=!1}return this.isLocalAvaliable},L.prototype.saveFile=function(T){var N=this;return this.isEnable()?new Promise(function(F){var P=N.getLocalFile();P.some(function(D,K){return D.path===T.path&&(P.splice(K,1,T),!0)})||P.push(T),localStorage.setItem(N.storageName,JSON.stringify(P)),F(!0)}):Promise.resolve(!1)},L.prototype.getLocalFile=function(){var T=localStorage.getItem(this.storageName),N=[];if(T)try{N=JSON.parse(T)||"[]"}catch(F){console.log(F)}return N},L.prototype.removeFile=function(T){var N=this;return this.isEnable()?new Promise(function(F){for(var P=N.getLocalFile(),D=P.length-1;D>=0;D--){var K=P[D];(typeof T=="string"&&(K.path===T||K.path.startsWith(""+T+t.sep))||T.path===K.path)&&P.splice(D,1)}localStorage.setItem(N.storageName,JSON.stringify(P)),F(!0)}):Promise.resolve(!1)},L.prototype.clear=function(){var T=this;return this.isEnable()?new Promise(function(N){localStorage.removeItem(T.storageName),N(!0)}):Promise.resolve(!1)},L.prototype.findFileByPath=function(T){var N=this;return this.isEnable()?new Promise(function(F){F(N.getLocalFile().filter(function(P){return P.path===T})[0])}):Promise.resolve(void 0)},L.prototype.findFileBySourceURL=function(T){var N=this;return this.isEnable()?new Promise(function(F){F(N.getLocalFile().filter(function(P){return P.sourceURL===T}))}):Promise.resolve([])},L.prototype.isDirectory=function(T){var N=this;return this.isEnable()?new Promise(function(F){b(T)?F(!1):F(N.getLocalFile().some(function(P){return P.path.startsWith(""+T+t.sep)}))}):Promise.resolve(!1)},L.prototype.ls=function(T){var N=this;return this.isEnable()?new Promise(function(F){var P=[];N.getLocalFile().forEach(function(D){if(!S(D))if(T){if(D.path.startsWith(""+T+t.sep)){var K=D.path.split(""+T+t.sep)[1]||"";if(K.includes(t.sep)){var J=""+T+t.sep+K.split(t.sep)[0];return void(J&&!P.includes(J)&&P.push(J))}P.push(D)}}else if(D.path.includes(t.sep)){var re=D.path.split(t.sep)[0]||"";re&&!P.includes(re)&&P.push(re)}else P.push(D)}),F(P)}):Promise.resolve([])},L}(w);(A=e.FileStoreEnum||(e.FileStoreEnum={})).MEMORY="memoryStore",A.INDEX_DB="indexedDBStore",A.STORAGE="storageStore";var x=function(z){function L(T){var N=z.call(this)||this;return N.indexedDBStore=new I(T),N.memoryStore=new V,N.storageStore=new U(T),N}return r(L,z),L.prototype.saveFile=function(T,N,F){var P=this;N===void 0&&(N=!0);var D=(F||{}).forceSpecifyStore;return(N?this.findFileByPath(T.path,F):Promise.resolve(void 0)).then(function(K){if(K!=null&&K.version&&_(T,K.version))throw new Error("there is an higher version file existed already");var J=a(a({},T),{createTime:K&&K.createTime||Date.now(),updateTime:Date.now()});return D&&P[D]&&P[D].isEnable()&&(D!==e.FileStoreEnum.STORAGE||P.isLocalStorageAvaliable(J))?P[D].saveFile(J):P[P.saveToTargetStoreRule(J)].saveFile(J)})},L.prototype.isLocalStorageAvaliable=function(T){var N=T.data;return t.getDataFormat(N)==="string"&&N.length<=102400&&this.storageStore.isEnable()},L.prototype.saveToTargetStoreRule=function(T){return this.indexedDBStore.isEnable()?e.FileStoreEnum.INDEX_DB:this.isLocalStorageAvaliable(T)?e.FileStoreEnum.STORAGE:e.FileStoreEnum.MEMORY},L.prototype.removeFile=function(T,N){var F=(N||{}).forceSpecifyStore;return F&&this[F]?this[F].removeFile(T):Promise.all([this.indexedDBStore.removeFile(T),this.storageStore.removeFile(T),this.memoryStore.removeFile(T)]).then(function(){return!0})},L.prototype.clear=function(T){var N=(T||{}).forceSpecifyStore;return N&&this[N]?this[N].clear():Promise.all([this.indexedDBStore.clear(),this.storageStore.clear(),this.memoryStore.clear()]).then(function(){return!0})},L.prototype.findFileByPath=function(T,N){var F=this,P=(N||{}).forceSpecifyStore;return P&&this[P]?this[P].findFileByPath(T):E(this.searchInTargetStoreRule(),function(D,K){return D?Promise.resolve(D):F[K].findFileByPath(T)})},L.prototype.findFileBySourceURL=function(T,N){var F=this,P=(N||{}).forceSpecifyStore;return P&&this[P]?this[P].findFileBySourceURL(T):E(this.searchInTargetStoreRule(),function(D,K){return F[K].findFileBySourceURL(T).then(function(J){return D?D.filter(function(re){return!J.some(function(M){return M.path===re.path})}).concat(J||[]):J||[]})})},L.prototype.searchInTargetStoreRule=function(){return[e.FileStoreEnum.INDEX_DB,e.FileStoreEnum.STORAGE,e.FileStoreEnum.MEMORY]},L.prototype.isDirectory=function(T){var N=this;return T?E(this.searchInTargetStoreRule(),function(F,P){return F?Promise.resolve(!0):N[P].isDirectory(T)}):Promise.resolve(!0)},L.prototype.ls=function(T){var N=this;return this.isDirectory(T).then(function(F){if(!F)throw new Error("path: "+T+" is an invalid directory path");return E(N.searchInTargetStoreRule(),function(P,D){return N[D].ls(T).then(function(K){return P?(K||[]).concat(P.filter(function(J){return!K.some(function(re){return typeof J=="string"?re===J:typeof re!="string"&&re.path===J.path})})):K})})})},L}(l),$=function(z){function L(){return z!==null&&z.apply(this,arguments)||this}return r(L,z),L}(l),W=function(z){function L(T){var N=z.call(this)||this,F=T||{},P=F.storeOptions,D=F.downloadManagerOptions;return N.downloadManager=new t.IDownloadManager(D),N.store=new x(P),N.store.indexedDBStore.on("ready",function(){return N.emit("ready")}),N}return r(L,z),L.prototype.getFile=function(T,N,F){var P=this,D=new $,K=Promise.resolve(void 0),J=N||{},re=J.downloadOptions,M=J.forceDownload,X=J.saveRootPath;M?K=Promise.resolve(void 0):typeof T=="string"?K=this.store.findFileByPath(T,F):T!=null&&T.sourceURL?K=this.store.findFileBySourceURL(T.sourceURL):re&&(re.domParams||re.socketParams||re.xhrParams)&&(K=this.store.findFileBySourceURL(this.genSourceURL(re)));var ye=null,Ee=new Promise(function(se){ye=se});return D.getDownloadTask=function(){return Ee},K=K.then(function(se){if(se&&(!Array.isArray(se)||se.length)){var we=se;if(Array.isArray(we)){var Oe=we.find(function(Le){return S(Le)});if(!Oe)return;we=we.filter(function(Le){return!S(Le)});var Ye=Oe.data;if(typeof Ye!="string"||!JSON.parse(Ye||"[]").every(function(Le){return we.some(function(Q){return Q.path===Le})}))return}if(!(F!=null&&F.targetVersion)||!_(we,F.targetVersion))return D.emit("checkExpire",!1),we;D.emit("checkExpire",!0)}}).then(function(se){if(!se&&re){var we=P.downloadManager.download(re);return ye(we),new Promise(function(Oe,Ye){we.on("complete",function(Le){setTimeout(function(){var Q=Array.isArray(Le)?Le.map(function(j){var ie=j.data,Se=j.path,Ne=j.extName;return{path:P.genFilePath(X,Se),sourceURL:P.genSourceURL(re),data:ie,fileFormat:Ne||P.getFileFormat(re),version:(F==null?void 0:F.targetVersion)||1}}):{path:P.genFilePath(X,void 0),sourceURL:P.genSourceURL(re),data:Le,fileFormat:P.getFileFormat(re),version:(F==null?void 0:F.targetVersion)||1};if(Array.isArray(Q)&&typeof T=="string"&&T){var G=Q.find(function(j){return j.path===T});Oe(G||Q)}else Oe(Q);D.emit("beforeSet",Q),P.beforeWrite(Q,F).then(function(){D.emit("afterSet")}).catch(function(j){return D.emit("afterSet",j)})},0)}),we.on("abort",Ye),we.on("error",Ye),we.on("timeout",function(){return Ye(new Error("download timeout"))})})}return ye(void 0),se}).catch(function(se){return ye(void 0),Promise.reject(se)}),D.getResult=function(){return K},D},L.prototype.genSourceURL=function(T){var N=T.domParams,F=T.type,P=T.xhrParams;if(F===t.DownloaderType.SOCKET)return null;var D=(F===t.DownloaderType.DOM?N:P)||{},K=D.url,J=K===void 0?"":K,re=D.body;return re&&Object.keys(re).length?J+(J.includes("?")?"&":"?")+"downloadBodyParams="+JSON.stringify(re):J},L.prototype.updateFile=function(T,N){return this.saveStore(T,!0,N)},L.prototype.beforeWrite=function(T,N){var F=this;return Array.isArray(T)?Promise.all(T.concat(function(P){var D=P[0].sourceURL||"";return{path:""+v+D,sourceURL:D,data:JSON.stringify(P.map(function(K){return K.path}))}}(T)).map(function(P){return F.saveStore(P,!1,N)})).then(function(P){return P.filter(function(D){return!S(D)})}):this.saveStore(T,!0,N)},L.prototype.getFileFormat=function(T){var N=T||{},F=N.xhrParams,P=N.domParams,D=N.socketParams,K=N.type;return K===t.DownloaderType.DOM&&(P!=null&&P.fileFormat)?P.fileFormat:K===t.DownloaderType.SOCKET&&(D!=null&&D.fileFormat)?D.fileFormat:F!=null&&F.fileFormat?F.fileFormat:"unknow"},L.prototype.genFilePath=function(T,N){return N?""+(T||"")+(T?t.sep:"")+N:T||""},L.prototype.saveStore=function(T,N,F){return N===void 0&&(N=!0),this.store.saveFile(T,N,F).then(function(P){if(P)return T;throw new Error("fail to save file in local store")})},L.prototype.remove=function(T,N){return this.store.removeFile(T,N)},L.prototype.clear=function(T){return this.store.clear(T)},L.prototype.list=function(T){return this.store.ls(T)},L.prototype.updateVersion=function(T,N){var F=this;return this.store.findFileByPath(T).then(function(P){if(P)return F.saveStore(a(a({},P),{version:N})).then(function(){});throw new Error("the target path: "+T+" isn't existed")})},L.prototype.updateSourceURL=function(T,N){var F=this;return this.store.findFileByPath(T).then(function(P){if(P)return F.saveStore(a(a({},P),{sourceURL:N})).then(function(){});throw new Error("the target path: "+T+" isn't existed")})},L}(l);e.IResourceManager=W,Object.defineProperty(e,"__esModule",{value:!0})}(sE.exports,kS),hR(sE.exports);class sU{constructor(t){this._cancelError=new Error("request for lock canceled"),this._locked=void 0,this._queue=[],this._waiters=[],this._currentReleaser=void 0,t&&(this._cancelError=t),this._locked=!1}acquire(){const t=this.isLocked(),n=new Promise((r,a)=>this._queue.push({resolve:r,reject:a}));return t||this._dispatch(),n}async runExclusive(t){const n=await this.acquire();try{return await t()}finally{n()}}async waitForUnlock(){return this.isLocked()?new Promise(t=>this._waiters.push({resolve:t})):Promise.resolve()}isLocked(){return this._locked}release(){if(this._currentReleaser){const t=this._currentReleaser;this._currentReleaser=void 0,t()}}cancel(){this._queue.forEach(t=>t.reject(this._cancelError)),this._queue=[]}_dispatch(){const t=this._queue.shift();if(!t)return;let n=!1;this._currentReleaser=()=>{n||(n=!0,this._locked=!1,this._resolveWaiters(),this._dispatch())},this._locked=!0,t.resolve(this._currentReleaser)}_resolveWaiters(){this._waiters.forEach(t=>t.resolve()),this._waiters=[]}}function FA(e,t,n){const r=document.createElement("script");r.type="text/javascript",r.readyState?r.onreadystatechange=()=>{r.readyState!=="loaded"&&r.readyState!=="complete"||(r.onreadystatechange=null,t())}:(r.onload=()=>{t()},r.onerror=()=>{n()}),r.src=e,window.crossOriginIsolated&&(r.crossOrigin="anonymous"),typeof document.body.append=="function"?document.getElementsByTagName("head")[0].append(r):document.getElementsByTagName("head")[0].appendChild(r)}function uU(e,t){let n=e;/^https?:\/\//.test(n)||(n=`https://${e}`);try{const r=new URL(n);if(!t)return r.href;if(t.hostname)return r.hostname;if(t.path)return r.pathname}catch{return""}return""}function Nf(e){if(e){var t;const n=document.getElementById(e);n==null||(t=n.parentNode)===null||t===void 0||t.removeChild(n)}}let Lf="zoom.us";const Qg="3.5.0",dm=`https://dmogdx0jrul3u.cloudfront.net/${Qg}/lib/av`,su=`https://source.zoom.us/${Qg}/lib/av`,cm=`https://jssdk.zoomus.cn/${Qg}/lib/av`,tr=(e,t,n)=>Hg([t,n].map((r,a)=>{if(r!=="initial")return ve([r==="success"]);{const s=a===0?"ENCODE":"DECODE";return Ri(It(`${e.toUpperCase()}_${s}_SUCCESS`,1).pipe(Ae(()=>!0)),It(`${e.toUpperCase()}_${s}_FAIL`,1).pipe(Ae(()=>!1)))}})),Mu=e=>{const t=Ve(e.value);return t?yt(t):It(Qf,1).pipe(Sr(qf),Ie(e),Ae(n=>{let[,r]=n;return Ve(r)}))};function QR(e,t){var n,r;const a=e==="audio"?(n=t.audio)===null||n===void 0?void 0:n.audioSsrc:(r=t.video)===null||r===void 0?void 0:r.videoSsrc,s=e==="audio"?RN:hN;return e==="audio"&&Vr()||a?Promise.resolve():Ge(s)}const uE=()=>ve(navigator.mediaDevices.enumerateDevices()).pipe(Ae(e=>{const t=[],n=[],r=[];return e.forEach(a=>{const{kind:s,deviceId:l,label:d}=a,f=d.replace(/\([\w,\d]+:[\w,\d]+\)/i,"").trim();switch(s){case"audioinput":l==="communications"||/ZoomAudioDevice/i.test(f)||/Zoom-\S*/.test(f)||/CubebAggregateDevice\S*/.test(f)||/Microsoft Teams Audio/i.test(f)||t.push({deviceId:l,label:f});break;case"audiooutput":l==="communications"||/ZoomAudioDevice/i.test(f)||/Microsoft Teams Audio/i.test(f)||n.push({deviceId:l,label:f});break;case"videoinput":r.push({deviceId:l,label:f})}}),{microphones:t,speakers:n,cameras:r}}));function lE(e){const{x:t,y:n,width:r,height:a}=e.getBoundingClientRect();return{scaleWidth:r,scaleHeight:a,srcOffsetX:t,srcOffsetY:n}}function fm(e){if(e){let n=e;try{const r=e.width;e.width=r}catch{var t;n=e.cloneNode(!0),(t=e.parentNode)===null||t===void 0||t.replaceChild(n,e)}return n}return e}function dE(){try{return typeof MessageChannel<"u"&&new MessageChannel().port1.postMessage(new SharedArrayBuffer(1)),WebAssembly.validate(Qx)}catch{return!1}}function bh(){var e;return(e=WebAssembly)===null||e===void 0?void 0:e.validate(Zx)}const lU=(()=>{const e=new sU;return{withAudioAction:t=>function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return new Promise(async(s,l)=>{let d=!1;const f=setTimeout(()=>{d=!0,e.release()},3e4);try{await e.acquire(),d||clearTimeout(f),s(t(...r))}catch(p){d||(clearTimeout(f),l(p))}})},processAudioAction:t=>e.acquire().then(()=>t()),completeAudioAction:()=>{e.release()},cancelAllAudioAction:()=>{e.cancel()}}})();function GA(e){const t=["joinComputerAudio","joinSharingAudio","leaveComputerAudio","leaveSharingAudio"];return new Proxy(e,{get:(n,r)=>typeof r=="string"&&t.includes(r)?function(){return lU.withAudioAction(n[r].bind(n))(...arguments)}:Reflect.get(n,r)})}function cE(e){var t;const{browserVersion:n,isChrome:r,isFirefox:a,isAndroidBrowser:s,isSupportMediaStreamTrackProcessor:l,isSupportOffscreenCanvas:d}=Me,f=Number(n==null||(t=n.match(/^\d+/))===null||t===void 0?void 0:t[0]),p=r&&f>=91,h=a&&f>=89,g=navigator.hardwareConcurrency>2;let v=Gg();return e&&!v&&(v=d&&l),!s&&v&&(p||h)&&g}const NS=(e,t)=>{const n=document.createElement("link");return n.rel="preload",n.href=e,n.as=t,n.crossOrigin="anonymous",n},Hs=(e,t,n)=>{const r=[],a=[],s=Array.isArray(e)?e:[e];return Fk.filter(l=>{var d;return s.includes(l.category)&&(l.tag===t||((d=l.tag)===null||d===void 0?void 0:d.split(",").includes(t)))}).forEach(l=>{l.type==="worker"?r.push(`${n}${l.name}`):l.type==="wasm"&&a.push(`${n}${l.name}`)}),{workers:r,wasms:a}};function dU(e,t,n){const r={};if(typeof window.SharedArrayBuffer!="function"){const{isIOSMobile:a,isSafari:s,isSupportOffscreenCanvas:l,isSupportMediaStreamTrackProcessor:d}=Me;Object.assign(r,{enableMultiDecodeVideoWithoutSAB:!!t&&(a||s||l&&d)}),l&&d&&Object.assign(r,{enableVirtualBackgroundWithoutSAB:!!n})}return cE(n)&&Object.assign(r,{resourceManager:sE.exports.IResourceManager,file:[{path:`${e}/vb-resource/dualModel.bin`,type:"bin"},{path:`${e}/vb-resource/tf.min.js`,type:"js"}]}),r}function cU(e,t){const{media:{isAudioBridgeReceiveReady:n,isAudioBridgeSendReady:r},audio:{customizeAudioOption:a}}=e,s=t!==void 0?t:!(a==null||!a.speakerOnly);return Hg([n?ve([!0]):It(eL,1).pipe(Lr(!0)),r||s?ve([!0]):It(tL,1).pipe(Lr(!0))])}function ZR(e,t,n){if(e.deviceId===t)return!0;if(t==="default"){const r=n.find(a=>a.deviceId===t);if(r)return r.label.indexOf(e.label)>-1}return!1}function Dc(e){return e.find(t=>t.deviceId==="default")}const fE=(()=>{let e,t=!1;return{watch:function(n){t=!0,e=n,Promise.race([e,rA(()=>!0,1e4)]).then(()=>{e=void 0,t=!1}).finally(()=>{e=void 0,t=!1})},acquire:function(){return t&&e?e:Promise.resolve()}}})(),Hl=function(e){let t=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const{socket:{zoomSocketStatus:n,xmppSocketStatus:r,mainSessionSocketStatus:a},meeting:{meetingStatus:s}}=e,l=[];if(s===Xt.Joined){var d;const f=qe.getInstance(),p=at.createAgent();if(((d=Ve(e))===null||d===void 0?void 0:d.audio)===bt.Computer&&f.leaveComputerAudio(),f.disconnect(),fE.watch(f.destroy()),e.video&&(e.video.subscribedVideoList.length>0&&e.video.subscribedVideoList.forEach(h=>{p.unsubscribeVideo(h)}),e.video.isCurrentUserStartedVideo&&k(bu)),e.share&&e.share.isReceiveSharing){const h=e.share.activeNodeId;e.share.remoteControlledUserList.length>0&&e.share.remoteControlledUserList.forEach(g=>{p.sharingRequestRemoteControl(g,!1)}),p.unsubscribeSharing(h)}}if(t||(Je.clearSession(),[Ct.WebclientTk,Ct.WebclientZsk,Ct.WebclientZtk,Ct.WebclientRecordingToken].forEach(f=>{sessionStorage.removeItem(f)}),Rn.destroy()),n!==Ot.Closed&&l.push(wo()),r!==Ot.Closed&&l.push(HM()),a!==Ot.Closed&&l.push(FM()),t){const f=Ve(e);l.push(Jb({audio:f==null?void 0:f.audio,muted:f==null?void 0:f.muted,video:f==null?void 0:f.bVideoOn,isFailover:t}))}else l.push(Jb({audio:!1,muted:void 0,video:!1,isFailover:t}));return l.push($M(),ek(),cL(),ML(t),YL(),iP(t),vH(),SP(),zP(),SH(),DP(),$P(),bH(),nU(t),_H(),iU(t),aU(t),uA(Xt.Closed)),l},_h=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Ge({event:Oo,operations:[Ae(a=>a.find(s=>s.userId===e)),oe(a=>!!a),ut(1)]},...n)},EH={[`${pu.AudioBridgeEnable}`]:{mask:240,action:Mk},[`${pu.AudioDecodeInWorklet}`]:{mask:15,action:QM},[`${pu.VideoFullHD}`]:{mask:15,action:gP},[`${pu.VideoShareFullHD}`]:{mask:15,action:JL}};function ku(e){return Ou(Ae((t,n)=>e(t,n)),oe(t=>t!=null))}function fU(e){return Ou(ue((t,n)=>e(t,n)||_e))}function hs(e){return Ou(ue((t,n)=>e(t,n)),ue(t=>Array.isArray(t)?ve(t):yt(t)))}const AH={period:500,rules:[{peak:50,throttle:300},{peak:60,throttle:400}]},LS={[`${Pt}`]:()=>({payloads:{add:[],update:[],remove:[]},onThrottle(e){e.add&&this.payloads.add.push(...e.add),e.update&&this.payloads.update.push(...e.update),e.remove&&this.payloads.remove.push(...e.remove)}})};function pU(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:AH;return t=>new on(n=>{const r=new Map;let a=0,s=null;const{period:l,rules:d}=e;let f=null;s||(s=((g,v)=>{const S=performance.now();let b=0,_=!1;return setTimeout(function E(){b+=v,g();const A=performance.now()-S-b,w=setTimeout(E,Math.max(v-A,0));_&&clearTimeout(w)},v),()=>{_=!0}})(()=>{a=0},l));const p=Object.keys(LS),h=t.subscribe({next(g){if(g&&g.evt&&s!==null){a+=1;const{evt:v,body:S}=g,b=String(v);if(p.indexOf(b)>=0)if(f){const _=r.get(b);if(_)_.onThrottle(S);else{const E=LS[b]();E.onThrottle(S),r.set(b,E)}}else{let _=0;if(d.forEach(E=>{a>E.peak&&(_=E.throttle)}),_>0){const E=LS[b]();E.onThrottle(S),r.set(b,E),f=setTimeout(()=>{r.forEach((A,w)=>{const O={evt:Number(w),body:A.payloads};n.next(O)}),r.clear(),f=null},_)}else n.next(g)}else n.next(g)}else n.next(g)},error(g){n.error(g)},complete(){n.complete()}});return()=>{h.unsubscribe(),s&&(s(),s=null),a=0}})}let JR=function(e){return e[e.Unknown=0]="Unknown",e[e.Windows=1]="Windows",e[e.Mac=2]="Mac",e[e.Pad=3]="Pad",e[e.Mobile=4]="Mobile",e[e.CallIn=5]="CallIn",e[e.Linux=6]="Linux",e[e.WebClient=7]="WebClient",e[e.ChromeOs=8]="ChromeOs",e}({});const YR=262144,XR=1048576,Eh=e=>(e&XR)===XR,hU=e=>{let{share:{isReceiveSharing:t}}=e;return t},mU=e=>{let{share:{activeNodeId:t}}=e;return t},CH=en([kt,hU,mU],function(){let e=arguments.length>2?arguments[2]:void 0;if(arguments.length>1&&arguments[1]){const t=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).find(n=>n.userId===e&&n.sharerOn===!0);if(t){let{os:n}=t;const{pwaOS:r}=t;return r==="mac"?n=JR.Mac:r==="win"&&(n=JR.Windows),{...t,os:n}}}return null}),mu=en([kt],e=>e.filter(t=>t.sharerOn)),gU=en([mu],e=>e.some(t=>!!t.bVideoShare)),tu=en([e=>{let{share:{remoteControlledUserList:t}}=e;return t},hU,mU],(e,t,n)=>!!t&&e.some(r=>Nr(r,n)));var PS,wH=new Uint8Array(16);function OH(){if(!PS&&!(PS=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return PS(wH)}for(var Un,$t,vg,_o,TH=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Xn=[],US=0;US<256;++US)Xn.push((US+256).toString(16).substr(1));function yU(e,t,n){var r=(e=e||{}).random||(e.rng||OH)();return r[6]=15&r[6]|64,r[8]=63&r[8]|128,function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=(Xn[a[s+0]]+Xn[a[s+1]]+Xn[a[s+2]]+Xn[a[s+3]]+"-"+Xn[a[s+4]]+Xn[a[s+5]]+"-"+Xn[a[s+6]]+Xn[a[s+7]]+"-"+Xn[a[s+8]]+Xn[a[s+9]]+"-"+Xn[a[s+10]]+Xn[a[s+11]]+Xn[a[s+12]]+Xn[a[s+13]]+Xn[a[s+14]]+Xn[a[s+15]]).toLowerCase();if(!function(d){return typeof d=="string"&&TH.test(d)}(l))throw TypeError("Stringified UUID is invalid");return l}(r)}(function(e){e[e.PLAIN=0]="PLAIN",e[e.RSA=1]="RSA",e[e.AESGCM256=2]="AESGCM256"})(Un||(Un={})),function(e){e[e.info=0]="info",e[e.debug=1]="debug",e[e.log=2]="log",e[e.warn=3]="warn",e[e.error=4]="error"}($t||($t={})),function(e){e[e.PROTECT_LOCAL_KEY=0]="PROTECT_LOCAL_KEY"}(vg||(vg={})),function(e){e.beforeInit="beforeInit",e.afterInit="afterInit",e.beforeLog="beforeLog",e.hitSizeLimit="hitSizeLimit",e.afterLog="afterLog",e.beforeReport="beforeReport",e.afterReport="afterReport"}(_o||(_o={}));class qA{constructor(){}}var VS,$A={exports:{}},pE={exports:{}},RH=PM(Object.freeze({__proto__:null,default:{}}));pE.exports=(VS=VS||function(e,t){var n;if(typeof window<"u"&&window.crypto&&(n=window.crypto),typeof self<"u"&&self.crypto&&(n=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(n=globalThis.crypto),!n&&typeof window<"u"&&window.msCrypto&&(n=window.msCrypto),!n&&fu!==void 0&&fu.crypto&&(n=fu.crypto),!n)try{n=RH}catch{}var r=function(){if(n){if(typeof n.getRandomValues=="function")try{return n.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof n.randomBytes=="function")try{return n.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function _(){}return function(E){var A;return _.prototype=E,A=new _,_.prototype=null,A}}(),s={},l=s.lib={},d=l.Base={extend:function(_){var E=a(this);return _&&E.mixIn(_),E.hasOwnProperty("init")&&this.init!==E.init||(E.init=function(){E.$super.init.apply(this,arguments)}),E.init.prototype=E,E.$super=this,E},create:function(){var _=this.extend();return _.init.apply(_,arguments),_},init:function(){},mixIn:function(_){for(var E in _)_.hasOwnProperty(E)&&(this[E]=_[E]);_.hasOwnProperty("toString")&&(this.toString=_.toString)},clone:function(){return this.init.prototype.extend(this)}},f=l.WordArray=d.extend({init:function(_,E){_=this.words=_||[],this.sigBytes=E??4*_.length},toString:function(_){return(_||h).stringify(this)},concat:function(_){var E=this.words,A=_.words,w=this.sigBytes,O=_.sigBytes;if(this.clamp(),w%4)for(var I=0;I<O;I++){var V=A[I>>>2]>>>24-I%4*8&255;E[w+I>>>2]|=V<<24-(w+I)%4*8}else for(var U=0;U<O;U+=4)E[w+U>>>2]=A[U>>>2];return this.sigBytes+=O,this},clamp:function(){var _=this.words,E=this.sigBytes;_[E>>>2]&=4294967295<<32-E%4*8,_.length=e.ceil(E/4)},clone:function(){var _=d.clone.call(this);return _.words=this.words.slice(0),_},random:function(_){for(var E=[],A=0;A<_;A+=4)E.push(r());return new f.init(E,_)}}),p=s.enc={},h=p.Hex={stringify:function(_){for(var E=_.words,A=_.sigBytes,w=[],O=0;O<A;O++){var I=E[O>>>2]>>>24-O%4*8&255;w.push((I>>>4).toString(16)),w.push((15&I).toString(16))}return w.join("")},parse:function(_){for(var E=_.length,A=[],w=0;w<E;w+=2)A[w>>>3]|=parseInt(_.substr(w,2),16)<<24-w%8*4;return new f.init(A,E/2)}},g=p.Latin1={stringify:function(_){for(var E=_.words,A=_.sigBytes,w=[],O=0;O<A;O++){var I=E[O>>>2]>>>24-O%4*8&255;w.push(String.fromCharCode(I))}return w.join("")},parse:function(_){for(var E=_.length,A=[],w=0;w<E;w++)A[w>>>2]|=(255&_.charCodeAt(w))<<24-w%4*8;return new f.init(A,E)}},v=p.Utf8={stringify:function(_){try{return decodeURIComponent(escape(g.stringify(_)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(_){return g.parse(unescape(encodeURIComponent(_)))}},S=l.BufferedBlockAlgorithm=d.extend({reset:function(){this._data=new f.init,this._nDataBytes=0},_append:function(_){typeof _=="string"&&(_=v.parse(_)),this._data.concat(_),this._nDataBytes+=_.sigBytes},_process:function(_){var E,A=this._data,w=A.words,O=A.sigBytes,I=this.blockSize,V=O/(4*I),U=(V=_?e.ceil(V):e.max((0|V)-this._minBufferSize,0))*I,x=e.min(4*U,O);if(U){for(var $=0;$<U;$+=I)this._doProcessBlock(w,$);E=w.splice(0,U),A.sigBytes-=x}return new f.init(E,x)},clone:function(){var _=d.clone.call(this);return _._data=this._data.clone(),_},_minBufferSize:0});l.Hasher=S.extend({cfg:d.extend(),init:function(_){this.cfg=this.cfg.extend(_),this.reset()},reset:function(){S.reset.call(this),this._doReset()},update:function(_){return this._append(_),this._process(),this},finalize:function(_){return _&&this._append(_),this._doFinalize()},blockSize:16,_createHelper:function(_){return function(E,A){return new _.init(A).finalize(E)}},_createHmacHelper:function(_){return function(E,A){return new b.HMAC.init(_,A).finalize(E)}}});var b=s.algo={};return s}(Math),VS),$A.exports=pE.exports.enc.Utf8;var KA={exports:{}};KA.exports=function(e){return function(){var t=e,n=t.lib.WordArray;function r(a,s,l){for(var d=[],f=0,p=0;p<s;p++)if(p%4){var h=l[a.charCodeAt(p-1)]<<p%4*2|l[a.charCodeAt(p)]>>>6-p%4*2;d[f>>>2]|=h<<24-f%4*8,f++}return n.create(d,f)}t.enc.Base64={stringify:function(a){var s=a.words,l=a.sigBytes,d=this._map;a.clamp();for(var f=[],p=0;p<l;p+=3)for(var h=(s[p>>>2]>>>24-p%4*8&255)<<16|(s[p+1>>>2]>>>24-(p+1)%4*8&255)<<8|s[p+2>>>2]>>>24-(p+2)%4*8&255,g=0;g<4&&p+.75*g<l;g++)f.push(d.charAt(h>>>6*(3-g)&63));var v=d.charAt(64);if(v)for(;f.length%4;)f.push(v);return f.join("")},parse:function(a){var s=a.length,l=this._map,d=this._reverseMap;if(!d){d=this._reverseMap=[];for(var f=0;f<l.length;f++)d[l.charCodeAt(f)]=f}var p=l.charAt(64);if(p){var h=a.indexOf(p);h!==-1&&(s=h)}return r(a,s,d)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),e.enc.Base64}(pE.exports);var Sg=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function l(p){try{f(r.next(p))}catch(h){s(h)}}function d(p){try{f(r.throw(p))}catch(h){s(h)}}function f(p){var h;p.done?a(p.value):(h=p.value,h instanceof n?h:new n(function(g){g(h)})).then(l,d)}f((r=r.apply(e,[])).next())})};const IH=e=>{try{const t=KA.exports.parse(e);return $A.exports.stringify(t)}catch{return e}},bg=e=>{for(var t=e.length,n=e.length-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2),r>=56320&&r<=57343&&n--}return t},vU=()=>Sg(void 0,void 0,void 0,function*(){return yield self.crypto.subtle.generateKey({name:"AES-GCM",length:256},!0,["encrypt","decrypt"])}),DH=(e,t,n)=>Sg(void 0,void 0,void 0,function*(){try{return yield self.crypto.subtle.encrypt({name:"AES-GCM",iv:n},t,e)}catch(r){throw r}}),MH=(e,t)=>{const n=typeof e=="string"?function(r){const a=new ArrayBuffer(r.length),s=new Uint8Array(a);for(let l=0,d=r.length;l<d;l++)s[l]=r.charCodeAt(l);return a}(e):e;return self.crypto.subtle.encrypt({name:"RSA-OAEP"},t,n)},SU={},_g=(e,t)=>{SU[t]=e},kH=SU,WA=e=>{try{return JSON.stringify(e)}catch{return"json stringify failed"}},NH=e=>{try{return JSON.parse(e)}catch{return e}},eI=e=>{let t=0;return t+=bg(e.message),e.tags.forEach(n=>{t+=bg(n)}),t};class LH{constructor(t){this.uuid="randomUUID"in self.crypto?self.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,v=>(v^crypto.getRandomValues(new Uint8Array(1))[0]&15>>v/4).toString(16));const{databaseName:n,maxSize:r,publicKey:a,reportUrl:s,plugins:l,idbManager:d,logManager:f,currentSize:p,externalKeys:h,codecWorkerFilePath:g}=t;this.databaseName=n,this.maxSize=r,this.publicKey=a??"",this.reportUrl=s??"",this.plugins=l??[],this.idbManager=d,this.logManager=f,this.currentSize=p??0,this.externalKeys=h,this.commonMethods=Object.assign({},kH)}getLocalAESGCM256Key(){var t;return function(n,r,a,s){return new(a||(a=Promise))(function(l,d){function f(g){try{h(s.next(g))}catch(v){d(v)}}function p(g){try{h(s.throw(g))}catch(v){d(v)}}function h(g){var v;g.done?l(g.value):(v=g.value,v instanceof a?v:new a(function(S){S(v)})).then(f,p)}h((s=s.apply(n,[])).next())})}(this,void 0,void 0,function*(){if(this.localAESGCM256Key)return this.localAESGCM256Key;this.localAESGCM256Key=yield vU();const n=this.externalKeys?(t=this.externalKeys.filter(r=>r.usage===vg.PROTECT_LOCAL_KEY)[0])===null||t===void 0?void 0:t.key:void 0;return yield this.idbManager.saveAESGCM256Key(this.uuid,this.localAESGCM256Key,n),this.localAESGCM256Key})}updateCurrentSize(t){var n;let r=(n=this.currentSize)!==null&&n!==void 0?n:0;if(t instanceof Map)for(const[a,s]of t)r+=eI(s);else r+=eI(t);return this.currentSize=r,r>=this.maxSize}}const jS=(...e)=>{const t={},n=[];for(const a of e)a.forEach(s=>{t[s.id]||(t[s.id]=!0,n.push(s))});const r=new Map;return n.sort((a,s)=>(a==null?void 0:a.id)-(s==null?void 0:s.id)).forEach(a=>{r.set(a.id,a)}),r},Ah=(e,t)=>{const n=new Map;return t.forEach(r=>{e(r)&&n.set(r.id,r)}),n};class PH{constructor(){this.getStore=()=>({byTag:Object.assign({},this.store.byTag),byTime:new Map(this.store.byTime)}),this.pushByTime=t=>{for(const n of t)this.store.byTime.set(n.id,n)},this.pushByTag=t=>{t.forEach(n=>{const r=n.tags;Array.isArray(r)&&r.forEach(a=>{this.store.byTag[a]||(this.store.byTag[a]=new Map),this.store.byTag[a].set(n.id,n)})})},this.addLog=t=>{let n=t;Array.isArray(t)||(n=[t]),this.pushByTime(n),this.pushByTag(n)},this.syncFromIDB=t=>function(n,r,a,s){return new(a||(a=Promise))(function(l,d){function f(g){try{h(s.next(g))}catch(v){d(v)}}function p(g){try{h(s.throw(g))}catch(v){d(v)}}function h(g){var v;g.done?l(g.value):(v=g.value,v instanceof a?v:new a(function(S){S(v)})).then(f,p)}h((s=s.apply(n,[])).next())})}(this,void 0,void 0,function*(){const n=yield t.getAllLogs();this.addLog(n)}),this.reset=()=>{this.store={byTag:{},byTime:new Map}},this.deleteLogs=t=>{for(const n of t){const r=this.store.byTime.get(n);if(!r)continue;const{tags:a}=r;for(const s of a)this.store.byTag[s].delete(n);this.store.byTime.delete(n)}},this.filterStore=t=>{const n=((a,s)=>{if(!s)return a.byTime;if(typeof s=="string")return a.byTag[s]||new Map;if(Array.isArray(s)){if(s.every(l=>typeof l=="string"))return jS(...s.map(l=>a.byTag[l]).filter(l=>!!l))}else{if(typeof s=="function")return Ah(s,a.byTime);if(typeof s=="object")if(s.tags&&s.filter){if(typeof s.tags=="string")return Ah(s.filter,a.byTag[s.tags]);if(Array.isArray(s.tags)&&s.tags.every(l=>typeof l=="string"))return jS(...s.tags.map(l=>{const d=a.byTag[l];return d?Ah(s.filter,d):new Map}))}else{if(s.filter)return Ah(s.filter,a.byTime);if(s.tags){if(typeof s=="string")return a.byTag[s]||new Map;if(Array.isArray(s)&&s.every(l=>typeof l=="string"))return jS(...s.map(l=>a.byTag[l]))}}else console.error("Wrong filter type")}return new Map})(this.store,t),r=new Map;for(const[a,s]of n){const l=Object.assign(Object.assign({},s),{message:NH(IH(s.message))});r.set(a,l)}return r},this.store={byTag:{},byTime:new Map}}}function ls(e,t,n){const r=e.plugins;if(!Array.isArray(r))return n;let a=n;return r.forEach(s=>{const l=s[t];if(typeof l=="function"){const d=l(e,a);d&&(a=d)}}),a}const bU=(e,t,n,r,a,s={})=>function(l,d,f,p){return new(f||(f=Promise))(function(h,g){function v(_){try{b(p.next(_))}catch(E){g(E)}}function S(_){try{b(p.throw(_))}catch(E){g(E)}}function b(_){var E;_.done?h(_.value):(E=_.value,E instanceof f?E:new f(function(A){A(E)})).then(v,S)}b((p=p.apply(l,[])).next())})}(void 0,void 0,void 0,function*(){const{noCache:l,extraProperties:d={}}=s,f=((h,g,v,S,b,_)=>{const E=Array.isArray(g)?g:[g],A=Date.now();return Object.assign({message:h,logLevel:v,tags:E,encryptMode:S,timestamp:A,laplaceSessionId:b},_)})(`${t}`,n,r,a,e.uuid,d),p=ls(e,_o.beforeLog,f);if(l)ls(e,_o.afterLog,f);else{const{idbManager:h,logManager:g}=e,v=yield h.makeNextId();p.message=(b=>{try{const _=$A.exports.parse(b);return KA.exports.stringify(_)}catch{return b}})(p.message);const S=Object.assign(Object.assign({},p),{id:v});e.updateCurrentSize(S)&&ls(e,_o.hitSizeLimit,S),g.addLog(S),yield h.addLog(S),ls(e,_o.afterLog,S)}});_g(bU,"commonLog");const UH=e=>new Promise(t=>{const n=new XMLHttpRequest;n.open(e.type||"GET",e.url,!0),n.withCredentials=e.withCredentials,n.onerror=r=>{t({error:r,report:e.reportItem})},n.onreadystatechange=function(){if(n.readyState===4){const r=n.status;t(r>=200&&r<300?{report:e.reportItem}:{error:`Request failed, status: ${r}, responseText: ${n.responseText}`,report:e.reportItem})}},Object.entries(e.headers).forEach(([r,a])=>{a&&r&&n.setRequestHeader(r,a)}),n.send(e.data)}),El=(e,t=2)=>{let n=`${e}`;for(;n.length<t;)n=`0${n}`;return n},_U=e=>{const t=new Date(e);return`${t.getUTCFullYear()}-${El(t.getUTCMonth()+1)}-${El(t.getUTCDate())} ${El(t.getUTCHours())}:${El(t.getUTCMinutes())}:${El(t.getUTCSeconds())}.${El(t.getUTCMilliseconds(),3)}`},EU={version:"000001",flag:"0"},VH=(e,t)=>Array.from(e.values()).reduce((n,r)=>{const a=((d,f)=>{const{message:p,logLevel:h,tags:g,timestamp:v,encryptMode:S,id:b}=d,_=function(A,w){var O={};for(var I in A)Object.prototype.hasOwnProperty.call(A,I)&&w.indexOf(I)<0&&(O[I]=A[I]);if(A!=null&&typeof Object.getOwnPropertySymbols=="function"){var V=0;for(I=Object.getOwnPropertySymbols(A);V<I.length;V++)w.indexOf(I[V])<0&&Object.prototype.propertyIsEnumerable.call(A,I[V])&&(O[I[V]]=A[I[V]])}return O}(d,["message","logLevel","tags","timestamp","encryptMode","id"]),E=Object.assign(Object.assign({time:_U(v),logLevel:$t[h],message:p,tags:g},f),_);return WA(E)})(r,t),s=bg(a),l=n[n.length-1];return l.currentSize+s>30720?n.push({messages:[a],ids:[r.id],currentSize:s}):(l.messages.push(a),l.ids.push(r.id),l.currentSize+=s),n},[{messages:[],ids:[],currentSize:0}]).filter(n=>n.currentSize>0).map(n=>({messages:n.messages.join(`
`),ids:n.ids,meta:EU})),AU=(e,t,n)=>((r,a,s)=>Promise.all(r.map(l=>Object.assign({url:a||"",type:"POST",withCredentials:!1,headers:{},data:WA({messages:l.messages,meta:l.meta}),reportItem:l},s)).map(UH)))(e,t.reportUrl,n).then(r=>{r.forEach(a=>{var s;ls(t,_o.afterReport,{report:a.report,error:(s=a.error)!==null&&s!==void 0?s:null})})}),CU=(e,t,n)=>function(r,a,s,l){return new(s||(s=Promise))(function(d,f){function p(v){try{g(l.next(v))}catch(S){f(S)}}function h(v){try{g(l.throw(v))}catch(S){f(S)}}function g(v){var S;v.done?d(v.value):(S=v.value,S instanceof s?S:new s(function(b){b(S)})).then(p,h)}g((l=l.apply(r,[])).next())})}(void 0,void 0,void 0,function*(){const r=e.logManager.filterStore(t);if(!r||(r==null?void 0:r.size)===0||!n)return;const{xhrOptions:a={},additionalContext:s}=n,l=ls(e,_o.beforeReport,r),d=VH(l,s);AU(d,e,a)});_g(CU,"commonReport");var wU=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function l(p){try{f(r.next(p))}catch(h){s(h)}}function d(p){try{f(r.throw(p))}catch(h){s(h)}}function f(p){var h;p.done?a(p.value):(h=p.value,h instanceof n?h:new n(function(g){g(h)})).then(l,d)}f((r=r.apply(e,[])).next())})};const OU=(e,t,n)=>wU(void 0,void 0,void 0,function*(){const{idbManager:r,logManager:a}=e;if(Array.isArray(n)&&(yield r.deleteLogs(n),a.deleteLogs(n),!t))return;const s=e.logManager.filterStore(t),l=[];for(const[f,p]of s)l.push(p.id);let d=l;Array.isArray(l)||(d=[l]),yield r.deleteLogs(d),a.deleteLogs(d)}),TU=e=>wU(void 0,void 0,void 0,function*(){const{idbManager:t,logManager:n}=e;yield t.reset(),n.reset()});function tI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ms(e){return new Promise(function(t,n){e.oncomplete=e.onsuccess=function(){return t(e.result)},e.onabort=e.onerror=function(){return n(e.error)}})}function RU(e,t){var n=indexedDB.open(e);n.onupgradeneeded=function(){return n.result.createObjectStore(t)};var r=ms(n);return function(a,s){return r.then(function(l){return s(l.transaction(t,a).objectStore(t))})}}var BS;function hf(){return BS||(BS=RU("keyval-store","keyval")),BS}function nI(e){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:hf())("readwrite",function(t){return e.forEach(function(n){return t.delete(n)}),ms(t.transaction)})}function jH(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hf();return e("readonly",function(t){if(t.getAll&&t.getAllKeys)return Promise.all([ms(t.getAllKeys()),ms(t.getAll())]).then(function(r){var a=function(d,f){return function(p){if(Array.isArray(p))return p}(d)||function(p,h){var g=p==null?null:typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(g!=null){var v,S,b=[],_=!0,E=!1;try{for(g=g.call(p);!(_=(v=g.next()).done)&&(b.push(v.value),!h||b.length!==h);_=!0);}catch(A){E=!0,S=A}finally{try{_||g.return==null||g.return()}finally{if(E)throw S}}return b}}(d,f)||function(p,h){if(p){if(typeof p=="string")return tI(p,h);var g=Object.prototype.toString.call(p).slice(8,-1);return g==="Object"&&p.constructor&&(g=p.constructor.name),g==="Map"||g==="Set"?Array.from(p):g==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(g)?tI(p,h):void 0}}(d,f)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(r,2),s=a[0],l=a[1];return s.map(function(d,f){return[d,l[f]]})});var n=[];return e("readonly",function(r){return function(a,s){return a.openCursor().onsuccess=function(){this.result&&(function(l){n.push([l.key,l.value])}(this.result),this.result.continue())},ms(a.transaction)}(r).then(function(){return n})})})}_g(OU,"commonDelete"),_g(TU,"commonReset");var BH=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function l(p){try{f(r.next(p))}catch(h){s(h)}}function d(p){try{f(r.throw(p))}catch(h){s(h)}}function f(p){var h;p.done?a(p.value):(h=p.value,h instanceof n?h:new n(function(g){g(h)})).then(l,d)}f((r=r.apply(e,[])).next())})};const rI={default:{queue:[],isRunning:!1,listeners:[]}},QA=e=>{let t=rI[e];return t||(t={queue:[],isRunning:!1,listeners:[]},rI[e]=t),t};function IU(e){return BH(this,void 0,void 0,function*(){const t=QA(e),{queue:n,listeners:r}=t;for(;n.length>0&&!t.isRunning;){const a=n.shift();t.isRunning=!0;try{const s=yield a.task();a.resolution(s)}catch(s){a.rejection(s)}t.isRunning=!1,IU(e)}r.length&&r.forEach(a=>{a()})})}function Ch(e,t){const n=QA(t);try{return new Promise((r,a)=>{n.queue.push({task:e,resolution:r,rejection:a}),IU(t)})}catch(r){return Promise.reject(r)}}const iI=(e,t)=>{QA(e).listeners.push(t)};var $r=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function l(p){try{f(r.next(p))}catch(h){s(h)}}function d(p){try{f(r.throw(p))}catch(h){s(h)}}function f(p){var h;p.done?a(p.value):(h=p.value,h instanceof n?h:new n(function(g){g(h)})).then(l,d)}f((r=r.apply(e,[])).next())})};const xS="change_meta",HS="change_log",Al=()=>Promise.resolve();class xH{constructor(t){this.waitingForReset=!1,this.resetting=!1,this.isChangingMeta=!1,this.isChangingLog=!1,this.dbFailCount={read:0,write:0},this.get=n=>function(r){return(arguments.length>1&&arguments[1]!==void 0?arguments[1]:hf())("readonly",function(a){return ms(a.get(r))})}(n,this.store),this.set=(n,r)=>$r(this,void 0,void 0,function*(){try{return!(this.dbFailCount.write>3)&&(yield function(a,s){return(arguments.length>2&&arguments[2]!==void 0?arguments[2]:hf())("readwrite",function(l){return l.put(s,a),ms(l.transaction)})}(n,r,this.store))}catch(a){a instanceof DOMException&&(a&&a.name==="QuotaExceededError"?(yield this.deleteOldLogsForSetNewOne(),yield this.set(n,r)):this.dbFailCount.write+=1),console.error(a)}}),this.deleteOldLogsForSetNewOne=()=>$r(this,void 0,void 0,function*(){var n;const r=yield this.getAllLogs(),a=[];for(let s=0;s<13;s++){const l=(n=r[s])===null||n===void 0?void 0:n.id;(l||l===0)&&a.push(`${l}`)}return nI(a,this.store)}),this.adjustMaxId=()=>$r(this,void 0,void 0,function*(){return this.resetting?Al():(this.isChangingMeta=!0,yield Ch(()=>$r(this,void 0,void 0,function*(){var n;const r=yield this.getAllLogs(),a=r[r.length-1],s=(n=a==null?void 0:a.id)!==null&&n!==void 0?n:0;return yield this.set("maxId",s),s}),xS))}),this.makeNextId=()=>$r(this,void 0,void 0,function*(){return this.resetting?Al():(this.isChangingMeta=!0,yield Ch(()=>$r(this,void 0,void 0,function*(){const n=yield this.get("maxId");if(!n&&n!==0)return yield this.set("maxId",0),0;const r=n+1;return yield this.set("maxId",r),r}),xS))}),this.addLog=n=>$r(this,void 0,void 0,function*(){if(this.resetting)return Al();this.isChangingLog=!0,yield Ch(()=>$r(this,void 0,void 0,function*(){const{id:r}=n;return this.set(`${r}`,n)}),HS)}),this.getAllLogs=()=>$r(this,void 0,void 0,function*(){return(yield jH(this.store)).filter(([n])=>n!=="maxId").sort((n,r)=>{var a,s;return((a=n[1])===null||a===void 0?void 0:a.id)-((s=r[1])===null||s===void 0?void 0:s.id)}).map(([,n])=>n)}),this.deleteLogs=n=>$r(this,void 0,void 0,function*(){if(this.resetting)return Al();this.isChangingLog=!0,yield Ch(()=>$r(this,void 0,void 0,function*(){return nI(n.map(r=>`${r}`),this.store)}),HS),yield this.adjustMaxId()}),this.saveAESGCM256Key=(n,r,a)=>$r(this,void 0,void 0,function*(){if(a){const s=yield self.crypto.subtle.exportKey("raw",r),l=yield((d,f,p)=>Sg(void 0,void 0,void 0,function*(){return new Promise((h,g)=>{requestAnimationFrame(()=>Sg(void 0,void 0,void 0,function*(){var v;const S=(v=f==null?void 0:f.algorithm)===null||v===void 0?void 0:v.name;let b;if(S==="RSA-OAEP"?b=MH:S==="AES-GCM"&&(b=DH),!b)throw new Error("Unsupported encrypt key type");if(typeof d=="string"){const _=new TextEncoder,E=yield b(_.encode(d),f,p);h(E)}else{const _=yield b(d,f,p);h(_)}}))})}))(s,a,new Uint8Array(16));yield this.set(`aes-gcm-256-${n}`,l)}else yield this.set(`aes-gcm-256-${n}`,r)}),this.reset=()=>$r(this,void 0,void 0,function*(){return this.resetting?Al():(this.waitingForReset=!0,this.isChangingLog||this.isChangingMeta?Al():(this.resetting=!0,yield function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:hf())("readwrite",function(n){return n.clear(),ms(n.transaction)})}(this.store),this.resetting=!1,void(this.waitingForReset=!1)))}),this.store=RU(t,t+"-store"),iI(xS,()=>{if(this.isChangingMeta=!1,this.waitingForReset)return this.reset()}),iI(HS,()=>{if(this.isChangingLog=!1,this.waitingForReset)return this.reset()})}}var qt=function(e,t,n,r){return new(n||(n=Promise))(function(a,s){function l(p){try{f(r.next(p))}catch(h){s(h)}}function d(p){try{f(r.throw(p))}catch(h){s(h)}}function f(p){var h;p.done?a(p.value):(h=p.value,h instanceof n?h:new n(function(g){g(h)})).then(l,d)}f((r=r.apply(e,[])).next())})};const HH={databaseName:"laplace-default-db",maxSize:49283072};class hE{constructor(t){this.commonLogWithContext=(r,a,s,l,d)=>qt(this,void 0,void 0,function*(){yield bU(this.runtimeMetaManager,r,a,s,l,d)}),this.commonReportWithContext=(r,a)=>qt(this,void 0,void 0,function*(){yield CU(this.runtimeMetaManager,r,a)}),this.commonDeleteWithContext=r=>qt(this,void 0,void 0,function*(){yield OU(this.runtimeMetaManager,r)}),this.resetWithContext=()=>qt(this,void 0,void 0,function*(){yield TU(this.runtimeMetaManager)}),this.initLocalAESGCM256Key=()=>qt(this,void 0,void 0,function*(){return yield vU()}),this.doNotUseDirtyGetStore=()=>this.runtimeMetaManager.logManager.getStore(),this.log=(r,a,s)=>qt(this,void 0,void 0,function*(){yield this.commonLogWithContext(r,a,$t.log,Un.PLAIN,{extraProperties:s})}),this.info=(r,a,s)=>qt(this,void 0,void 0,function*(){yield this.commonLogWithContext(r,a,$t.info,Un.PLAIN,{extraProperties:s})}),this.warn=(r,a,s)=>qt(this,void 0,void 0,function*(){yield this.commonLogWithContext(r,a,$t.warn,Un.PLAIN,{extraProperties:s})}),this.debug=(r,a,s)=>qt(this,void 0,void 0,function*(){yield this.commonLogWithContext(r,a,$t.debug,Un.PLAIN,{extraProperties:s})}),this.error=(r,a,s)=>qt(this,void 0,void 0,function*(){yield this.commonLogWithContext(r,a,$t.error,Un.PLAIN,{extraProperties:s})}),this.logWithEncryption=(r,a,s)=>qt(this,void 0,void 0,function*(){yield this.commonLogWithContext(r,a,$t.log,Un.AESGCM256,{extraProperties:s})}),this.infoWithEncryption=(r,a,s)=>qt(this,void 0,void 0,function*(){yield this.commonLogWithContext(r,a,$t.info,Un.AESGCM256,{extraProperties:s})}),this.debugWithEncryption=(r,a,s)=>qt(this,void 0,void 0,function*(){yield this.commonLogWithContext(r,a,$t.debug,Un.AESGCM256,{extraProperties:s})}),this.warnWithEncryption=(r,a,s)=>qt(this,void 0,void 0,function*(){yield this.commonLogWithContext(r,a,$t.warn,Un.AESGCM256,{extraProperties:s})}),this.errorWithEncryption=(r,a,s)=>qt(this,void 0,void 0,function*(){yield this.commonLogWithContext(r,a,$t.error,Un.AESGCM256,{extraProperties:s})}),this.logWithoutCache=(r,a,s)=>qt(this,void 0,void 0,function*(){yield this.commonLogWithContext(r,a,$t.log,Un.PLAIN,{extraProperties:s,noCache:!0})}),this.infoWithoutCache=(r,a,s)=>qt(this,void 0,void 0,function*(){yield this.commonLogWithContext(r,a,$t.info,Un.PLAIN,{extraProperties:s,noCache:!0})}),this.warnWithoutCache=(r,a,s)=>qt(this,void 0,void 0,function*(){yield this.commonLogWithContext(r,a,$t.warn,Un.PLAIN,{extraProperties:s,noCache:!0})}),this.debugWithoutCache=(r,a,s)=>qt(this,void 0,void 0,function*(){yield this.commonLogWithContext(r,a,$t.debug,Un.PLAIN,{extraProperties:s,noCache:!0})}),this.errorWithoutCache=(r,a,s)=>qt(this,void 0,void 0,function*(){yield this.commonLogWithContext(r,a,$t.error,Un.PLAIN,{extraProperties:s,noCache:!0})}),this.getLogs=r=>{const a=this.runtimeMetaManager.logManager;return a?a.filterStore(r):new Map},this.report=(...r)=>((a,s,l={})=>function(d,f,p,h){return new(p||(p=Promise))(function(g,v){function S(E){try{_(h.next(E))}catch(A){v(A)}}function b(E){try{_(h.throw(E))}catch(A){v(A)}}function _(E){var A;E.done?g(E.value):(A=E.value,A instanceof p?A:new p(function(w){w(A)})).then(S,b)}_((h=h.apply(d,[])).next())})}(void 0,void 0,void 0,function*(){var d,f;const p=(d=l.sampleRate)!==null&&d!==void 0?d:1;if(Math.random()>p)return;if(bg(s)>30720)throw new Error("ERROR: Laplace .report(strMsg) size bigger than 30KB is NOT allowed.");const h=Object.assign({message:Object.assign({strMsg:s},l.extraMsg),time:_U(Date.now())},l.extraData);return!((f=l==null?void 0:l.tags)===null||f===void 0)&&f.length&&(h.tags=l==null?void 0:l.tags),AU([{messages:JSON.stringify(h),meta:EU}],a,l.xhrOptions)}))(this.runtimeMetaManager,...r),this.reportByHttps=(r,a)=>qt(this,void 0,void 0,function*(){yield this.commonReportWithContext(r,a)}),this.deleteLog=r=>qt(this,void 0,void 0,function*(){yield this.commonDeleteWithContext(r)}),this.deleteAll=()=>qt(this,void 0,void 0,function*(){yield this.resetWithContext()});const{runtimeMetaManager:n}=t;this.runtimeMetaManager=n}}hE.init=e=>qt(void 0,void 0,void 0,function*(){const{databaseName:t="laplace-default-db"}=e,n=new xH(t),r=new PH,a=new LH(Object.assign(Object.assign(Object.assign({},HH),e),{idbManager:n,logManager:r}));ls(a,_o.beforeInit),yield r.syncFromIDB(a.idbManager);const s=new hE({runtimeMetaManager:a});return ls(a,_o.afterInit),s});class zH extends qA{constructor(t){super(),this.config={verbose:!1},this.beforeLog=(n,r)=>{const{verbose:a}=this.config;switch(a&&console.log("beforeLog, ","state: ",r,"meta: ",n),r.logLevel){case $t.error:console.error(r.message);break;case $t.warn:console.warn(r.message);break;case $t.log:console.log(r.message);break;case $t.debug:console.debug(r.message);break;case $t.info:console.info(r.message)}},this.afterLog=(n,r)=>{const{verbose:a}=this.config;a&&console.log("afterLog, ","state: ",r,"meta: ",n)},this.beforeReport=(n,r)=>{const{verbose:a}=this.config;a&&console.log("beforeReport, ","pluginParams: ",r,"meta: ",n)},this.afterReport=(n,r)=>{const{verbose:a}=this.config;a&&console.log("afterReport, ","pluginParams: ",r,"runtimeMetaManager: ",n)},t&&(this.config=t)}}const oI=e=>{const t=[];for(const[n,r]of e)t.push(r);return t};class FH extends qA{constructor(t){super(),this.config={debug:!1},this.debugLog=n=>{const{debug:r}=this.config;r&&console.log(`[AutoCleanLogPlugin]: ${n}`)},this.afterInit=n=>{const{expireBefore:r}=this.config;if(!r)return void this.debugLog("early return on beforeInit because expireBefore is falsy");const{logManager:a,commonMethods:{commonDelete:s}}=n,l=a.getStore().byTime,d=(typeof r=="function"?oI(l).filter(r):oI(l).filter(f=>f.timestamp<r)).map(f=>f.id);s(n,void 0,d),this.debugLog(`afterInit, clean log id: ${d}`)},this.afterReport=(n,{report:r,error:a})=>{if(a)return this.debugLog("error"),void console.error(a);const{cleanAfterReport:s}=this.config;if(!s)return void this.debugLog("early return on afterReport because cleanAfterReport is falsy");const{commonMethods:{commonDelete:l}}=n;l(n,void 0,r.ids),this.debugLog(`afterReport, clean log id: ${r.ids}`)},t&&(this.config=t)}}var aI="Expected a function",sI=NaN,GH="[object Symbol]",qH=/^\s+|\s+$/g,$H=/^[-+]0x[0-9a-f]+$/i,KH=/^0b[01]+$/i,WH=/^0o[0-7]+$/i,QH=parseInt,ZH=typeof fu=="object"&&fu&&fu.Object===Object&&fu,JH=typeof self=="object"&&self&&self.Object===Object&&self,YH=ZH||JH||Function("return this")(),XH=Object.prototype.toString,e3=Math.max,t3=Math.min,zS=function(){return YH.Date.now()};function Eg(e){var t=typeof e;return!!e&&(t=="object"||t=="function")}function uI(e){if(typeof e=="number")return e;if(function(r){return typeof r=="symbol"||function(a){return!!a&&typeof a=="object"}(r)&&XH.call(r)==GH}(e))return sI;if(Eg(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Eg(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e.replace(qH,"");var n=KH.test(e);return n||WH.test(e)?QH(e.slice(2),n?2:8):$H.test(e)?sI:+e}var n3=function(e,t,n){var r=!0,a=!0;if(typeof e!="function")throw new TypeError(aI);return Eg(n)&&(r="leading"in n?!!n.leading:r,a="trailing"in n?!!n.trailing:a),function(s,l,d){var f,p,h,g,v,S,b=0,_=!1,E=!1,A=!0;if(typeof s!="function")throw new TypeError(aI);function w(x){var $=f,W=p;return f=p=void 0,b=x,g=s.apply(W,$)}function O(x){var $=x-S;return S===void 0||$>=l||$<0||E&&x-b>=h}function I(){var x=zS();if(O(x))return V(x);v=setTimeout(I,function($){var W=l-($-S);return E?t3(W,h-($-b)):W}(x))}function V(x){return v=void 0,A&&f?w(x):(f=p=void 0,g)}function U(){var x=zS(),$=O(x);if(f=arguments,p=this,S=x,$){if(v===void 0)return function(W){return b=W,v=setTimeout(I,l),_?w(W):g}(S);if(E)return v=setTimeout(I,l),w(S)}return v===void 0&&(v=setTimeout(I,l)),g}return l=uI(l)||0,Eg(d)&&(_=!!d.leading,h=(E="maxWait"in d)?e3(uI(d.maxWait)||0,l):h,A="trailing"in d?!!d.trailing:A),U.cancel=function(){v!==void 0&&clearTimeout(v),b=0,f=S=p=v=void 0},U.flush=function(){return v===void 0?g:V(zS())},U}(e,t,{leading:r,maxWait:t,trailing:a})};const r3=["RESOURCE_ERROR","JS_ERROR","UNHANDLED_PROMISE_REJECTION"];class i3 extends qA{constructor(t){super(),this.config={debug:!1,publicTags:[]},this.errorCount=0,this.hashErrors={},this.runtimeMetaManager=null,this.addPublicTags=n=>{var r;return(r=this.config.publicTags)===null||r===void 0?void 0:r.concat(n).filter(a=>a)},this.debugLog=n=>{const{debug:r}=this.config;r&&console.log("[AutoLogErrorPlugin]:",n)},this.ignore=n=>{var r,a,s,l,d;return((r=this.config)===null||r===void 0?void 0:r.maxErrorCount)!==void 0&&this.errorCount>=((a=this.config)===null||a===void 0?void 0:a.maxErrorCount)||!!(!((s=this.config)===null||s===void 0)&&s.ignoredErrorMsgKeywords)&&n&&((d=(l=this.config)===null||l===void 0?void 0:l.ignoredErrorMsgKeywords)===null||d===void 0?void 0:d.some(f=>n==null?void 0:n.includes(f)))},this.report=n3(()=>{if(this.runtimeMetaManager===null)return;const{autoReport:n}=this.config,{commonMethods:{commonReport:r}}=this.runtimeMetaManager;return r(this.runtimeMetaManager,r3,n)},600,{trailing:!0,leading:!1}),this.afterInit=n=>{if(this.runtimeMetaManager=n,!self.addEventListener)return;const{commonMethods:{commonLog:r}}=n,a=(s,l,d)=>{this.debugLog(d),this.errorCount+=1;try{return function(f){const p=new TextEncoder().encode(f);return crypto.subtle.digest("SHA-1",p).then(h=>Array.from(new Uint8Array(h)).map(g=>g.toString(16).padStart(2,"0")).join(""))}(s).then(f=>this.hashErrors[f]?"dismissed":(this.hashErrors[f]=!0,r(n,s,this.addPublicTags([].concat(l)),$t.error,Un.PLAIN,{extraProperties:{messageHash:f}}).then(this.report))).catch(console.error)}catch(f){return console.error(f),Promise.resolve(f)}};try{self.addEventListener("error",s=>{var l,d,f,p,h,g,v;if(!this.ignore(s==null?void 0:s.message)){if(s!=null&&s.target&&(!((l=s==null?void 0:s.target)===null||l===void 0)&&l.src||!((d=s==null?void 0:s.target)===null||d===void 0)&&d.href)){const S=`Load Resource Error in ${(f=s==null?void 0:s.target)===null||f===void 0?void 0:f.tagName} element: ${((p=s==null?void 0:s.target)===null||p===void 0?void 0:p.src)||((h=s==null?void 0:s.target)===null||h===void 0?void 0:h.href)}`;return a(S,"RESOURCE_ERROR",s)}{const S=`Javascript Runtime Error in ${s==null?void 0:s.filename} (${s==null?void 0:s.lineno}:${s==null?void 0:s.colno}): ${s==null?void 0:s.message}
Stack: ${(v=(g=s==null?void 0:s.error)===null||g===void 0?void 0:g.stack)!==null&&v!==void 0?v:s==null?void 0:s.stack}`;return a(S,"JS_ERROR",s)}}}),self.addEventListener("unhandledrejection",s=>{var l;if(this.ignore((l=s==null?void 0:s.reason)===null||l===void 0?void 0:l.message))return;let d;const f=s==null?void 0:s.reason;return d=typeof f=="string"?`Promise Error: ${f}`:f instanceof Error?`Promise Error: ${f.message} ${f.name} ${f.stack}`:typeof f=="object"?`Promise Error with reason: ${WA(f)}`:`Promise Error with unrecognized reason: ${f}`,a(d,"UNHANDLED_PROMISE_REJECTION",s)})}catch(s){console.error(s)}this.debugLog("afterInit, add listener")},t&&(this.config=t),this.config.publicTags=[].concat(t==null?void 0:t.publicTags)}}let zs=function(e){return e.DeviceAudioStreamCaptured="device audio stream captured",e.AudioJoinComplete="audio join complete",e.AudioLeaveComplete="audio leave complete",e.SharingAudioStartComplete="sharing audio start complete",e.SharingAudioStopComplete="sharing audio stop complete",e.AudioBridgeReconnectStart="audio bridge reconnect start",e.AudioBridgeReconnectEnd="audio bridge reconnect end",e}({}),Fs=function(e){return e.VBSettingSuccess="video VB setting success",e.VBSettingFailed="init video VB failed",e.VBPreloadSuccess="preload video VB success",e.VBPreloading3S="preload video VB 3s",e.VBPreloading10S="preload video VB 10s",e.StartCaptureVideoSuccess="start capture video success",e.StopCaptureVideoSuccess="stop capture video success",e}({});function fr(e){return`{E}${e}{/E}`}const o3={enable:!1,enableReport:!1,gatewayEndPoint:"",logLevel:{debug:!1,log:!1,info:!1,print:!1,warn:!1,error:!1},performanceReportRatio:.25,trackingCount:7},lI=["debug","log","info","print","warn","error"],Cl=(e,t)=>[...e,...t].filter(n=>!!n);class Er{static getInstance(){return this.agentInstance||(this.agentInstance=new Er),this.agentInstance}constructor(){var t=this;this.laplace=void 0,this.trackingId=void 0,this.logConfig=void 0,this.reportUrl=void 0,this.publicTags=void 0,this.accountId=void 0,this.initConfig=async n=>{let r,a=o3;try{n.logConfig&&(a=JSON.parse(n.logConfig),a.gatewayEndPoint&&(this.reportUrl=a.gatewayEndPoint));const{enable:f,enableReport:p,reportUrl:h,logLevel:g,encryptKeys:v,trackingId:S,accountId:b}=n;if(f!==void 0&&(a={...a,enable:!!f}),p!==void 0&&(a={...a,enableReport:!!p}),h&&(this.reportUrl=h),typeof g=="string"){const _=lI.indexOf(g),E=lI.reduce((A,w,O)=>O<_?{...A,[`${w}`]:!1}:{...A,[`${w}`]:!0},{});a={...a,logLevel:E}}else g!==void 0&&(a={...a,logLevel:g});if(S&&(this.trackingId=S,a={...a,enable:!0,enableReport:!0}),v!==void 0){const _=Array.isArray(v)?v:[v];r=await Promise.all(_.map(E=>function(A){return window.crypto.subtle.importKey("raw",new TextEncoder().encode(A.slice(0,32)),"AES-GCM",!1,["encrypt","decrypt"])}(E).then(A=>({usage:vg.PROTECT_LOCAL_KEY,key:A}))))}b!==void 0&&(this.accountId=b)}catch(f){console.error("parse log config error",f)}const s=new Date().getTime()-6048e5,l=a.enableReport&&this.reportUrl?{gzip:!1,encrypt:!1,additionalContext:{trackingId:this.trackingId}}:void 0;this.publicTags=["VideoSDK",this.trackingId];const d=[n.debugMode&&new zH({verbose:!1}),new FH({debug:!1,cleanAfterReport:!0,expireBefore:s}),new i3({debug:!1,autoReport:l,ignoredErrorMsgKeywords:["table index is out of bounds"],maxErrorCount:223,publicTags:this.accountId?[...this.publicTags,fr(this.accountId)]:this.publicTags})].filter(Boolean);return{laplaceConfig:{databaseName:"ZM-VSDK-LOG-DATABASE",maxSize:49283072,publicKey:n.logEncryptionPubKey,reportUrl:this.reportUrl,externalKeys:r,plugins:d},logConfig:a}},this.handleInitLaplaceSuccess=(n,r)=>{var a;this.laplace=n;const s=Je.get(Yb.VSDKLogTrackingId);let l=[];try{l=JSON.parse(s?window.atob(s):"[]")}catch{}((a=l.length>=(r==null?void 0:r.trackingCount))===null||a===void 0||a)&&l.shift();const d=l.reduce((f,p)=>({...f,[`${p}`]:!0}),{});n.deleteLog(f=>{var p;return!((p=f.tags)!==null&&p!==void 0&&p.some(h=>d[h]))}),l.push(this.trackingId),Je.set(Yb.VSDKLogTrackingId,window.btoa(JSON.stringify(l)),ft.LocalStorage)},this.init=async n=>{const{laplaceConfig:r,logConfig:a}=await this.initConfig(n);return a.enable?(this.logConfig=a,hE.init(r).then(s=>{this.handleInitLaplaceSuccess(s,a)}).catch(s=>{throw{type:bo,reason:"Logger init failed.",error:s}})):Promise.reject({type:ae,reason:"Logger feature is not enabled."})},this.check=n=>{var r,a;return!(!this.checkLaplace()||((r=this.logConfig)===null||r===void 0||(a=r.logLevel)===null||a===void 0||!a[n])&&(console.warn(`Logger ${n} is not enabled.`),1))},this.log=(n,r,a)=>{if(this.check("log"))try{var s;return(s=this.laplace.logWithEncryption(n,Cl(r,a)))===null||s===void 0?void 0:s.catch(()=>{})}catch{return}},this.warn=(n,r,a)=>{if(this.check("warn"))try{var s;return(s=this.laplace.warnWithEncryption(n,Cl(r,a)))===null||s===void 0?void 0:s.catch(()=>{})}catch{return}},this.info=(n,r,a)=>{if(this.check("info"))try{var s;return(s=this.laplace.infoWithEncryption(n,Cl(r,a)))===null||s===void 0?void 0:s.catch(()=>{})}catch{return}},this.debug=(n,r,a)=>{if(this.check("debug"))try{var s;return(s=this.laplace.debugWithEncryption(n,Cl(r,a)))===null||s===void 0?void 0:s.catch(()=>{})}catch{return}},this.error=(n,r,a)=>{if(this.check("error"))try{var s;return(s=this.laplace.errorWithEncryption(n,Cl(r,a)))===null||s===void 0?void 0:s.catch(()=>{})}catch{return}},this.checkLaplace=()=>{var n;return!((n=this.laplace)===null||n===void 0||!n.log)},this.makeLogger=n=>{var r;const a=Cl((r=this.publicTags)!==null&&r!==void 0?r:[],n);return{log:(s,l)=>this.log(s,a,l??[]),warn:(s,l)=>this.warn(s,a,l??[]),info:(s,l)=>this.info(s,a,l??[]),debug:(s,l)=>this.debug(s,a,l??[]),error:(s,l)=>this.error(s,a,l??[])}},this.reportToGlobalTracing=n=>{var r;return this.checkLaplace()?(r=this.logConfig)!==null&&r!==void 0&&r.enableReport&&this.reportUrl?this.laplace.reportByHttps(n,{gzip:!1,encrypt:!1,xhrOptions:{url:this.reportUrl},additionalContext:{trackingId:this.trackingId}}):Promise.reject({type:ae,reason:"Please use getLogs to obtain log data and report by yourself."}):Promise.reject({type:ae,reason:"Logger has not been enabled or initialized."})},this.report=function(n,r){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"warn";if(t.checkLaplace()&&t.logConfig.enableReport&&t.reportUrl){var s,l;const d=Array.isArray(r)?r:[r],f=t.accountId?[...d,fr(t.accountId)]:d;(s=(l=t.makeLogger(f))[`${a}`])===null||s===void 0||s.call(l,n).then(()=>{t.reportToGlobalTracing(d)})}},this.getLogs=(n,r)=>{if(!this.checkLaplace())return console.warn("Logger has not been enabled or initialized."),[];const a=n.getState(),{meeting:{meetingNumber:s,userId:l,userEmail:d,userName:f}}=a,p={meetingNumber:s,userId:l,userEmail:d,userName:f},h=this.laplace.getLogs(r),g=[];for(const[,v]of h)g.push({...v,...p});return g},this.doNotUseDirtyGetStore=()=>this.checkLaplace()?this.laplace.doNotUseDirtyGetStore():(console.warn("Logger has not been enabled or initialized."),{byTag:{},byTime:new Map}),this.trackingId=yU()}}Er.agentInstance=void 0;const DU=Er.getInstance(),MU=[{type:"MediaMeta",methods:["sendUserNodeList","updateUserMediaSN","updateMediaParams","subscribeToQos","unsubscribeFromQos","sendUserAudioStatus","destroy","createMainSessionChannel","notifySDKMeetingReady"]},{type:"Audio",methods:["joinComputerAudio","leaveComputerAudio","joinSharingAudio","leaveSharingAudio","changeSpeaker","changeMicrophone","enableAudioEncode","pauseOrResumeAudio","setSharingAudioVolume","enableShareAudioToBreakoutRoom","enableAudioDenoise","enableSyncButtonsOnHeadset","stopAllIncomingAudio","preInitAudioBridge","setAudioCodecMode","muteOrUnmuteOtherAudio","adjustOtherAudioVolume","changeAudioProfile","unmuteAudio","muteAudio"]},{type:"Video",methods:["startCaptureVideo","stopCaptureVideo","renderVideo","stopRenderVideo","changeCamera","updateRenderedVideoCanvasDimension","adjustRenderedVideoPosition","mirrorVideo","enableHardwareAccelerationForVideoDecode","enableHardwareAccelerationForVideoEncode","startVirtualBackgroundSetting","updateVirtualBackgroundImage","stopVirtualBackgroundSetting","startMaskSetting","updateMaskBackgroundImage","updateMaskClip","stopMaskSetting","enableVideoObserver","prefetchVideoSsrc","cancelPrefetchVideoSsrc","setMobileRotateMode","changeActiveVideoSsrc","updateVideoHDValue","updateVideoFullhdValue","clearVideoCanvas"]},{type:"Sharing",methods:["stopDesktopSharing","startDesktopSharing","pauseDesktopSharing","resumeDesktopSharing","renderSharing","stopRenderSharing","switchSharingSource","ajustmentReceivedSharingCanvas","changeSharingSecondCamera","updateRenderedSharingDimension","addReceivedSharingChannelType","removeReceivedSharingChannelType","switchSharingMode","ajustmentSharingCanvas"]},{type:"RemoteControl",methods:["startRemoteControl","stopRemoteControl","resendRemoteControlPositionPDU","updateRemoteControlProperties","ajustmentReceivedSharingCanvas","startRemoteControlQRCheck"]},{type:"LiveTranscription",methods:["selectLanguageChannelForNewLTT"]},{type:"RemoteCamera",methods:["movePTZCamera"]}].reduce((e,t)=>{const{type:n,methods:r}=t;return[...e,...r.map(a=>({name:a,type:n}))]},[]),a3=MU.map(e=>e.name),s3=function(e){const t=MU.find(s=>s.name===e);if(t){const{type:s}=t;for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];const l=r==null?void 0:r.map(d=>Im(d));DU.makeLogger([s,`${s} Media SDK`]).info(`${e},params:${JSON.stringify(l)}`)}};function Ar(e){return new Proxy(e,{get:(t,n)=>typeof n=="string"&&a3.includes(n)?function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];try{Reflect.apply(s3,void 0,[n,...a])}catch{}return Reflect.apply(Reflect.get(t,n),t,a)}:Reflect.get(t,n)})}const pm=Er.getInstance().makeLogger(["Remote Control"]),u3=Ar(qe.getInstance());function nd(e,t,n,r){let{share:{activeNodeId:a,shareQuality:s}}=t;const{share:{isReceiveSharingFromMainSession:l}}=t;n&&(a=n),r!==void 0&&(s=r);const d=gU(t);e.subscribeSharing(a,s,l,d)}class kU{constructor(){this.checkerSubject=void 0,this.checkerSubscription=void 0}startCheck(t){return this.checkerSubject&&this.stopCheck(),this.checkerSubject=new Ti,this.checkerSubscription=On(t).subscribe(this.checkerSubject),this.checkerSubject}stopCheck(){var t;this.checkerSubject&&(this.checkerSubject.complete(),(t=this.checkerSubscription)===null||t===void 0||t.unsubscribe(),this.checkerSubject=void 0)}}const NU=new kU,LU=new kU;function tf(){return NU.stopCheck()}function mE(){return LU.stopCheck()}function Ag(e,t){tf(),mE();const{share:{remoteControllingSsrc:n},meeting:{userId:r}}=e;n&&(PU(),t.takeBackRemoteControlPermission(r,n))}async function dI(e,t,n,r,a){const{share:{isSDKGrabControl:s,isGrabRemoteControl:l}}=n;l||(r.subscribeGrabRemoteControl(e,!0),await or(It(_u,1).pipe(oe(f=>!!f))));const d=CH(n);d&&(s?(a.resendRemoteControlPositionPDU(),a.updateRemoteControlProperties({os:d.os,isControllerNow:!0,dimension:t&&lE(t)})):t&&a.startRemoteControl(t,d.os,lE(t)))}function PU(){pm.log("qr scanning stop"),u3.startRemoteControlQRCheck(!1)}const Ui=at.createAgent(),Zn=Ar(qe.getInstance()),Qo=at.createAgent(),Zo=Ar(qe.getInstance());function zi(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(a){return"'"+a+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function rd(e){return!!e&&!!e[ii]}function Au(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var a=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return a===Object||typeof a=="function"&&Function.toString.call(a)===p3}(e)||Array.isArray(e)||!!e[vI]||!!(!((t=e.constructor)===null||t===void 0)&&t[vI])||ZA(e)||JA(e))}function Pf(e,t,n){n===void 0&&(n=!1),Sd(e)===0?(n?Object.keys:nC)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,a){return t(a,r,e)})}function Sd(e){var t=e[ii];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:ZA(e)?2:JA(e)?3:0}function gE(e,t){return Sd(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function UU(e,t,n){var r=Sd(e);r===2?e.set(t,n):r===3?(e.delete(t),e.add(n)):e[t]=n}function ZA(e){return c3&&e instanceof Map}function JA(e){return f3&&e instanceof Set}function nu(e){return e.o||e.t}function YA(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=h3(e);delete t[ii];for(var n=nC(t),r=0;r<n.length;r++){var a=n[r],s=t[a];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function XA(e,t){return t===void 0&&(t=!1),eC(e)||rd(e)||!Au(e)||(Sd(e)>1&&(e.set=e.add=e.clear=e.delete=l3),Object.freeze(e),t&&Pf(e,function(n,r){return XA(r,!0)},!0)),e}function l3(){zi(2)}function eC(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Eo(e){var t=m3[e];return t||zi(18,e),t}function cI(){return Uf}function FS(e,t){t&&(Eo("Patches"),e.u=[],e.s=[],e.v=t)}function Cg(e){yE(e),e.p.forEach(d3),e.p=null}function yE(e){e===Uf&&(Uf=e.l)}function fI(e){return Uf={p:[],l:Uf,h:e,m:!0,_:0}}function d3(e){var t=e[ii];t.i===0||t.i===1?t.j():t.O=!0}function GS(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.g||Eo("ES5").S(t,e,r),r?(n[ii].P&&(Cg(t),zi(4)),Au(e)&&(e=wg(t,e),t.l||Og(t,e)),t.u&&Eo("Patches").M(n[ii].t,e,t.u,t.s)):e=wg(t,n,[]),Cg(t),t.u&&t.v(t.u,t.s),e!==VU?e:void 0}function wg(e,t,n){if(eC(t))return t;var r=t[ii];if(!r)return Pf(t,function(s,l){return pI(e,r,t,s,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return Og(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var a=r.i===4||r.i===5?r.o=YA(r.k):r.o;Pf(r.i===3?new Set(a):a,function(s,l){return pI(e,r,a,s,l,n)}),Og(e,a,!1),n&&e.u&&Eo("Patches").R(r,n,e.u,e.s)}return r.o}function pI(e,t,n,r,a,s){if(rd(a)){var l=wg(e,a,s&&t&&t.i!==3&&!gE(t.D,r)?s.concat(r):void 0);if(UU(n,r,l),!rd(l))return;e.m=!1}if(Au(a)&&!eC(a)){if(!e.h.F&&e._<1)return;wg(e,a),t&&t.A.l||Og(e,a)}}function Og(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&XA(t,n)}function qS(e,t){var n=e[ii];return(n?nu(n):e)[t]}function hI(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function vE(e){e.P||(e.P=!0,e.l&&vE(e.l))}function $S(e){e.o||(e.o=YA(e.t))}function SE(e,t,n){var r=ZA(t)?Eo("MapSet").N(t,n):JA(t)?Eo("MapSet").T(t,n):e.g?function(a,s){var l=Array.isArray(a),d={i:l?1:0,A:s?s.A:cI(),P:!1,I:!1,D:{},l:s,t:a,k:null,o:null,j:null,C:!1},f=d,p=bE;l&&(f=[d],p=nf);var h=Proxy.revocable(f,p),g=h.revoke,v=h.proxy;return d.k=v,d.j=g,v}(t,n):Eo("ES5").J(t,n);return(n?n.A:cI()).p.push(r),r}function mI(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return YA(e)}var gI,Uf,tC=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",c3=typeof Map<"u",f3=typeof Set<"u",yI=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",VU=tC?Symbol.for("immer-nothing"):((gI={})["immer-nothing"]=!0,gI),vI=tC?Symbol.for("immer-draftable"):"__$immer_draftable",ii=tC?Symbol.for("immer-state"):"__$immer_state",p3=""+Object.prototype.constructor,nC=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,h3=Object.getOwnPropertyDescriptors||function(e){var t={};return nC(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},m3={},bE={get:function(e,t){if(t===ii)return e;var n=nu(e);if(!gE(n,t))return function(a,s,l){var d,f=hI(s,l);return f?"value"in f?f.value:(d=f.get)===null||d===void 0?void 0:d.call(a.k):void 0}(e,n,t);var r=n[t];return e.I||!Au(r)?r:r===qS(e.t,t)?($S(e),e.o[t]=SE(e.A.h,r,e)):r},has:function(e,t){return t in nu(e)},ownKeys:function(e){return Reflect.ownKeys(nu(e))},set:function(e,t,n){var r=hI(nu(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var a=qS(nu(e),t),s=a==null?void 0:a[ii];if(s&&s.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(function(l,d){return l===d?l!==0||1/l==1/d:l!=l&&d!=d}(n,a)&&(n!==void 0||gE(e.t,t)))return!0;$S(e),vE(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return qS(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,$S(e),vE(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=nu(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){zi(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){zi(12)}},nf={};Pf(bE,function(e,t){nf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),nf.deleteProperty=function(e,t){return nf.set.call(this,e,t,void 0)},nf.set=function(e,t,n){return bE.set.call(this,e[0],t,n,e[0])};var g3=function(){function e(n){var r=this;this.g=yI,this.F=!0,this.produce=function(a,s,l){if(typeof a=="function"&&typeof s!="function"){var d=s;s=a;var f=r;return function(_){var E=this;_===void 0&&(_=d);for(var A=arguments.length,w=Array(A>1?A-1:0),O=1;O<A;O++)w[O-1]=arguments[O];return f.produce(_,function(I){var V;return(V=s).call.apply(V,[E,I].concat(w))})}}var p;if(typeof s!="function"&&zi(6),l!==void 0&&typeof l!="function"&&zi(7),Au(a)){var h=fI(r),g=SE(r,a,void 0),v=!0;try{p=s(g),v=!1}finally{v?Cg(h):yE(h)}return typeof Promise<"u"&&p instanceof Promise?p.then(function(_){return FS(h,l),GS(_,h)},function(_){throw Cg(h),_}):(FS(h,l),GS(p,h))}if(!a||typeof a!="object"){if((p=s(a))===void 0&&(p=a),p===VU&&(p=void 0),r.F&&XA(p,!0),l){var S=[],b=[];Eo("Patches").M(a,p,S,b),l(S,b)}return p}zi(21,a)},this.produceWithPatches=function(a,s){if(typeof a=="function")return function(p){for(var h=arguments.length,g=Array(h>1?h-1:0),v=1;v<h;v++)g[v-1]=arguments[v];return r.produceWithPatches(p,function(S){return a.apply(void 0,[S].concat(g))})};var l,d,f=r.produce(a,s,function(p,h){l=p,d=h});return typeof Promise<"u"&&f instanceof Promise?f.then(function(p){return[p,l,d]}):[f,l,d]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Au(n)||zi(8),rd(n)&&(n=function(s){return rd(s)||zi(22,s),function l(d){if(!Au(d))return d;var f,p=d[ii],h=Sd(d);if(p){if(!p.P&&(p.i<4||!Eo("ES5").K(p)))return p.t;p.I=!0,f=mI(d,h),p.I=!1}else f=mI(d,h);return Pf(f,function(g,v){p&&function(S,b){return Sd(S)===2?S.get(b):S[b]}(p.t,g)===v||UU(f,g,l(v))}),h===3?new Set(f):f}(s)}(n));var r=fI(this),a=SE(this,n,void 0);return a[ii].C=!0,yE(r),a},t.finishDraft=function(n,r){var a=(n&&n[ii]).A;return FS(a,r),GS(void 0,a)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!yI&&zi(20),this.g=n},t.applyPatches=function(n,r){var a;for(a=r.length-1;a>=0;a--){var s=r[a];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}a>-1&&(r=r.slice(a+1));var l=Eo("Patches").$;return rd(n)?l(n,r):this.produce(n,function(d){return l(d,r)})},e}(),Wr=new g3,B=Wr.produce;Wr.produceWithPatches.bind(Wr),Wr.setAutoFreeze.bind(Wr),Wr.setUseProxies.bind(Wr),Wr.applyPatches.bind(Wr),Wr.createDraft.bind(Wr),Wr.finishDraft.bind(Wr);const SI={ssrc:0,status:rt.End,shareDimension:{width:0,height:0},receivedShareDimension:{width:1920,height:1080,logicWidth:1920,logicHeight:1080},sharePrivilege:Jr.OnlyHost,activeNodeId:0,activeSsrc:0,shareQuality:1,isRemoteSharingActive:!1,isReceiveSharing:!1,isGrabRemoteControl:!1,isSDKGrabControl:!1,isChromeExtensionInstalled:!1,isScreenShareForbidden:!1,isReceiveSharingFromMainSession:!1,isSharingToBreakoutRoom:!1,isSharingWithSecondCamera:!1,secondCameraId:"default",isRequireReadReceipt:!1,capturedEnsuredCanvas:[],renderedEnsuredCanvas:[],remoteControllingSsrc:0,remoteControlApprovedSsrc:0,remoteControlAppDownloadUrl:"",remoteControlAppInstallStatus:Bn.Unknown,isEnableAutoDeleteRcApp:!1,remoteControlledUserList:[],isRemoteControlEnabled:!1,isFullHDVideoShareEnabled:!1,userSsrcMapping:{},statistic:{encode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0},decode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0}}},y3=br({[`${RA}`]:B((e,t)=>{let{payload:n}=t;e.sharePrivilege=n}),[`${eg}`]:B((e,t)=>{let{payload:n}=t;e.isRemoteSharingActive=n.bStatus===1,e.activeNodeId=n.activeNodeID,e.activeSsrc=n.ssrc}),[`${tg}`]:B((e,t)=>{let{payload:n}=t;e.isReceiveSharing=n}),[`${BL}`]:B((e,t)=>{let{payload:n}=t;e.isChromeExtensionInstalled=n}),[`${xL}`]:B((e,t)=>{let{payload:n}=t;e.shareDimension={...n}}),[`${ti}`]:B((e,t)=>{let{payload:n}=t;e.status=n}),[`${HL}`]:B((e,t)=>{let{payload:n}=t;e.ssrc=n}),[`${IA}`]:B((e,t)=>{let{payload:n}=t;e.shareQuality=n}),[`${V_}`]:B((e,t)=>{let{payload:n}=t;e.receivedShareDimension={...n}}),[`${QL}`]:B((e,t)=>{let{payload:n}=t;e.remoteControlledUserList.includes(n)||e.remoteControlledUserList.push(n)}),[`${H_}`]:B((e,t)=>{let{payload:n}=t;const r=e.remoteControlledUserList.indexOf(n);r>=0&&e.remoteControlledUserList.splice(r,1)}),[`${rm}`]:B((e,t)=>{let{payload:n}=t;e.isGrabRemoteControl=n,n===!1&&(e.remoteControlViewportDomSelector=void 0)}),[`${j_}`]:B((e,t)=>{let{payload:n}=t;e.isSDKGrabControl=n}),[`${zL}`]:B((e,t)=>{let{payload:n}=t;e.isReceiveSharingFromMainSession=n}),[`${Xc}`]:B((e,t)=>{let{payload:n}=t;e.isSharingToBreakoutRoom=n}),[`${FL}`]:B((e,t)=>{let{payload:n}=t;e.isSharingWithSecondCamera=n}),[`${GL}`]:B((e,t)=>{let{payload:n}=t;e.secondCameraId=n}),[`${qL}`]:B((e,t)=>{let{payload:n}=t;e.isRequireReadReceipt=n}),[`${ng}`]:B((e,t)=>{let{payload:n}=t;e.isOptimizedForSharedVideo=n}),[`${B_}`]:B((e,t)=>{let{payload:n}=t;e.statistic.encode=n.data}),[`${Df}`]:B((e,t)=>{let{payload:n}=t;e.statistic.decode=n.data}),[`${$L}`]:B((e,t)=>{let{payload:n}=t;e.capturedEnsuredCanvas.includes(n)||e.capturedEnsuredCanvas.push(n)}),[`${KL}`]:B((e,t)=>{let{payload:n}=t;e.renderedEnsuredCanvas.includes(n)||e.renderedEnsuredCanvas.push(n)}),[`${pf}`]:B((e,t)=>{let{payload:n}=t;e.remoteControllingSsrc=n}),[`${Yl}`]:B((e,t)=>{let{payload:n}=t;e.remoteControlApprovedSsrc=n}),[`${WL}`]:B((e,t)=>{let{payload:n}=t;e.remoteControlAppDownloadUrl=n}),[`${au}`]:B((e,t)=>{let{payload:n}=t;(e.remoteControlAppInstallStatus!==Bn.Installed||Bn.Unknown)&&(e.remoteControlAppInstallStatus=n)}),[`${vo}`]:B((e,t)=>{let{payload:n}=t;e.remoteControlAppLaunchSheme=n}),[`${x_}`]:B((e,t)=>{let{payload:n}=t;const{userId:r,ssrc:a}=n;Object.assign(e.userSsrcMapping,{[`${r}`]:a})}),[`${DA}`]:B((e,t)=>{let{payload:n}=t;Object.assign(e,n)}),[`${ZL}`]:B((e,t)=>{let{payload:n}=t;e.remoteControlViewportDomSelector=n}),[`${JL}`]:B((e,t)=>{let{payload:n}=t;e.isFullHDVideoShareEnabled=n}),[`${YL}`]:()=>({...SI})},SI),v3={remoteControlEpics0:e=>e.pipe(ke(`${Di}`),Ae(t=>{const{payload:{meetingOptions:n,rcAutoDelete:r,jwtRc:a,opRc:s}}=t,l=(n==null?void 0:n.isRemoteControlEnbaled)&&s&&a===1;return DA({isRemoteControlEnabled:l,isEnableAutoDeleteRcApp:r===1})})),remoteControlEpics1:(e,t)=>Ce(e,16391).pipe(ue(n=>{const{payload:{body:{bOn:r,sendID:a,receiveID:s}}}=n,{meeting:{userId:l},share:{status:d,activeNodeId:f,isGrabRemoteControl:p}}=t.value,h=[];if(d===rt.End&&h.push(pf(0)),d!==rt.End)if(Nr(l,a))if(r){tf(),mE(),d===rt.Paused&&(Qo.resumeSharing(),Zo.resumeDesktopSharing(),h.push(ti(rt.Sharing))),h.push(pf(s));const v=kt(t.value).find(S=>Nr(S.userId,s));v&&h.push(x_({userId:v.userId,ssrc:s}))}else h.push(pf(0));else{var g;const v=(g=kt(t.value))===null||g===void 0?void 0:g.find(S=>Nr(S.userId,a));v&&(h.push(x_({userId:v.userId,ssrc:a})),k(xN,{userId:v.userId,displayName:v.displayName,isSharingEntireScreen:Zo.isSharingEntireScreen()}))}else if(!s||Nr(s,l)){const v=Ve(t.value);if(!Sn(v.userRole)&&!Me.isAndroidOrIOSBrowser){const S=a&&Nr(f,a);r?(h.push(QL(f)),S&&(p||Qo.subscribeGrabRemoteControl(f,!0))):(h.push(H_(f)),S&&(p&&(Qo.subscribeGrabRemoteControl(f,!1),h.push(rm(!1)),k(_u,!1)),Zo.updateRemoteControlProperties({isControllerNow:!1}))),k(Km,r)}}return ve(h)})),remoteControlEpics2:(e,t)=>Ce(e,16395).pipe(Ie(t),oe(n=>{let[r,a]=n;return r.payload.body.id===a.meeting.userId}),Ae(n=>{let[r]=n;const{payload:{body:{bOn:a}}}=r;return Zo.updateRemoteControlProperties({isControllerNow:a}),k(_u,a),rm(a)})),remoteControlEpics3:e=>$e(e,[ce.StartRemoteControlSuccess,ce.StartRemoteControlFailed,ce.CancelRemoteControlSuccess]).pipe(ku(t=>t.payload.type===ce.StartRemoteControlSuccess?(k(UN),j_(!0)):t.payload.type===ce.CancelRemoteControlSuccess?j_(!1):void(t.payload.type===ce.StartRemoteControlFailed&&k(VN)))),remoteControlEpics4:e=>$e(e,[ce.RemoteControlCopiedTextNotify,ce.RemoteControlPasteTextLengthOverflow]).pipe(De(t=>{if(t.payload.type===ce.RemoteControlCopiedTextNotify){const{payload:{data:n}}=t;k(S_,{content:n.data,x:n.x,y:n.y})}else k(S_,{error:"length of pasted text is too long"})}),je(_e)),remoteControlEpics5:(e,t)=>Ce(e,4342).pipe(oe(n=>n.payload.body.result===0),ue(n=>{const{payload:{body:{downloadUrl:r,ssrc:a,urlScheme:s}}}=n,{share:{remoteControlApprovedSsrc:l,status:d}}=t.value,f=[],{isMacOS:p}=Me;if(d!==rt.End){if(!l||l===a){tf();try{const b=JSON.parse(r||"{}"),_=p?b.macDownloadUrl:b.winDownloadUrl;f.push(WL(_))}catch(b){console.warn("unsupported JSON string",b)}}const h={};p||Object.assign(h,{runAsAdmin:1});const g=kt(t.value).find(b=>Nr(b.userId,a));g&&Object.assign(h,{controllerName:Wt(g.displayName)}),Object.assign(h,{ssrc:a});const{deviceId:v}=Zo.getShareStreamInfo();v&&Object.assign(h,{DeviceID:v});const S=`${s}&${new URLSearchParams(h).toString()}`;f.push(vo(S),au(Bn.Unknown)),k(HN,S)}return ve(f)})),remoteControlEpics6:e=>e.pipe(ke(`${WR}`),ue(()=>NU.startCheck(1e4).pipe(Ae(()=>(k(Ys,Bn.Unknown),au(Bn.Unknown)))))),remoteControlEpics7:(e,t)=>e.pipe(ke(`${MS}`),oe(()=>{const{share:{remoteControlAppInstallStatus:n}}=t.value;return n===Bn.Installed}),ue(()=>LU.startCheck(6e4).pipe(ue(()=>{k(Ys,zm.Unlaunched);const{share:{remoteControlApprovedSsrc:n,isEnableAutoDeleteRcApp:r},meeting:{userId:a}}=t.value,s=[],{isMacOS:l}=Me;return n&&(Qo.remoteControlConsent(Hm.CacheClean,n,a,{...Zo.getShareStreamInfo(),platform:l?"mac":"win"},r),s.push(vo(""),Yl(0))),ve(s)})))),remoteControlEpics8:(e,t)=>e.pipe(ke(`${vo}`),oe(n=>!!n.payload),ue(n=>{const{payload:r}=n,a=[];let s;if(r){(function(d){if(!d.startsWith("zoomprc://"))return;const f=sa("__ZOOM_SDK_RC_APP_SCHEME_@__");let p=document.getElementById(f);p||(p=document.createElement("iframe"),p.id=f,p.style.display="none",document.body.appendChild(p)),p.contentWindow.location.href=d})(r),a.push(MS());const l=performance.now();document.hasFocus()?s=du(25).pipe(cu(()=>{const d=performance.now()-l<500;return d||k(Ys,Bn.Uninstalled),d&&t.value.share.remoteControlAppInstallStatus===Bn.Unknown}),it(()=>{const d=performance.now()-l,f=[];return document.hasFocus()||(d>75?f.push(WR()):tf(),k(Ys,Bn.Installed),f.push(au(Bn.Installed),MS())),ve(f)}),function(){for(var d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];return function(p){return ld(p,yt.apply(void 0,Co([],Wi(d))))}}(au(Bn.Uninstalled))):(k(Ys,Bn.Unknown),a.push(au(Bn.Unknown)))}return s?vn(s,ve(a)):ve(a)})),remoteControlEpics9:(e,t)=>Ce(e,t_).pipe(ue(()=>(k(em,TS.Ended),Ag(t.value,Qo),ve([vo(""),Yl(0)])))),remoteControlEpics10:(e,t)=>e.pipe(ke(`${ti}`),oe(n=>{const{share:{remoteControllingSsrc:r,remoteControlApprovedSsrc:a}}=t.value;return!(n.payload!==rt.End||!r&&!a)}),De(()=>{const{share:{remoteControllingSsrc:n,remoteControlApprovedSsrc:r,isEnableAutoDeleteRcApp:a},meeting:{userId:s}}=t.value,{isMacOS:l}=Me;n&&Ag(t.value,Qo),r!==n&&Qo.remoteControlConsent(Hm.Decline,r,s,{...Zo.getShareStreamInfo(),platform:l?"mac":"win"},a)}),je(_e)),remoteControlEpics11:(e,t)=>Ce(e,16430).pipe(ue(()=>(tf(),mE(),k(Ys,zm.Launched),t.value.share.status!==rt.End&&function(n,r){(async function(a){const{media:{assetsPath:s}}=a,l=`${s}/qrscanner.min.js`;return"WebQrscanner"in window?Promise.resolve(""):new Promise((d,f)=>{pm.log(`load qr scanner script start. url:${l}`),FA(l,()=>{pm.log("load qr scanner script done."),d("")},f)})})(n).then(()=>{pm.log("qr scanning start"),r.startRemoteControlQRCheck(!0)})}(t.value,Zo),ve([vo(""),Yl(0)])))),remoteControlEpics12:e=>$e(e,ce.CurrentDesktopSharingWidthHeight).pipe(De(()=>{Qo.syncSharedContentMetaWithRcApp(Zo.getShareStreamInfo())}),je(_e)),remoteControlEpics13:(e,t)=>$e(e,ce.SendRemoteControlQrCode).pipe(De(n=>{const{payload:{data:r}}=n,{share:{status:a}}=t.value;a!==rt.End&&Array.isArray(r)&&r.length>0&&r.forEach(s=>{s!=null&&s.startsWith("zrc_")&&Qo.sendRemoteControlAuth(s)})}),je(_e)),remoteControlEpics14:e=>Ce(e,16434).pipe(De(t=>{const{payload:{body:{result:n}}}=t;n===0&&(PU(),k(em,TS.Started))}),je(_e)),remoteControlEpics15:(e,t)=>Ce(e,Pt).pipe(oe(n=>{var r,a;const{meeting:{userId:s},share:{remoteControlledUserList:l}}=t.value,{payload:{body:d}}=n;return l.length>0&&(((r=d.update)===null||r===void 0?void 0:r.some(f=>f.id!==s&&f.bShareOn===!1))||((a=d.remove)===null||a===void 0?void 0:a.some(f=>f.id!==s)))}),ue(n=>{var r,a,s,l;const{payload:{body:d}}=n,{share:{remoteControlledUserList:f,activeNodeId:p,isGrabRemoteControl:h},meeting:{userId:g}}=t.value,v=((r=(a=d.update)===null||a===void 0?void 0:a.filter(b=>b.id!==g&&b.bShareOn===!1))!==null&&r!==void 0?r:[]).concat((s=(l=d.remove)===null||l===void 0?void 0:l.filter(b=>b.id!==g))!==null&&s!==void 0?s:[]),S=[];return f.forEach(b=>{v.find(_=>_.id===b)&&(S.push(H_(b)),b===p&&h&&(S.push(rm(!1)),k(_u,!1)))}),ve(S)})),remoteControlEpics16:(e,t)=>e.pipe(ke(`${rr}`),De(()=>{const{share:{remoteControllingSsrc:n,status:r}}=t.value;r===rt.Sharing&&n&&k(em,TS.Ended)}),je(_e))},S3={epics0:(e,t)=>Ce(e,ri).pipe(oe(n=>{var r;return((r=n.payload.body)===null||r===void 0?void 0:r.lockShare)!==void 0}),Ie(t),De(n=>{let[r,a]=n;const{share:{sharePrivilege:s}}=a,{payload:{body:{lockShare:l}}}=r;s!==l&&k(jN,l)}),Ae(n=>{let[r]=n;return RA(r.payload.body.lockShare)})),epics1:e=>Ce(e,20227).pipe(Ae(t=>HL(t.payload.body.ssrc))),epics2:(e,t)=>Ce(e,Xb).pipe(Ie(t),oe(n=>{let[r,a]=n;const{payload:{body:s}}=r,{share:{isReceiveSharingFromMainSession:l}}=a;return!l||l&&s.fromMainSession}),Ae(n=>{let[r,a]=n;const{share:{isReceiveSharing:s,activeNodeId:l,isReceiveSharingFromMainSession:d},breakoutRoom:f}=a,{payload:{body:p}}=r;if(s&&p.bStatus===1){let h=!1;(f==null?void 0:f.currentRoom.status)===Ue.InRoom&&f.mainSessionAttendeeList.length>0&&(h=f.mainSessionAttendeeList.findIndex(g=>g.userId===l)>-1),Ui.unsubscribeSharing(l,h),nd(Ui,a,p.activeNodeID),Zn.switchSharingSource(p.ssrc,d),k($m,{userId:p.activeNodeID})}else if(p.bStatus===1){const h={activeUserId:p.activeNodeID,isActive:!0};d&&Object.assign(h,{isFromMainSession:!0}),k(y_,h)}else if(s){const h={activeUserId:p.activeNodeID,isActive:!1};d&&Object.assign(h,{isFromMainSession:!0}),k(y_,h)}return eg(p)})),epics3:e=>$e(e,ce.CheckChromeSharingExtensionResponse).pipe(Ae(t=>(k(v_,t.payload.data),BL(t.payload.data)))),epics4:(e,t)=>$e(e,[ce.SharingDesktopStreamHaveAudio,ce.SharingDesktopStreamHaveNoAudio]).pipe(Ie(t),Ae(n=>{let[r,a]=n;const{meeting:{userId:s},share:{isSharingToBreakoutRoom:l,isOptimizedForSharedVideo:d}}=a,{payload:{type:f}}=r,p=f===ce.SharingDesktopStreamHaveAudio;return Ui.startSharing(s,{bShareToBO:l,bShareAudio:p,bShareVideo:!!d}),Zn.switchSharingMode(d?cf.VideoMode:cf.Normal),KR(!1)})),epics5:e=>$e(e,[ce.DesktopSharingError,ce.DesktopSharingChromeExtensionUninstalled,ce.DesktopSharingPermissionDenied,ce.DesktopSharingSystemError]).pipe(ue(t=>{const n=[];let r="";return[ce.DesktopSharingPermissionDenied,ce.DesktopSharingSystemError].includes(t.payload.type)&&(n.push(KR(!0)),t.payload.type===ce.DesktopSharingSystemError?Me.isMacOS&&(r="To use screen share on Chrome, please allow screen recording access in system setting."):r="To use screen share, please allow the permission request."),k(IN,{reason:r}),ve(n)})),epics6:e=>$e(e,ce.CurrentDesktopSharingWidthHeight).pipe(oe(t=>!!t.payload.data),Ae(t=>{k(DN,t.payload.data);const{payload:{data:{width:n,height:r}}}=t;return Zn.ajustmentSharingCanvas(n,r),xL(t.payload.data)})),epics7:(e,t)=>$e(e,ce.SharingDecodeMaxSize).pipe(oe(n=>!!n.payload.data),Ie(t),ku(n=>{let[r,a]=n;const{share:{shareQuality:s,activeNodeId:l}}=a,{payload:{data:{fps:d}}}=r,f=Number(d);if(s!==f)return nd(Ui,a,l,f),IA(f)})),epics8:e=>Ce(e,20226).pipe(De(t=>{var n,r;if(k(qm,(n=t.payload)===null||n===void 0?void 0:n.body),(r=t.payload)!==null&&r!==void 0&&r.body){const{payload:{body:{width:a,height:s}}}=t;Zn.ajustmentReceivedSharingCanvas(a,s)}}),Ae(t=>V_(t.payload.body))),epics9:e=>$e(e,ce.SharingPara).pipe(De(t=>{var n,r;if(k(qm,(n=t.payload.data)===null||n===void 0?void 0:n.body),(r=t.payload.data)!==null&&r!==void 0&&r.body){const{payload:{data:{body:{width:a,height:s}}}}=t;Zn.ajustmentReceivedSharingCanvas(a,s)}}),Ae(t=>{var n;return V_((n=t.payload.data)===null||n===void 0?void 0:n.body)})),epics10:(e,t)=>$e(e,ce.UserStopDesktopSharing).pipe(Ie(t),Ae(n=>{let[,r]=n;const{meeting:{userId:a},share:{status:s}}=r;return s!==rt.End&&(Ui.stopSharing(a),Zn.stopDesktopSharing(),k(MN)),ti(rt.End)})),epics11:(e,t)=>Ce(e,Pt).pipe(Ie(t),oe(n=>{let[r,a]=n;const{meeting:{userId:s}}=a,l=r.payload.body.update;return l&&l.length>0&&l.findIndex(d=>d.id===s&&d.bShareOn!==void 0)>-1}),ue(n=>{let[r,a]=n;const{meeting:{userId:s},share:{status:l,isReceiveSharing:d,activeNodeId:f}}=a,{payload:{body:{update:p}}}=r,h=p.find(S=>S.id===s&&S.bShareOn===!1),g=p.find(S=>S.id===s&&S.bShareOn===!0),v=[];return h&&l!==rt.End&&(Ui.stopSharing(s),Zn.stopDesktopSharing(),v.push(ti(rt.End)),k(kN)),g&&l===rt.End&&(d&&(Zn.stopRenderSharing(),Ui.unsubscribeSharing(f),v.push(tg(!1))),v.push(ti(rt.Sharing))),ve(v)})),epics12:(e,t)=>Ce(e,Pt).pipe(Ie(t),oe(n=>{let[r,a]=n;const{meeting:{userId:s}}=a,l=r.payload.body.update;return l&&l.length>0&&l.findIndex(d=>d.id!==s&&d.bShareOn!==void 0)>-1}),ue(n=>{let[r,a]=n;const{payload:{body:{update:s}}}=r,{share:{activeNodeId:l,isReceiveSharing:d}}=a,f=mu(a),p=s.filter(v=>v.bShareOn===!0&&v.bSharePause===!1),h=s.filter(v=>v.bShareOn===!0&&v.bSharePause===!0),g=s.filter(v=>v.bShareOn===!1);return p.length>0&&p.forEach(v=>{f.findIndex(S=>S.userId===v.id)===-1?k(vA,v):k(PN,v)}),h.length>0&&h.forEach(v=>{k(LN,v)}),g.length>0&&(g.forEach(v=>{k(SA,v)}),d&&g.some(v=>v.id===l))?Ri(Ce(e,Xb).pipe(ut(1),je(_e)),On(50).pipe(je(lu("timeout")))).pipe(qi(()=>{const{share:{activeNodeId:v,isReceiveSharingFromMainSession:S},audio:b}=t.value,_=f.filter(E=>E.userId!==v);if(_.length>0){const E=_[0],{userId:A}=E;return Ui.unsubscribeSharing(v,S),nd(Ui,t.value,A),Zn.switchSharingSource(A,S),b==null||b.localShareAudioUserMutedList.forEach(w=>{Zn.setSharingAudioVolume(A,w.userId!==A||w.muted,w.isFromMainSession)}),k($m,{userId:A}),yt(eg({activeNodeID:A,bStatus:1,ssrc:A}))}return _e})):_e})),epics13:(e,t)=>Ce(e,dA).pipe(Ie(t),it(n=>{let[r,a]=n;const{payload:{body:{encryptKey:s,additionalType:l}}}=r,{media:{sharingDecodeStatus:d,sharingEncodeStatus:f},meeting:{confId:p,userId:h,zoomId:g,meetingId:v,meetingNumber:S,isWebinar:b}}=a;return Mu(t).pipe(it(_=>{let E=f;return(!Me.isSupportSendScreenSharing||b&&_&&Sn(_.userRole))&&(E="failed"),tr("sharing",E,d).pipe(De(A=>{let[w,O]=A;const I={userId:h,sn:ni(g),confId:p,encryptKey:ni(s),encryptType:l,meetingId:v,meetingNumber:S};if(w&&(Zn==null||Zn.updateMediaParams({iVType:yn.SHARING_ENCODE,isFromMainSession:!1,updateParams:I})),O){Zn.updateMediaParams({iVType:yn.SHARING_DECODE,isFromMainSession:!1,updateParams:I});const{participants:{attendeesList:V}}=t.value;if(V.length>0){const U=V.map(x=>({userid:x.userId,sn:x.zoomID&&ni(x.zoomID)}));Zn.updateUserMediaSN({added:U,isFromMainSession:!1,iVType:yn.SHARING_DECODE})}}}),je(_e))}))})),epics14:(e,t)=>Ki(e,20235).pipe(Ie(t),De(n=>{let[r,a]=n;const{media:{sharingDecodeStatus:s}}=a,{type:l,payload:{body:d}}=r,f=l===`${da}`;tr("sharing","success",s).subscribe(p=>{let[,h]=p;h&&Zn.addReceivedSharingChannelType({isFromMainSession:f,...d})})}),je(_e)),epics15:(e,t)=>Ki(e,20236).pipe(Ie(t),De(n=>{let[r,a]=n;const{media:{sharingDecodeStatus:s}}=a,{type:l,payload:{body:{ssrc:d}}}=r,f=l===`${da}`;tr("sharing","success",s).subscribe(p=>{let[,h]=p;h&&Zn.removeReceivedSharingChannelType({isFromMainSession:f,ssrc:d})})}),je(_e)),epics16:e=>$e(e,ce.SharingFirstDecodeFrameReceivedSsrc).pipe(oe(t=>!!t.payload.data),De(t=>{const{payload:{data:{ssrc:n}}}=t;Ui.sendReceivingSharingReady(n)}),je(_e)),epics17:(e,t)=>Ce(e,20233).pipe(oe(()=>!!t.value.share.isRequireReadReceipt),De(n=>{const{payload:{body:{bReceiveOk:r}}}=n;r&&k(BN)}),je(_e)),epics18:(e,t)=>Ce(e,ri).pipe(oe(n=>{var r;return((r=n.payload.body)===null||r===void 0?void 0:r.lockShare)!==void 0}),ue(n=>{const{payload:{body:{lockShare:r}}}=n,{share:{isOptimizedForSharedVideo:a,isSharingToBreakoutRoom:s},audio:{isSharingAudio:l},meeting:{userId:d}}=t.value,f=[];return r===Jr.MultipleShare&&a&&(Ui.startSharing(d,{bShareAudio:l,bShareToBO:s,bShareVideo:!1}),Zn.switchSharingMode(cf.Normal),f.push(ng(!1))),ve(f)})),epics19:(e,t)=>$e(e,ce.ShareQosData).pipe(Ie(t),Ae(n=>{var r;let[a,s]=n;const{meeting:{isWebinar:l},media:{sharingEncodeStatus:d,sharingDecodeStatus:f},share:{status:p,isReceiveSharing:h},participants:{xmppAttendeeList:g}}=s;let v=CA(s).length>0;l&&(v=v||!!g.length);const S=p!==rt.End&&d==="success"&&v,b=h&&f==="success";return(r=a.payload.data)!==null&&r!==void 0&&r.encoding?S?(k(b_,a.payload),B_(a.payload)):B_(us):b?(k(b_,a.payload),Df(a.payload)):Df(us)}))},b3=_r(S3,v3),yi=at.createAgent();let Gs,bI,ho=function(e){return e.Add="add",e.List="list",e.Remove="memberremove",e.rename="rename",e.update="UPDATE",e}({}),oa=function(e){return e.Open="open",e.Message="message",e.Error="error",e.Close="close",e}({});class Lu{constructor(){this.eventHandlers=void 0,this.websocket=void 0,this.seq=void 0,this.eventHandlers=new Map,this.websocket=null,this.seq=1}static getInstance(){return this.xmppInstance||(this.xmppInstance=new Lu),this.xmppInstance}on(t,n){let r=this.eventHandlers.get(t);r||(r=[]),r.push(n),this.eventHandlers.set(t,r)}off(t,n){const r=this.eventHandlers.get(t);if(r){const a=r.filter(s=>s!==n);this.eventHandlers.set(t,a)}}emit(t,n){const r=this.eventHandlers.get(t);r&&r instanceof Array&&r.slice(0).forEach(a=>{try{a(n)}catch(s){console.error(s)}})}sendMessageToRwg(t){this.seq+=1;const n=this.seq;return this.websocket&&this.websocket.readyState===WebSocket.OPEN&&this.websocket.send(JSON.stringify(Object.assign(t,{seq:n}))),n}connect(t){this.websocket=new WebSocket(t),this.websocket.binaryType="arraybuffer",this.addWebSocketEventListeners()}close(){var t;(t=this.websocket)===null||t===void 0||t.close()}addWebSocketEventListeners(){this.websocket&&(this.websocket.addEventListener("open",t=>{this.emit(oa.Open,t)}),this.websocket.addEventListener("message",t=>{const{data:n}=t;var r;if(n instanceof ArrayBuffer)new Uint8Array(n)[0]===0&&((r=this.websocket)===null||r===void 0||r.send(n));else try{this.emit(oa.Message,JSON.parse(n))}catch{console.warn("Unsupported format",n)}}),this.websocket.addEventListener("close",t=>{this.emit(oa.Close,t)}),this.websocket.addEventListener("error",t=>{this.emit(oa.Error,t)}))}join(t){return{seq:this.sendMessageToRwg({evt:24576,body:{clientCap:t}})}}raiseHand(){return{seq:this.sendMessageToRwg({evt:24580,body:null})}}lowerHand(t){return{seq:this.sendMessageToRwg({evt:24578,jids:t||[]})}}sendWebinarMseeage(t,n,r){const a={msg:t,jid:n?[n]:[],type:r,bcm:arguments.length>3&&arguments[3]!==void 0&&arguments[3]};return{seq:this.sendMessageToRwg({evt:24582,body:a})}}sendAnswer(t,n,r){return{seq:this.sendMessageToRwg({evt:24584,body:{question_attendeejid:n.jid,question_attendeename:n.displayName,question_text:n.questionText,question_id:n.questionId,question_anonymous:n.isAnonymous,question_time:n.questionTime,text:t,isPrivate:r}})}}answerOnline(t,n){return{seq:this.sendMessageToRwg({evt:24586,body:{question_attendeejid:t.jid,question_attendeename:t.displayName,question_text:t.questionText,question_id:t.questionId,question_anonymous:t.isAnonymous,question_time:t.questionTime,isLiveStart:n}})}}dismissQuestion(t){return{seq:this.sendMessageToRwg({evt:24590,body:{question_attendeejid:t.jid,question_attendeename:t.displayName,question_text:t.questionText,question_id:t.questionId,question_anonymous:t.isAnonymous,question_time:t.questionTime,bOpen:!1}})}}deleteQuestion(t){return{seq:this.sendMessageToRwg({evt:24614,body:{question_id:t,bDelete:!0}})}}deleteComment(t){return{seq:this.sendMessageToRwg({body:{comment_id:t,bDelete:!0},evt:24616})}}reopenQuestion(t){return{seq:this.sendMessageToRwg({body:{question_attendeejid:t.jid,question_attendeename:t.displayName,question_text:t.questionText,question_id:t.questionId,question_anonymous:t.isAnonymous,question_time:t.questionTime,bOpen:!0},evt:24590})}}askQuestion(t,n){let r=arguments.length>2&&arguments[2]!==void 0&&arguments[2],a=arguments.length>3?arguments[3]:void 0;const s=Rm();return{seq:this.sendMessageToRwg({body:{id:s,text:t,isAnonymous:r,bAllowAttendeeViewAllQuestion:a,name:n},evt:24592}),questionId:s}}upOrDownVote(t,n){return{seq:this.sendMessageToRwg({body:{question_attendeejid:t.jid,question_attendeename:t.displayName,question_text:t.questionText,question_id:t.questionId,question_anonymous:t.isAnonymous,question_time:t.questionTime,bUpVote:n},evt:24598})}}rename(t,n){return{seq:this.sendMessageToRwg({body:{jid:t,displayName:n},evt:24600})}}setSkinTome(t){return{seq:this.sendMessageToRwg({body:{skinTone:t},evt:24618})}}}Lu.xmppInstance=null;const _3=at.createAgent();let mr=null;function jU(e){switch(e.responseType){case"json":if("response"in e)return e.response;var t=e;return JSON.parse(t.responseText);case"document":return e.responseXML;default:return"response"in e?e.response:(t=e).responseText}}var E3=function(e,t,n,r){r===void 0&&(r="download_load"),this.originalEvent=e,this.xhr=t,this.request=n,this.type=r;var a=t.status,s=t.responseType;this.status=a??0,this.responseType=s??"";var l=t.getAllResponseHeaders();this.responseHeaders=l?l.split(`
`).reduce(function(p,h){var g=h.indexOf(": ");return p[h.slice(0,g)]=h.slice(g+2),p},{}):{},this.response=jU(t);var d=e.loaded,f=e.total;this.loaded=d,this.total=f},Tg=Ff(function(e){return function(t,n,r){var a;this.message=t,this.name="AjaxError",this.xhr=n,this.request=r,this.status=n.status,this.responseType=n.responseType;try{a=jU(n)}catch{a=n.responseText}this.response=a}}),A3=function(){function e(t,n){return Tg.call(this,"ajax timeout",t,n),this.name="AjaxTimeoutError",this}return e.prototype=Object.create(Tg.prototype),e}(),C3=Ae(function(e){return e.response}),za,Ei=(za=function(e){var t;return t=typeof e=="string"?{url:e}:e,new on(function(n){var r,a,s,l=rf({async:!0,crossDomain:!1,withCredentials:!1,method:"GET",timeout:0,responseType:"json"},t),d=l.queryParams,f=l.body,p=l.headers,h=l.url;if(!h)throw new TypeError("url is required");if(d)if(h.includes("?")){var g=h.split("?");if(2<g.length)throw new TypeError("invalid url");s=new URLSearchParams(g[1]),new URLSearchParams(d).forEach(function(J,re){return s.set(re,J)}),h=g[0]+"?"+s}else h=h+"?"+(s=new URLSearchParams(d));var v={};if(p)for(var S in p)p.hasOwnProperty(S)&&(v[S.toLowerCase()]=p[S]);var b=l.crossDomain;b||"x-requested-with"in v||(v["x-requested-with"]="XMLHttpRequest");var _=l.withCredentials,E=l.xsrfCookieName,A=l.xsrfHeaderName;if((_||!b)&&E&&A){var w=(a=(r=document==null?void 0:document.cookie.match(new RegExp("(^|;\\s*)("+E+")=([^;]*)")))===null||r===void 0?void 0:r.pop())!==null&&a!==void 0?a:"";w&&(v[A]=w)}var O,I=function(J,re){var M;if(!J||typeof J=="string"||function(X){return typeof FormData<"u"&&X instanceof FormData}(J)||function(X){return typeof URLSearchParams<"u"&&X instanceof URLSearchParams}(J)||function(X){return QS(X,"ArrayBuffer")}(J)||function(X){return QS(X,"File")}(J)||function(X){return QS(X,"Blob")}(J)||function(X){return typeof ReadableStream<"u"&&X instanceof ReadableStream}(J))return J;if(function(X){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(X)}(J))return J.buffer;if(typeof J=="object")return re["content-type"]=(M=re["content-type"])!==null&&M!==void 0?M:"application/json;charset=utf-8",JSON.stringify(J);throw new TypeError("Unknown body type")}(f,v),V=rf(rf({},l),{url:h,headers:v,body:I});O=t.createXHR?t.createXHR():new XMLHttpRequest;var U=t.progressSubscriber,x=t.includeDownloadProgress,$=x!==void 0&&x,W=t.includeUploadProgress,z=W!==void 0&&W,L=function(J,re){O.addEventListener(J,function(){var M,X=re();(M=U==null?void 0:U.error)===null||M===void 0||M.call(U,X),n.error(X)})};L("timeout",function(){return new A3(O,V)}),L("abort",function(){return new Tg("aborted",O,V)});var T=function(J,re){return new E3(re,O,V,J+"_"+re.type)},N=function(J,re,M){J.addEventListener(re,function(X){n.next(T(M,X))})};z&&[KS,WS,EI].forEach(function(J){return N(O.upload,J,w3)}),U&&[KS,WS].forEach(function(J){return O.upload.addEventListener(J,function(re){var M;return(M=U==null?void 0:U.next)===null||M===void 0?void 0:M.call(U,re)})}),$&&[KS,WS].forEach(function(J){return N(O,J,_I)});var F=function(J){var re="ajax error"+(J?" "+J:"");n.error(new Tg(re,O,V))};O.addEventListener("error",function(J){var re;(re=U==null?void 0:U.error)===null||re===void 0||re.call(U,J),F()}),O.addEventListener(EI,function(J){var re,M,X=O.status;if(X<400){(re=U==null?void 0:U.complete)===null||re===void 0||re.call(U);var ye=void 0;try{ye=T(_I,J)}catch(Ee){return void n.error(Ee)}n.next(ye),n.complete()}else(M=U==null?void 0:U.error)===null||M===void 0||M.call(U,J),F(X)});var P=V.user,D=V.method,K=V.async;for(var S in P?O.open(D,h,K,P,V.password):O.open(D,h,K),K&&(O.timeout=V.timeout,O.responseType=V.responseType),"withCredentials"in O&&(O.withCredentials=V.withCredentials),v)v.hasOwnProperty(S)&&O.setRequestHeader(S,v[S]);return I?O.send(I):O.send(),function(){O&&O.readyState!==4&&O.abort()}})},za.get=function(e,t){return Ei({method:"GET",url:e,headers:t})},za.post=function(e,t,n){return Ei({method:"POST",url:e,body:t,headers:n})},za.delete=function(e,t){return Ei({method:"DELETE",url:e,headers:t})},za.put=function(e,t,n){return Ei({method:"PUT",url:e,body:t,headers:n})},za.patch=function(e,t,n){return Ei({method:"PATCH",url:e,body:t,headers:n})},za.getJSON=function(e,t){return C3(Ei({method:"GET",url:e,headers:t}))},za),w3="upload",_I="download",KS="loadstart",WS="progress",EI="load",O3=Object.prototype.toString;function QS(e,t){return O3.call(e)==="[object "+t+"]"}const AI=Er.getInstance(),ZS=e=>{const{meeting:{encryptedRWC:t,encryptedGEORWC:n,discardedRwcList:r,meetingOptions:a}}=e;let s=[];return a!=null&&a.isEnableGeoFenceRWC&&n&&(n==null?void 0:n.length)>0?s=n.filter(l=>!r.includes(l.rwc)).reduce((l,d)=>{const{dl:f,rwc:p,rwcToken:h}=d,g=l.find(v=>v.dl===f);if(g)g.items.push({rwc:p,rwcToken:h});else{const v={dl:f,items:[]};v.items.push({rwc:p,rwcToken:h}),l.push(v)}return l},[]):t&&(s=[{dl:0,items:Object.keys(t).map(l=>({rwc:l,rwcToken:t[l]}))}]),s},JS=e=>vn(...e.map(t=>t.dl===0?ve(t.items):On(t.dl).pipe(ue(()=>ve(t.items))))),CI=(e,t)=>e.pipe(ke(`${aA}`),Ie(t),oe(n=>{let[,r]=n;return r.meeting.encryptedRWC!==void 0||r.meeting.encryptedGEORWC!==void 0&&r.meeting.encryptedGEORWC.length>0}),it(n=>{let[,r]=n;const{meeting:{ts:a,auth:s,meetingNumber:l,meetingOptions:d,meetingId:f,userName:p},breakoutRoom:h}=r,g=d==null?void 0:d.isEnableGeoFenceRWC,v=ZS(r);if(v.length>0){const S={serversLength:v.reduce((_,E)=>_+E.items.length,0),pingFailedServerList:[],pingRwcServerCounts:0,retryCounts:0};let b;return g&&(b=new IB,JS(v).subscribe(_=>{var E;return(E=b)===null||E===void 0?void 0:E.next(_)})),(g?b:JS(v)).pipe(cu(()=>{const{meeting:{meetingStatus:_}}=t.value,E=_===Xt.Initial&&S.pingFailedServerList.length<S.serversLength&&S.serversLength>0;return!E&&b&&b.complete(),E}),De(()=>{if(S.pingRwcServerCounts=S.pingRwcServerCounts+1,g&&S.pingRwcServerCounts===S.serversLength){const _=1e3*Math.floor(5*Math.pow(2,S.retryCounts));S.retryCounts=S.retryCounts+1,AI.makeLogger(["Join Meeting Flow"]).info(`ping rwc retry,current rwc list:${JSON.stringify(ZS(t.value))},retry counts:${S.retryCounts}, ${JSON.stringify({meetingId:f,meetingNumber:fr(l),userName:fr(p)})}`,["Ping RWC Retry"]),On(_).pipe(Ae(()=>{const E=ZS(t.value);return Object.assign(S,{serversLength:E.reduce((A,w)=>A+w.items.length,0),pingFailedServerList:[],pingRwcServerCounts:0}),E})).subscribe(E=>{JS(E).subscribe(A=>{b.next(A)})})}}),ue(_=>{const{rwc:E,rwcToken:A}=_,w=((O,I,V,U,x,$)=>{const W={ts:U,auth:x,rwcToken:V,dmz:1};return $&&Object.assign(W,{confID:$}),`https://${O}/wc/ping/${I}?${new URLSearchParams(W).toString()}`})(E,l,A,a,s,h==null?void 0:h.currentRoom.boConfId);return Ei({url:w,crossDomain:$i(w)}).pipe(ue(O=>{let I={};return I=O.response?{...O.response,rwc:E,fromNginx:!1}:{rwc:E,rwg:E,rwcToken:A,fromNginx:!0},ve([GM(I),qh()])}),qi(()=>{const{pingFailedServerList:O,serversLength:I}=S;return O.push(w),O.length===I&&(g&&b&&b.complete(),AI.report(`ping rwc error, ${JSON.stringify({meetingId:f,meetingNumber:fr(l),userName:fr(p)})}`,["Join Meeting Flow","Ping RWC Error"],"error"),k(xn,{reason:"connection error",errorCode:Mm})),_e}))}),Ii(bk(performance.now())))}return _e}));let wI=0;const T3=Er.getInstance(),YS={meetingStatus:Xt.Initial,isWindowOpen:!1,apiKey:"",signature:"",signatureType:"",lang:"en-US",tk:"",customerKey:"",mtkGuid:"",pingRWCTimestamp:0,meetingInfoTimestamp:0,passWord:"",meetingNumber:0,userName:"",userEmail:"",sdkUrl:"",sdkOrigin:"",proxy:1,cv:"",meetingId:"",tid:"",ts:"",auth:"",sign:"",isSupportCallOut:!1,tollNumbers:void 0,recordingEnable:!1,callOutCountry:void 0,inviteEmail:"",xmppConfig:null,isSupportH323:!1,h323GatewayInfo:"",h323Password:"",trackAuth:"",isOriginHost:!1,isWebinar:!1,encryptedRWC:void 0,meetingOptions:{},meetingTopic:"",bLock:!1,bHoldUponEntry:!1,viewOnly:0,listenOnlyPhone:0,bAllowRaiseHand:!1,bAllowAttendeeRename:!1,bBroadcast:void 0,bAllowPlayChimeForEnterOrExit:!1,bIbDisableShare:!1,bIbDisableChat:!1,bAllowShowCount:!1,encryptKey:"",bNoHostTimeOut:!1,confId:"",conId:"",e2eEncrypt:!1,zoomId:"",jid:"",xtoken:"",groups:void 0,svcUrl:"",encType:NaN,userGUID:"",userId:NaN,isHost:!1,isCoHost:!1,participantID:0,isOnHold:!1,isMeetingReset:!1,bRecord:!1,audioVideoBeforeOnHold:void 0,region:void 0,network:void 0,joinMeetingTimeStamp:0,activeAppInfo:void 0,recordingDisclaimerForRecorder:{},recordingDisclaimer:{},ccUrl:"",sessionIdleTimeoutMins:40,reportDomain:"",isAudioBridgeEnabled:!0,discardedRwcList:[],sharePronounType:void 0,stayAwake:!1,wrInfo:{},meetingInfo:{},isNewJoinFlow:!1,gatewayUserList:[],logConfig:"",logEncryptionPubKey:"",failover:{count:0,isCurrentFailoverRecorded:!1,reason:-1,interval:0,joinMeetingSuccessTimestamp:0}},R3=br({[`${Di}`]:B((e,t)=>{let{payload:n}=t;n.customerKey=e.customerKey||n.customerKey||"",Object.assign(e,n),e.meetingStatus=Xt.Initial}),[`${wx}`]:B((e,t)=>{let{payload:n}=t;n.customerKey=e.customerKey||n.customerKey||"",Object.assign(e,n)}),[`${Ox}`]:B((e,t)=>{let{payload:n}=t;e.isWindowOpen=n}),[`${Sk}`]:B((e,t)=>{let{payload:n}=t;n.useSDK?e.signatureType="sdk":e.signatureType="api",e.apiKey=n.apiKey,e.signature=n.signature,e.lang=n.language}),[`${Tx}`]:B((e,t)=>{let{payload:n}=t;e.ztk=n}),[`${Rx}`]:B((e,t)=>{let{payload:n}=t;e.zsk=n}),[`${Ix}`]:B((e,t)=>{let{payload:n}=t;e.tk=n.tk,e.mtkGuid=n.mtkGuid}),[`${bk}`]:B((e,t)=>{let{payload:n}=t;e.pingRWCTimestamp=n}),[`${jk}`]:B((e,t)=>{let{payload:n}=t;e.meetingInfoTimestamp=n}),[`${pa}`]:B((e,t)=>{let{payload:n}=t;e.confId=n.confID,e.conId=n.conID,e.e2eEncrypt=n.e2eEncrypt,e.meetingNumber=parseInt(n.mn,10),e.zoomId=n.zoomID,e.meetingStatus=Xt.Joined,e.jid=n.jid,e.xtoken=n.xtoken,e.groups=n.groups,e.svcUrl=n.svcUrl,e.encType=n.encType,e.userGUID=n.userGUID,e.userId=n.userID,e.role=n.role,e.participantID=n.participantID,e.reportDomain=n.reportDomain,e.abToken=n.ABtoken,e.supportLocalAB=!!n.supportLocalAB,n.enableWebTransport&&(e.enableWebtransport=n.enableWebTransport,e.webtransportPort=n.WebTransportPort)}),[`${sA}`]:B((e,t)=>{let{payload:n}=t;if(n.gatewayUser){var r;const{userId:s,sn:l}=n.gatewayUser,d=(r=e.gatewayUserList)===null||r===void 0?void 0:r.find(f=>f.userId===s);var a;d?d.sn=l:(a=e.gatewayUserList)===null||a===void 0||a.push(n.gatewayUser)}else Object.assign(e,n)}),[`${_k}`]:B((e,t)=>{let{payload:n}=t;e.isHost=n}),[`${Ek}`]:B((e,t)=>{let{payload:n}=t;e.isCoHost=n}),[`${Ul}`]:B((e,t)=>{let{payload:n}=t;e.isOnHold=n}),[`${Ak}`]:B((e,t)=>{let{payload:n}=t;e.isMeetingReset=n}),[`${Ck}`]:B((e,t)=>{let{payload:n}=t;e.audioVideoBeforeOnHold=n}),[`${wk}`]:B((e,t)=>{let{payload:n}=t;e.currentUserAudioBeforeReset=n}),[`${Ok}`]:B((e,t)=>{let{payload:n}=t;e.isCurrentUserMutedBeforeReset=n}),[`${uA}`]:B((e,t)=>{let{payload:n}=t;e.meetingStatus=n}),[`${Tk}`]:B((e,t)=>{let{payload:n}=t;e.region=n.region,e.network=n.network}),[`${Rk}`]:B((e,t)=>{let{payload:n}=t;e.isCurrentUserStartVideoBeforeReset=n}),[`${Ik}`]:B((e,t)=>{let{payload:n}=t;e.joinMeetingTimeStamp=n}),[`${Dx}`]:B((e,t)=>{let{payload:n}=t;e.activeAppInfo=n}),[`${Qc}`]:B((e,t)=>{let{payload:n}=t;e.idleStartTime=n}),[`${Dk}`]:B((e,t)=>{let{payload:n}=t;e.sessionIdleTimeoutMins=n}),[`${Mk}`]:B((e,t)=>{let{payload:n}=t;e.isAudioBridgeEnabled=n}),[`${kk}`]:B((e,t)=>{var n,r;let{payload:a}=t;const s=(n=e.encryptedGEORWC)===null||n===void 0||(r=n.find(d=>d.rwc===a))===null||r===void 0?void 0:r.dc;if(s){var l;const d=(l=e.encryptedGEORWC)===null||l===void 0?void 0:l.filter(f=>f.dc===s);d&&e.discardedRwcList.some(f=>(d==null?void 0:d.findIndex(p=>p.rwc===f))>=0)&&e.discardedRwcList.push(...d.map(f=>f.rwc)),e.discardedRwcList.push(a)}}),[`${Nk}`]:B((e,t)=>{let{payload:n}=t;e.sharePronounType=n}),[`${Lk}`]:B((e,t)=>{let{payload:n}=t;e.stayAwake=n}),[`${Pk}`]:B((e,t)=>{let{payload:n}=t;e.failover.joinMeetingSuccessTimestamp=n}),[`${Uk}`]:B(e=>{Object.assign(e.failover,{...YS.failover,count:e.failover.count,joinMeetingSuccessTimestamp:e.failover.joinMeetingSuccessTimestamp})}),[`${Nm}`]:B((e,t)=>{let{payload:n}=t;const{count:r,reason:a,interval:s}=n;e.failover.count=r,e.failover.reason=a,e.failover.interval=s,e.failover.isCurrentFailoverRecorded=!0}),[`${Vk}`]:B((e,t)=>{let{payload:n}=t;e.quicklyLeave=n}),[`${Jb}`]:(e,t)=>{let{payload:n}=t;const{isFailover:r}=n,a={isMeetingReset:!0,apiKey:e.apiKey,signatureType:e.signatureType,signature:e.signature,lang:e.lang,proxy:1,stayAwake:e.stayAwake};return r&&Object.assign(a,{currentUserAudioBeforeReset:e.audioVideoBeforeOnHold?e.audioVideoBeforeOnHold.audio:n.audio,isCurrentUserMutedBeforeReset:e.audioVideoBeforeOnHold?e.audioVideoBeforeOnHold.muted:n.muted,isCurrentUserStartVideoBeforeReset:e.audioVideoBeforeOnHold?e.audioVideoBeforeOnHold.video:n.video,meetingNumber:e.meetingNumber,userName:e.userName,passWord:e.passWord,userEmail:e.userEmail,sdkUrl:e.sdkUrl,sdkOrigin:e.sdkOrigin,cv:e.cv,zsk:e.zsk,ztk:e.ztk,idleStartTime:e.idleStartTime,sessionIdleTimeoutMins:e.sessionIdleTimeoutMins,customerKey:e.customerKey,failover:e.failover,stayAwake:e.stayAwake,quicklyLeave:e.quicklyLeave}),{...YS,...a}}},YS),I3={meetingFailoverReportEpic0:(e,t)=>e.pipe(ke(`${Di}`),it(()=>{const n=t.value.meeting.failover.joinMeetingSuccessTimestamp===0&&!!Je.get(Ct.WebclientZoomId);return e.pipe(ke(`${pa}`),ut(1),ue(()=>{const r=[],a=Je.get(Ct.WebclientFailoverCount)||0;let{meeting:{failover:{count:s,reason:l,interval:d}}}=t.value;const{meeting:{pingRWCTimestamp:f}}=t.value;n&&(s=a+1,l=Tn.RefreshPage,d=0,Je.set(Ct.WebclientFailoverCount,s,ft.SessionStorage),r.push(Nm({count:s,reason:l,interval:d})));const p=performance.now();let h=`WCL_M, JMCT(${p-f})`;return s>0&&l!==Tn.NormalCase&&(h=`${h},FAILOVER(${s},${l},${(d/1e3).toFixed(1)})`),_3.sendRWGConnectionPerformance(h),r.push(Uk(),Pk(p)),ve(r)}))})),meetingFailoverReportEpic1:(e,t)=>e.pipe(ke(`${rr}`),ue(n=>{const{payload:r}=n,{meeting:{failover:{joinMeetingSuccessTimestamp:a,isCurrentFailoverRecorded:s}}}=t.value,l=[];if(!s){let d=Je.get(Ct.WebclientFailoverCount)||0;r!==Tn.NormalCase&&(d+=1,Je.set(Ct.WebclientFailoverCount,d,ft.SessionStorage));const f=performance.now()-a;l.push(Nm({reason:r,count:d,interval:f}))}return ve(l)}))},D3={sessionIdleEpic0:(e,t)=>e.pipe(ke(`${pa}`),Ie(t),oe(n=>{let[,r]=n;return r.meeting.zlkJwtToken!==void 0}),it(()=>(Gs&&Gs.complete(),Gs=new Ti,bI=du(6e4).pipe(Ae(()=>performance.now())).subscribe(Gs),Gs.pipe(Ae(n=>DR(n)))))),sessionIdleEpic1:e=>e.pipe(ke(`${wo}`)).pipe(De(()=>{Gs&&(Gs.complete(),bI.unsubscribe())}),je(_e)),sessionIdleEpic2:(e,t)=>e.pipe(ke(`${DR}`),Ie(t),ue(n=>{var r;let[a,s]=n;const{meeting:{idleStartTime:l,sessionIdleTimeoutMins:d,isOriginHost:f},participants:{attendeesList:p,xmppAttendeeList:h},recording:g,breakoutRoom:v}=s,S=a.payload,b=[];if(p.length===1&&h.length===0&&(v==null||(r=v.currentRoom)===null||r===void 0?void 0:r.status)!==Ue.InRoom&&(g==null?void 0:g.cmrStatus)!==gn.Start)if(l){const _=f&&AA(p[0].userRole)?d:40;S-l>60*_*1e3&&(console.warn(`No active for ${_} minutes, will end the session.`),b.push(fd()),On(500).subscribe(()=>{EA()}))}else b.push(Qc(S));else b.push(Qc(void 0));return ve(b)})),sessionIdleEpic3:(e,t)=>e.pipe(ke(`${Nu}`),oe(n=>[Pt,ri].includes(n.payload.evt)&&t.value.meeting.idleStartTime!==void 0),Sr(ha),ue(()=>{var n;const{participants:{attendeesList:r,xmppAttendeeList:a},recording:s,breakoutRoom:l}=t.value,d=[];return(r.length>1||a.length>0||(s==null?void 0:s.cmrStatus)===gn.Start||(l==null||(n=l.currentRoom)===null||n===void 0?void 0:n.status)===Ue.InRoom)&&d.push(Qc(void 0)),ve(d)})),sessionIdleEpic4:e=>e.pipe(ke(`${Ef}`,`${fd}`),Lr(Qc(void 0)))},M3={meetingMainEpics0:(e,t)=>Ce(e,0).pipe(De(n=>{var r;if(((r=n.payload.body)===null||r===void 0?void 0:r.status)==="READY"){const{meeting:{zlkJwtToken:a,signatureType:s,sign:l,passWord:d,isHost:f,isOriginHost:p,ztk:h,zsk:g,tk:v,userEmail:S},breakoutRoom:b}=t.value,_=a?{zlkJwtToken:a}:{signType:s,sign:l};if(d&&d!==""&&(a?Object.assign(_,{mpwd:Wt(d)}):f&&p||Object.assign(_,{mpwd:d})),(b==null?void 0:b.currentRoom.status)===Ue.Joining){const{currentRoom:{boId:A,boConfId:w,boToken:O}}=b;A&&w&&O&&Object.assign(_,{botk:O})}if(!a){h&&Object.assign(_,{zak:h}),(sessionStorage.getItem(Ct.WebclientZsk)||g)&&Object.assign(_,{zak:g}),v&&Object.assign(_,{tk:v});const A=Je.get(Ct.WebclientWebinarToken);A!==void 0&&Object.assign(_,{tk:A});const w=sessionStorage.getItem(Ct.WebclientRecordingToken);w&&Object.assign(_,{localRecordToken:w}),S&&Object.assign(_,{email:S})}yi.sendLaunchParams(_);const E=Je.get(Ct.WebclientMeetingToken);E&&yi.joinMeeting(E)}}),je(_e)),meetingMainEpics1:(e,t)=>{return Ce(e,qg).pipe(Ie(t),(n=r=>{let[a,s]=r;const{payload:{body:{res:l,userID:d,zoomID:f,mn:p,participantID:h,meetingtoken:g,role:v}}}=a,{meeting:{userEmail:S,userName:b,isMeetingReset:_,apiKey:E,zsk:A,signatureType:w}}=s;if(Zr.CONF_SUCCESS===l){const{WebclientParticipantId:O,WebclientZoomId:I,WebclientUserEmail:V,WebclientUserName:U,WebclientMeetingToken:x}=Ct;Je.set(I,f,ft.SessionStorage),Je.set(O,h,ft.SessionStorage),S&&Je.set(V,S,ft.SessionStorage),Je.set(U,b,ft.SessionStorage),g&&Je.set(x,g,ft.SessionStorage),A&&yi.sendSdkKeyToMonitor(w,E,d);const $=[pa(a.payload.body),Ik(performance.now())];return _&&$.push(Ak(!1)),(v&Iu.Owner)===Iu.Owner&&(k(xn,{reason:"dont support assisnt join through widget",errorCode:-1}),yi.leaveMeeting()),k(Kk,{meetingNumber:p}),ve($)}return Zr.CONF_FAIL_CONFLOCKED===l?k(xn,Wc(l)):Zr.CONF_FAIL_CONF_USER_FULL===l?k(xn,Object.assign({},Wc(l),{lmUrl:a.payload.body.lmURL})):(Zr.CONF_FAIL_MEETING_OVER===l||Zr.CONF_RESULT_MMR_IB_REJECT===l||Zr.CONF_FAIL_RESULT_MMR_CONF_PARTICIPANT_EXISTS===l||[Zr.CONF_FAIL_HAS_BEEN_REMOVED,Zr.CONF_FAIL_WEBINAR_DENIED_EMAIL].includes(l),k(xn,Wc(l))),ve(Hl(s,!1))},Ou(it((r,a)=>n(r)||_e))));var n},meetingMainEpics2:(e,t)=>Ce(e,ri).pipe(Ie(t),Ae(n=>{let[r,a]=n;const{payload:{body:s}}=r,{meeting:{zoomId:l,encType:d,gcmSessinKey:f}}=a;if((s==null?void 0:s.encryptKey)!==void 0&&Rn.init(l,s.encryptKey,d),(s==null?void 0:s.gatewayKey)!==void 0){const p=qe.getInstance(),[,h,g]=s.gatewayKey.split(".");p.sendUserNodeList([{userid:Number(h),sn:g&&ni(g)}],f)}return k(pA,s),sA(s)})),meetingMainEpics3:(e,t)=>Ce(e,7939).pipe(Ie(t),ue(n=>{let[r,a]=n;const{payload:{body:s}}=r;if(s.reason!==void 0){if(qo.Reconnect===s.reason)return Ex.WaitingRoomFailover===s.subReason?k(vr,{reason:zn.OnHold}):k(vr,{reason:zn.Failover}),yt(rr(Tn.NormalCase));qo.KickedByHost===s.reason?k(Zs,{reason:"kicked by host"}):[qo.EndByHost,qo.EndByNone,qo.EndByAdmin,qo.EndByHostStartAnotherMeeting].includes(s.reason)?k(Zs,{reason:"ended by host"}):qo.FreeMeetingTimeout===s.reason?k(Zs,{reason:"free meeting ended"}):[qo.DuplicateSession,qo.MeetingTransfer].includes(s.reason)&&k(Zs,{reason:"duplicated session"})}return a.meeting.isMeetingReset?_e:ve(Hl(a,!1))})),meetingMainEpics4:(e,t)=>e.pipe(ke(`${rr}`),Ie(t),ue(n=>{let[,r]=n;const a=Hl(r,!0);let s;if(r.meeting.zlkJwtToken){const l=function(f){if(f){const{meeting:{topic:p,passWord:h,userName:g,zlkJwtToken:v,lang:S,cv:b,customerKey:_}}=f;return{topic:p,passWord:h,userName:g,zlkJwtToken:v,lang:S,cv:b,customerKey:_}}return null}(r),d={topic:l==null?void 0:l.topic,password:l==null?void 0:l.passWord,userName:l==null?void 0:l.userName,zlk:l==null?void 0:l.zlkJwtToken,lang:l==null?void 0:l.lang,cv:l==null?void 0:l.cv,customerKey:l==null?void 0:l.customerKey};s=yt(_f(d)).pipe(dd(1e3))}else{const l=function(d){var f;const{meeting:{apiKey:p,signature:h,signatureType:g,meetingNumber:v,userName:S,lang:b,passWord:_,userEmail:E,sdkUrl:A,sdkOrigin:w,proxy:O,cv:I,ztk:V,zsk:U,tk:x}}=d;let $=V||sessionStorage.getItem(Ct.WebclientZtk),W=U||sessionStorage.getItem(Ct.WebclientZsk);const z=Number((f=Kf(h))===null||f===void 0?void 0:f.role)===1;return z||($=W,W=""),{apiKey:p,signature:h,signatureType:g,meetingNumber:v,userName:S,lang:b,passWord:_,userEmail:E,sdkUrl:A,sdkOrigin:w,proxy:O,cv:I,ztk:$,zsk:W,tk:x||sessionStorage.getItem(Ct.WebclientTk),ulsm:z&&W?1:0}}(r);s=yt(Qb(l)).pipe(dd(1e3))}return ld(ve(a),s)})),meetingMainEpics5:e=>Ki(e,7940).pipe(De(t=>{k("MEETING_HOST_CHANGE_INDICATION",t.payload.body.bHost)}),Ae(t=>_k(t.payload.body))),meetingMainEpics6:e=>Ki(e,7941).pipe(De(t=>{k("MEETING_COHOST_CHANGE_INDICATION",t.payload.body.bCoHost)}),Ae(t=>Ek(t.payload.body))),meetingMainEpics7:e=>Ki(e,7945).pipe(De(t=>{const{payload:{body:{opt:n}}}=t;Je.set(Ct.WebclientOpt,n,ft.SessionStorage)}),je(_e)),meetingMainEpics8:(e,t)=>Ce(e,7942).pipe(De(n=>{const{payload:{body:{bHold:r}}}=n;Je.set(Ct.WebclientIsOnHold,r?1:0,ft.SessionStorage),k(fA,r)}),Ie(t),ue(n=>{let[r,a]=n;const s=[Ul(r.payload.body.bHold)];if(r.payload.body.bHold){const l=Ve(a);if(l){s.push(Ck({audio:l.audio,video:l.bVideoOn,muted:l.muted}));const d=Ar(qe.getInstance());if(l.audio==="computer"&&(d.leaveComputerAudio(),yi.joinOrLeaveVoip(!1)),l.bVideoOn&&d.stopCaptureVideo(),l.sharerOn&&(yi.stopSharing(l.userId),d.stopDesktopSharing(),s.push(ti(rt.End))),a.video&&a.video.subscribedVideoList.length>0&&a.video.subscribedVideoList.forEach(f=>{yi.unsubscribeVideo(f)}),a.share&&a.share.isReceiveSharing){const f=a.share.activeNodeId;a.share.remoteControlledUserList.length>0&&(a.share.remoteControlledUserList.forEach(p=>{yi.sharingRequestRemoteControl(p,!1)}),tu(a)&&d.stopRemoteControl()),yi.unsubscribeSharing(f),d.stopRenderSharing()}}}return ve(s)})),meetingMainEpics9:e=>Ce(e,7954).pipe(Ae(t=>Tk(t.payload.body))),meetingMainEpics10:e=>Ce(e,4216).pipe(De(t=>{k("MEETING_CLAIM_HOST_KEY_RESPONSE",t.payload.body.bresult)}),je(_e)),meetingMainEpics11:(e,t)=>e.pipe(ke(`${Ef}`,`${fd}`),Ie(t),ue(n=>{let[r,a]=n;return r.type===`${Ef}`?(yi.leaveMeeting(),k(Zs,{})):r.type===`${fd}`&&(yi.endMeeting(),k(Zs,{})),ve(Hl(a,!1))})),meetingMainEpics12:(e,t)=>e.pipe(ke(`${Zb}`),Ie(t),ue(n=>{let[r,a]=n;if(r.type===`${Zb}`&&a.meeting.meetingNumber&&!a.meeting.zlkJwtToken){const s={mn:a.meeting.meetingNumber.toString(),name:a.meeting.userName,customerKey:a.meeting.customerKey?Wt(a.meeting.customerKey):""},{jbhLeave:l}={jbhLeave:`https://${Lf}/wc/jbhLeave`},d=`${l}/?${new URLSearchParams(s).toString()}`;fetch(d,{method:"POST",headers:{"Content-type":"application/json; charset=UTF-8"}})}return _e})),meetingMainEpics13:e=>Ce(e,2).pipe(De(()=>{console.warn("Upgrade to latest version to optimize meeting experience")}),je(_e)),meetingMainEpics14:e=>Ce(e,1).pipe(De(t=>{const{payload:{body:{upgradeVersion:n}}}=t,r=Wc(1e4);if(r&&r.reason){const a=r.reason.replace(/{(\d+)}/g,()=>n);r.reason=a}k(xn,r)}),je(_e)),meetingMainEpics15:e=>Ce(e,4265).pipe(Ae(t=>{const{payload:{body:n}}=t,{nShareType:r}=n;return k(Wk,{userSharePronounType:r}),Nk(r)})),meetingMainEpics16:e=>Ce(e,4128).pipe(De(t=>{const{payload:{body:{meetingtoken:n}}}=t,{WebclientMeetingToken:r}=Ct;n&&Je.set(r,n,ft.SessionStorage)}),je(_e)),meetingMainEpics17:(e,t)=>e.pipe(ke(`${pa}`),oe(()=>!!t.value.meeting.quicklyLeave),it(()=>Ft(window,"beforeunload").pipe(De(()=>{yi.leaveMeeting()}),je(_e))))},k3=_r(M3,{wakeLockEpic0:(e,t)=>e.pipe(ke(`${pa}`),Ie(t),oe(n=>{let[,r]=n;return!!r.meeting.stayAwake}),De(async()=>{try{const{isSafari:n,isIOSMobile:r}=Me;mr&&mr.release().then(()=>{mr=null}),"wakeLock"in navigator&&((n||r)&&await or(Ri(Ft(document,"click").pipe(ut(1)),Ft(document,"touchend").pipe(ut(1)))),mr=await navigator.wakeLock.request("screen"),mr.addEventListener("release",()=>{}))}catch{}}),it(()=>Ft(document,"visibilitychange").pipe(ue(async()=>{if(document.visibilityState==="visible"){const{isSafari:n,isIOSMobile:r}=Me;mr&&mr.release().then(()=>{mr=null}),"wakeLock"in navigator&&((n||r)&&await or(Ri(Ft(document,"click").pipe(ut(1)),Ft(document,"touchend").pipe(ut(1)))),mr=await navigator.wakeLock.request("screen"))}else mr&&mr.release().then(()=>{mr=null})}),je(_e)))),wakeLockEpic1:e=>e.pipe(ke(`${wo}`)).pipe(De(()=>{mr&&mr.release().then(()=>{mr=null})}),je(_e))},I3,D3,{meetingInfoEpic:(e,t)=>e.pipe(ke(`${_f}`),it(n=>{const r=Object.assign({},n.payload,{password:Wt(n.payload.password),topic:Wt(n.payload.topic)}),{videoSDKUrl:a}={meetingSDKUrl:`https://${Lf}/api/v1/wc/info`,videoSDKUrl:`https://${Lf}/wc/lsdk`};return function(s,l){let d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"zoomsdkjsonpcallback";return new on(f=>{wI++;const p=`${d}${wI}`,h=document.createElement("script");Object.keys(l).forEach(g=>(l[g]===void 0||l[g]===null)&&delete l[g]),h.src=`${s}?${new URLSearchParams(Object.assign(l,{callback:p})).toString()}`,h.async=!0,h.onerror=g=>f.error(g),document.getElementsByTagName("head")[0].appendChild(h),window[p]=g=>{h.parentNode&&h.parentNode.removeChild(h),delete window[p],f.next(g),f.complete()}})}(a,r).pipe(qi(s=>yt({status:!1,result:s.toString(),errorCode:Mm})),ue(s=>{const[l,d]=(f=yt(s),[oe(p=g=>g.status===!0&&g.result!==void 0,h)(Fn(f)),oe(WB(p,h))(Fn(f))]);var f,p,h;return d.subscribe(g=>{T3.report(`get meeting info error, ${JSON.stringify(g)}`,["Join Meeting Flow","Get Meeting Info Error"],"error"),g.state||(g.errorCode===3e3&&g.errorMessage==="Meeting password is incorrect"?k(xn,km(3004)):g.errorCode===3e3&&g.errorMessage==="The role type error"?k(xn,km(3010)):g.errorCode===Mm?k(xn,{reason:"connection error"}):g.errorCode===3e3?k(xn,{reason:g.errorMessage,errorCode:Cc}):g.errorCode===300?k(xn,{reason:"This account does not exist or does not belong to you",errorCode:Cc}):g.errorCode===124&&g.errorMessage==="Parse lite sdk topic and pwd fail"?k(xn,{reason:"Parse topic and pwd fail",errorCode:Cc}):g.errorCode===124&&g.errorMessage==="The java web token is expired or more than 2 days or ineffective."?k(xn,{reason:"The token has expired, is over 2 days old, or is ineffective.",errorCode:Cc}):g.errorCode===124&&k(xn,{reason:"Verify JWT failed",errorCode:Cc}))}),l.pipe(fU(g=>{if(g.status===!0){const{result:{mid:b,websdkClientFeatureOptions:_,showRecommendVersion:E}}=g;Je.init(b);const A=((I,V)=>{if(I.result){const{result:{mn:U,ts:x,auth:$,track_auth:W,mid:z,tid:L,encryptedRWC:T,encryptedGEORWC:N,user_identity:F,meetingOptions:P,can_recording:D,wcXMPPConfig:K,call_out_country_json:J,isOriginalHost:re,support_call_out:M,liveTranscription:X,logConfig:ye,logEncryptionPubKey:Ee,toll_numbers_json:se,h323Password:we,liveStreamInfo:Oe,rc_auto_delete:Ye,jwt_rc:Le,op_rc:Q,mediaSDKVersion:G,mediaSDKPathPrefix:j,zmk:ie,fileTransfer:Se,fileServerDomain:Ne,accountId:Pe}}=I,{lang:xe,password:ze,topic:Ze,zlk:Ke,cv:We,userName:lt}=V;return{meetingNumber:U,meetingId:z,tid:L,ts:x,auth:$,passWord:ze,trackAuth:W,customerKey:F,encryptedRWC:JSON.parse(T||"{}"),encryptedGEORWC:JSON.parse(N||"{}"),meetingOptions:JSON.parse(P||"{}"),recordingEnable:D==="1",topic:Ze,userName:Je.get(Ct.WebclientUserName)||lt,cv:We,zlkJwtToken:Ke,xmppConfig:JSON.parse(K||"{}"),callOutCountry:JSON.parse(J||"{}"),lang:xe,isOriginHost:re,isSupportCallOut:M==="1",liveTranscription:JSON.parse(X||"{}"),logConfig:ye,logEncryptionPubKey:Ee,tollNumbers:se===void 0?void 0:JSON.parse(se),h323Password:we,liveStreamInfo:JSON.parse(Oe||"{}"),rcAutoDelete:Ye,jwtRc:Le,opRc:Q,mediaSDKPath:G&&j?`${iA(j)}/${G}`:void 0,zmk:ie,fileTransfer:JSON.parse(Se||"{}"),fileServerDomain:Ne,accountId:Pe}}return I})(g,n.payload);var v;E&&(S=n==null||(v=n.payload)===null||v===void 0?void 0:v.lang,console.log(oA("Update VideoSDK-Web to the latest version to optimize meeting experience","apac.videosdk_update_content",S),"https://devsupport.zoom.us/hc/en-us/sections/9481948737421-web"));const w=[yt(Di(A)),cx(CI,t,aA())],O=((I,V)=>{const U=[];if(I){const x=I.split("").reverse();Object.keys(pu).filter($=>/M:\d(,\d)*;V:\d(,\d)*/.test(pu[$])).forEach($=>{const W=pu[$];let[z,L]=W.split(";");z.startsWith("V:")&&([z,L]=[L,z]);const T=L.slice(2).split(",").map(P=>x[Number(P)-1]).reverse().join(""),N=parseInt(T,16),F=EH[W];if(F){const P=(N&F.mask)>0;U.push(yt(F.action(P)))}})}return U})(_);return O.length>0&&w.unshift(...O),ld(...w)}var S}))}),Ii(jk(performance.now())))})),pingRWCEpic:CI});var BU={exports:{}};BU.exports=function(){function e(t){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)t[a]=r[a]}return t}return function t(n,r){function a(s,l,d){if(typeof document<"u"){typeof(d=e({},r,d)).expires=="number"&&(d.expires=new Date(Date.now()+864e5*d.expires)),d.expires&&(d.expires=d.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var f="";for(var p in d)d[p]&&(f+="; "+p,d[p]!==!0&&(f+="="+d[p].split(";")[0]));return document.cookie=s+"="+n.write(l,s)+f}}return Object.create({set:a,get:function(s){if(typeof document<"u"&&(!arguments.length||s)){for(var l=document.cookie?document.cookie.split("; "):[],d={},f=0;f<l.length;f++){var p=l[f].split("="),h=p.slice(1).join("=");try{var g=decodeURIComponent(p[0]);if(d[g]=n.read(h,g),s===g)break}catch{}}return s?d[s]:d}},remove:function(s,l){a(s,"",e({},l,{expires:-1}))},withAttributes:function(s){return t(this.converter,e({},this.attributes,s))},withConverter:function(s){return t(e({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(r)},converter:{value:Object.freeze(n)}})}({read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"})}();var N3=BU.exports;const{WebclientIsOnHold:L3,WebclientOpt:P3,WebclientParticipantId:U3,WebclientZoomId:V3,WebclientMeetingToken:j3}=Ct,{WebclientDeviceId:OI}=Yb;function TI(e){let{retryCount:t,rwgServerList:n,userName:r,auth:a,trackAuth:s,meetingId:l,customerKey:d,tid:f,lang:p,ts:h,bid:g,botk:v,confID:S,isAudioBridgeEnabled:b,isMeetingReset:_,cameraDevicesList:E,isFullHDVideoEnabled:A,isFullHDVideoShareEnabled:w}=e;const O=N3.get("_zm_mtk_guid");let I=Je.get(OI);if(I||(I=yU(),Je.set(OI,I,ft.LocalStorage)),n.length>t){var V;const U=n[t],x={dn2:Wt(r),auth:a,browser:`${Me.browser}${Me.browserVersion} ${(V=window)!==null&&V!==void 0&&V.crossOriginIsolated?"SAB":""}`,trackAuth:s,mid:l,tid:f,lang:p,ts:h,"ZM-CID":I,_ZM_MTG_TRACK_ID:O||"",customer_key:Wt(d),cfs:0,islch:1};U.rwcAuth?Object.assign(x,{rwcAuth:U.rwcAuth}):U.rwcToken&&Object.assign(x,{rwcToken:U.rwcToken});const $=xk()?1:Me.isIE||Me.isSupportEssentialAudioAndVideoAbility?2:0;Object.assign(x,{as_type:$}),[{key:P3,queryKey:"opt"},{key:U3,queryKey:"participantID"},{key:V3,queryKey:"zoomid"}].forEach(L=>{const T=Je.get(L.key);T!==void 0&&(x[L.queryKey]=T)});const W=g&&v&&S;W&&Object.assign(x,{bid:Wt(g),confID:S}),Je.get(j3)&&Object.assign(x,{isdj:1}),Vr()&&(Object.assign(x,{from:Me.isAndroidBrowser?"android":"ios"}),b&&Object.assign(x,{useABAudio:1})),Object.assign(x,{clientCaps:B3({isAudioBridgeEnabled:b&&Vr(),isBO:W,isFullHDVideoEnabled:A,isFullHDVideoShareEnabled:w})});const z=_?E.length>0?1:0:1;return Object.assign(x,{isCamera:z}),Object.assign(x,{clientOS:Me.isAndroidOrIOSBrowser?Me.isIOSMobile?"ios":"android":Me.isMacOS?"mac":"win"}),Object.assign(x,{audioFeature:qe.getAudioFeatureFlag()}),{queryObject:{...x},rwgServer:U}}return null}function B3(e){const{isAudioBridgeEnabled:t,isBO:n,isFullHDVideoEnabled:r,isFullHDVideoShareEnabled:a}=e;let s=Rr.WebCameraIndication|Rr.SendMeetingTokenSeparately|Rr.SmartSummary|Rr.LocalRecording|Rr.LocalRecordingGrantPermission|Rr.UnifyErrorType;const l=qe.getPTZCapability();return(l.pan||l.tilt||l.zoom)&&(s|=Rr.SupportFarEndCameraControl),qe.isSupportVideoShare()&&(s|=Rr.SupportVideoShare),t&&qe.isSupportAudioBridgeAVSync()&&(s|=Rr.WebrtcAudioRtcpTime),qe.isSupportShareMultiStream()&&(s|=Rr.ShareMultiStream),qe.isSupportVideoLTR()&&(s|=Rr.VideoLTR),n||(s|=Rr.RequestRemoteControl),r&&qe.isSupportFullHDVideo()&&(s|=Rr.SupportSend1080PVideo),a&&qe.isSupportFullHDVideoShare()&&(s|=Rr.SupportSend1080PVideoShare),s}function zl(e,t){return t?Ou(dd(t),oe(()=>{const{socket:{zoomSocketStatus:n},meeting:{meetingStatus:r,isMeetingReset:a}}=e.value;return n!==Ot.Closed&&r===Xt.Joined&&!a})):Ou(oe(()=>{const{socket:{zoomSocketStatus:n},meeting:{meetingStatus:r,isMeetingReset:a}}=e.value;return n!==Ot.Closed&&r===Xt.Joined&&!a}))}const wl=at.createAgent();let wh;const qs=Lu.getInstance();let Oh;const Ol=$g.getInstance();let Th;const RI={zoomSocketStatus:Ot.Closed,xmppSocketStatus:Ot.Closed,mainSessionSocketStatus:Ot.Closed,retryCount:0,rwgServerList:[]},x3=br({[`${Pl}`]:B((e,t)=>{let{payload:n}=t;e.zoomSocketStatus=n.status}),[`${GM}`]:B((e,t)=>{let{payload:n}=t;const{rwgServerList:r}=e;r.find(a=>a.rwg===n.rwg)||r.push(n)}),[`${qM}`]:B((e,t)=>{let{payload:n}=t;e.retryCount=n}),[`${$h}`]:B((e,t)=>{let{payload:n}=t;e.xmppSocketStatus=n}),[`${Kh}`]:B((e,t)=>{let{payload:n}=t;e.mainSessionSocketStatus=n}),[`${$M}`]:()=>RI},RI),H3={epics0:(e,t)=>e.pipe(ke(`${qh}`),Ie(t),oe(n=>{let[,r]=n;return r.socket.zoomSocketStatus===Ot.Closed}),it(n=>{let[,r]=n;const{media:{patchedMediaSDKStatus:a}}=r;return(a===Yc.Loading?It(tm,1):ve([0])).pipe(it(()=>{const{socket:{retryCount:s,rwgServerList:l},meeting:d,breakoutRoom:f,video:p,share:h}=t.value;let g;const v={...d,retryCount:s,rwgServerList:l};if(p){const{cameraDevicesList:b,isFullHDVideoEnabled:_}=p;Object.assign(v,{cameraDevicesList:b,isFullHDVideoEnabled:_})}if(h){const{isFullHDVideoShareEnabled:b}=h;Object.assign(v,{isFullHDVideoShareEnabled:b})}if(f&&f.currentRoom.status===Ue.Joining){const{currentRoom:{boId:b,boConfId:_,boToken:E}}=f;Object.assign(v,{bid:b,botk:E,confID:_})}if(g=d.zlkJwtToken?function(b){const _=TI(b);if(_){const{queryObject:E,rwgServer:A}=_,{topic:w,cv:O,meetingNumber:I}=b;return Object.assign(E,{topic:Wt(w),iccv:O}),`wss://${A.rwg}/instantsdk/${I}?${new URLSearchParams(E).toString()}`}return null}(v):function(b){const _=TI(b);if(_){const{queryObject:E,rwgServer:A}=_,{cv:w,meetingNumber:O}=b;return Object.assign(E,{jscv:w,browser:E.browser+" ComponentView"}),[{key:L3,queryKey:"cfs"}].forEach(I=>{const V=Je.get(I.key);V!==void 0&&(E[I.queryKey]=V)}),`wss://${A.rwg}/wc/api/${O}?${new URLSearchParams(E).toString()}`}return null}(v),g){const b=(S=g,wl.connect(S),wh=new Ti,ss(_=>wl.on(cr.Message,_),_=>wl.off(cr.Message,_),_=>_.data).subscribe(wh),wh);return vn(b.pipe(oe(_=>typeof _=="string"),Ae(_=>{try{return JSON.parse(_)}catch(E){return console.error(E),{evt:0}}}),pU(),ku(_=>{if(_.evt!==0||!_.body||_.body.test!=="invalid parameters!")return Nu(_);k(xn,km(vk.INVALID_PARAMETER))}),Ii(Pl({status:Ot.Connecting,rwgUrl:g}))),b.pipe(oe(_=>_ instanceof ArrayBuffer),Ae(_=>dx(_))))}var S;return _e}))})),epics1:(e,t)=>e.pipe(ke(`${qh}`),Ie(t),oe(n=>{let[,r]=n;return r.socket.zoomSocketStatus===Ot.Closed}),it(()=>{const[n,r,a,s]=[cr.Open,cr.Close,cr.Error,cr.Inactive].map(l=>ss(d=>wl.on(l,d),d=>wl.on(l,d)));return vn(n.pipe(ue(()=>vn(yt(Pl({status:Ot.Connected})),On(6e4).pipe(Ie(t),oe(l=>{let[,d]=l;return d.meeting.meetingStatus===Xt.Initial&&!d.meeting.isMeetingReset}),Ae(()=>(k(vr,{reason:zn.Failover}),rr(Tn.NoHeartbeat))))))),r.pipe(zl(t),Ae(()=>(k(vr,{reason:zn.Failover}),rr(Tn.Disconnect)))),s.pipe(zl(t),Ae(()=>(k(vr,{reason:zn.Failover}),rr(Tn.NoHeartbeat)))),a.pipe(Ie(t),ue(l=>{let[,d]=l;const{meeting:{meetingStatus:f,isMeetingReset:p},socket:{rwgServerList:h,retryCount:g}}=d,v=[];if(f===Xt.Initial&&h!=null&&h.length){const S=h[g];return On(5e3).pipe(oe(()=>t.value.meeting.meetingStatus===Xt.Initial),ue(()=>{const{socket:{rwgServerList:b,retryCount:_}}=t.value,E=[];return b.length>_+1?E.push(qM(_+1),wo({retry:!0})):(k(xn,{reason:"connection error",errorCode:Mm}),E.push(...Hl(t.value))),ve(E)}),Ii(kk(S==null?void 0:S.rwc)))}return p||f!==Xt.Joined||(k(vr,{reason:zn.Failover}),v.push(rr(Tn.OnError))),ve(v)})))})),epics2:(e,t)=>e.pipe(ke(`${wo}`),it(n=>n.payload&&n.payload.retry?yt(qh()).pipe(dd(1e3),Ii(Pl({status:Ot.Closed}))):yt(Pl({status:Ot.Closed}))),dd(100),De(()=>{var n;t.value.socket.zoomSocketStatus===Ot.Closed&&(wl.close(),(n=wh)===null||n===void 0||n.complete())}))},z3=_r(H3,{xmppEpics0:(e,t)=>e.pipe(ke(`${pa}`),ue(()=>{const{meeting:{meetingOptions:n,zlkJwtToken:r,isWebinar:a}}=t.value,s=[];return(n.isPollingEnabled||r||a)&&s.push(gS()),ve(s)})),xmppEpics1:(e,t)=>e.pipe(ke(`${gS}`),Ie(t),oe(n=>{let[,r]=n;return r.socket.xmppSocketStatus==="closed"}),it(n=>{let[,r]=n;const{meeting:{svcUrl:a,meetingNumber:s,conId:l}}=r,d=function(f,p,h){return`wss://${f}/wc/media/${p}?type=x&cid=${h}`}(a,s,l);return(f=>(qs.connect(f),Oh=new Ti,ss(p=>qs.on(oa.Message,p),p=>qs.off(oa.Message,p)).subscribe(Oh),Oh))(d).pipe(oe(f=>(f==null?void 0:f.evt)!==void 0),Ae(f=>zM(f)),Ii($h(Ot.Connecting)))})),xmppEpics2:(e,t)=>e.pipe(ke(`${gS}`),it(()=>{const[n,r,a]=[oa.Open,oa.Close,oa.Error].map(s=>ss(l=>qs.on(s,l),l=>qs.on(s,l)));return vn(n.pipe(De(()=>{const s=function(){const{isSupportEssentialAudioAndVideoAbility:l,isSupportAudioWorklet:d}=Me;return l&&d?11:10}();qs.join(s)}),Lr($h(Ot.Connected))),r.pipe(zl(t,500),Ae(()=>(k(vr,{reason:zn.Failover}),rr(Tn.DisconnectXmpp)))),a.pipe(zl(t,500),Ae(()=>(k(vr,{reason:zn.Failover}),rr(Tn.OnError)))))})),xmppEpics3:e=>e.pipe(ke(`${HM}`),Lr($h(Ot.Closed)),dd(100),De(()=>{var t;qs.close(),(t=Oh)===null||t===void 0||t.complete()}))},{mainSessionEpics0:(e,t)=>e.pipe(ke(`${xb}`),Ie(t),oe(n=>{let[,r]=n;return r.socket.mainSessionSocketStatus==="closed"}),it(n=>{let[,r]=n;const{meeting:{svcUrl:a,meetingNumber:s,conId:l}}=r,d=function(f,p,h){return`wss://${f}/wc/media/${p}?type=m&cid=${h}&mode=2`}(a,s,l);return(f=>(Ol.connect(f),Th=new Ti,ss(p=>Ol.on(cr.Message,p),p=>Ol.off(cr.Message,p)).pipe(Ae(p=>p.data)).subscribe(Th),Th))(d).pipe(Ae(f=>{try{return JSON.parse(f)}catch(p){return console.error(p),{evt:0}}}),oe(f=>f.evt!==0),pU(),Ae(f=>da(f)),Ii(Kh(Ot.Connecting)))})),mainSessionEpics1:(e,t)=>e.pipe(ke(`${xb}`),it(()=>{const[n,r,a]=[cr.Open,cr.Close,cr.Error].map(s=>ss(l=>Ol.on(s,l),l=>Ol.on(s,l)));return vn(n.pipe(Lr(Kh(Ot.Connected))),r.pipe(zl(t,500),Ae(()=>(k(vr,{reason:zn.Failover}),rr(Tn.DisconnectMChannel)))),a.pipe(zl(t,500),Ae(()=>(k(vr,{reason:zn.Failover}),rr(Tn.OnErrorMChannel)))))})),mainSessionEpics2:e=>e.pipe(ke(`${FM}`),Lr(Kh(Ot.Closed)),De(()=>{var t;Ol.close(),(t=Th)===null||t===void 0||t.complete()}))}),F3={id:"userId",type:e=>md(e)?{userType:e,avatarBackgroundType:Math.floor(8*Math.random())+1}:{userType:e},role:e=>({userRole:e,isHost:AA(e)}),dn2:e=>({displayName:Qi(e)}),bShareOn:"sharerOn",bSharePause:"sharerPause",bLocalRecordStatus:e=>({bLocalRecord:e}),bGuest:"isGuest",bCapsRequestLT:"isRequestLT",customerKey:"userIdentity"},Rg=e=>{const t={};return["add","remove","update"].forEach(n=>{const r=n,a=e[r];a!=null&&(t[r]=a.reduce((s,l)=>{const d=Object.keys(l).reduce((p,h)=>{const g=F3[h];return typeof g=="function"?Object.assign(p,g(l[h])):typeof g=="string"?Object.assign(p,{[`${g}`]:l[h]}):Object.assign(p,{[`${h}`]:l[h]}),p},{}),f=s.find(p=>p.userId===d.userId);return f!==void 0?Object.assign(f,d):s.push(d),s},[]))}),t},G3={name:"displayName",node:e=>({userId:Number(e)}),role:e=>({userRole:Number(e)})},XS=e=>Object.keys(e).reduce((t,n)=>{const r=G3[n];return typeof r=="function"?Object.assign(t,r(e[n])):typeof r=="string"?Object.assign(t,{[`${r}`]:e[n]}):Object.assign(t,{[`${n}`]:e[n]}),t},{}),II={attendeesList:[],assistantList:[],xmppAttendeeList:[],allowTalkAttendeesList:[],failoverAttendeesList:[],isAdmitAllSilentUsers:!1},q3=br({[`${Wm}`]:B((e,t)=>{let{payload:n}=t;n.add!==void 0&&n.add.length>0&&n.add.forEach(r=>{if(r.userType===I_.Assitant){const a=e.assistantList.find(s=>s.userId===r.userId);a!==void 0?Object.assign(a,r):e.assistantList.push(r)}else if(Qm(r.userRole)){const a=e.allowTalkAttendeesList.find(s=>s.userId===r.userId);a!==void 0?Object.assign(a,r):e.allowTalkAttendeesList.push(r)}else{const a=e.attendeesList.find(s=>s.userId===r.userId);a!==void 0?Object.assign(a,r):e.attendeesList.push(r)}}),n.update!==void 0&&n.update.length>0&&n.update.forEach(r=>{const a=e.attendeesList.find(s=>s.userId===r.userId);if(a!==void 0)Object.assign(a,r);else{const s=e.allowTalkAttendeesList.find(l=>l.userId===r.userId);if(s!==void 0)Object.assign(s,r);else{const l=e.assistantList.find(d=>d.userId===r.userId);l!==void 0&&Object.assign(l,r)}}}),n.remove!==void 0&&n.remove.length>0&&n.remove.forEach(r=>{const a=e.attendeesList.findIndex(s=>s.userId===r.userId);if(a!==-1)e.attendeesList.splice(a,1);else{const s=e.allowTalkAttendeesList.findIndex(l=>l.userId===r.userId);if(s!==-1)e.allowTalkAttendeesList.splice(s,1);else{const l=e.assistantList.findIndex(d=>d.userId===r.userId);l!==-1&&e.assistantList.splice(l,1)}}})}),[`${yL}`]:B((e,t)=>{let{payload:n}=t;const{xmppAttendeeList:r}=e,a=r.map(s=>s.jid);n.forEach(s=>{const{jid:l}=s,d=a.indexOf(l);d!==-1?Object.assign(r[d],s):r.push(s)})}),[`${dL}`]:B((e,t)=>{let{payload:n}=t;e.isAdmitAllSilentUsers=n}),[`${pL}`]:B(e=>{e.attendeesList.forEach(t=>{t.bRaiseHand&&(t.bRaiseHand=!1)})}),[`${hL}`]:B(e=>{e.attendeesList.forEach(t=>{t.feedback>0&&(t.feedback=0)})}),[`${T_}`]:B((e,t)=>{let{payload:n}=t;e.failoverAttendeesList.push(n)}),[`${fL}`]:B((e,t)=>{let{payload:n}=t;n.forEach(r=>{const a=e.failoverAttendeesList.findIndex(s=>s.zoomID===r.zoomID);a!==-1&&e.failoverAttendeesList.splice(a,1)})}),[`${mL}`]:B((e,t)=>{let{payload:n}=t;const{jid:r,name:a}=n,s=e.xmppAttendeeList.find(l=>l.jid===r);s&&(s.displayName=a)}),[`${gL}`]:B((e,t)=>{let{payload:n}=t;const{jid:r}=n,a=e.xmppAttendeeList.findIndex(s=>s.jid===r);r!==-1&&e.xmppAttendeeList.splice(a,1)}),[`${Of}`]:B((e,t)=>{let{payload:n}=t;const{userId:r,key:a,value:s}=n,l=e.attendeesList.find(d=>d.userId===r);l&&(l[`${a}`]=s)}),[`${cL}`]:()=>II},II),$3={epics0:(e,t)=>Ce(e,Pt).pipe(Ae(n=>Rg(n.payload.body)),Ie(t),ue(n=>{let[r,a]=n,s=[Wm(r)];const{meeting:{userId:l,isWebinar:d,isOnHold:f},participants:{attendeesList:p,failoverAttendeesList:h,allowTalkAttendeesList:g}}=a,v=g.map(b=>b.userId);if(r.add){const b=r.add.filter(E=>E.userId===l);b.length>0&&b.forEach(E=>{E.bHold!==void 0&&s.push(Ul(E.bHold)),k(Qf,E)});const _=r.add.filter(E=>E.userId!==l);if(_.length>0){const E=_.filter(w=>!Qm(w.userRole)).map(w=>{const O={...w};if(md(w.userType)){var I;const U=(I=a.audio)===null||I===void 0?void 0:I.dialout.find(x=>x.phoneNodeId===w.userId);U&&Object.assign(O,{phoneNumber:U.phoneNumber})}const V=h.find(U=>U.zoomID===w.zoomID);return V&&Object.assign(O,{source:V.isOnHold?"on hold":"failover"}),O}),A=E.filter(w=>!!w.source).map(w=>({zoomID:w.zoomID}));if(s.push(fL(A)),k(qk,E),d){const w=_.filter(O=>Qm(O.userRole));w.length>0&&k(Xa,w.map(O=>({userId:O.userId,isAllowToTalk:!0})))}}}if(r.update){const b=r.update.filter(E=>E.userId===l);b.length>0&&b.forEach(E=>{k(kr,E),E.bHold!==void 0&&s.push(Ul(E.bHold))});const _=r.update.filter(E=>!(E.userId===l||v.includes(E.userId)));if(_.length>0&&k(Oo,_),d){const E=r.update.filter(A=>A.userId!==l&&v.includes(A.userId));E.length>0&&k(Xa,E)}}if(r.remove){const b=r.remove.map(_=>{const E=p.find(A=>A.userId===_.userId);return E?_.action===2&&_.nUserStatus===1?E.bHold?(s.push(T_({zoomID:E.zoomID,isOnHold:!0})),{..._,...E,reason:"on hold"}):(s.push(T_({zoomID:E.zoomID,isOnHold:!1})),{..._,...E,reason:"failover"}):{..._,...E}:null}).filter(_=>!!_);if(k(cA,b),d){const _=r.remove.filter(E=>v.includes(E.userId));_.length>0&&k(Xa,_.map(E=>({userId:E.userId,isAllowToTalk:!1})))}}const S=s.filter(b=>b.type===`${Ul}`);if(S.length>0){const b=S[S.length-1];s=s.filter(_=>_.type!==`${Ul}`),b.payload!==f&&(s.push(b),k(fA,!f))}return ve(s)})),epics1:(e,t)=>Kl(e,24595).pipe(ue(n=>{const{payload:{body:{action:r,data:a}}}=n,{meeting:{jid:s},participants:{xmppAttendeeList:l}}=t.value,d=[];if(r===ho.rename){a.forEach(p=>{d.push(mL(p))});const f=a.map(p=>XS(p));k(Xa,f)}if(r===ho.Remove){a.forEach(p=>{d.push(gL(p))});const f=a.map(p=>({...XS(p),removed:!0}));k($k,f)}if([ho.Add,ho.List,ho.update].includes(r)){const f=a.map(p=>{const h=XS(p);return Object.keys(h).reduce((g,v)=>(h[v]!==""&&Object.assign(g,{[v]:h[v]}),g),{})});if(k(Xa,f),d.push(yL(f)),r===ho.update){const p=a.find(h=>h.jid===s);if(p&&p.bRaiseHand!==void 0){const h=l.find(g=>g.jid===s);(h==null?void 0:h.bRaiseHand)!==p.bRaiseHand&&k("MEETING_WEBINAR_ATTENDEE_RAISE_HAND",{bRaiseHand:p.bRaiseHand})}}}return ve(d)})),epics2:e=>Ce(e,7951).pipe(De(t=>{t.payload.body.bStarted===!1&&k("ADMIT_ALL_SILENT_USERS_END",t.payload.body.bStarted)}),Ae(t=>dL(t.payload.body.bStarted))),epics3:e=>Ce(e,7946).pipe(oe(t=>{var n;return["bRaiseHand","feedback"].includes((n=t.payload.body)===null||n===void 0?void 0:n.key)&&t.payload.body.value===0}),Ae(t=>(k(Oo,{}),t.payload.body.key==="bRaiseHand"?pL():hL())))},K3=_r($3),DI={audioEncodeStatus:"initial",audioDecodeStatus:"initial",videoEncodeStatus:"initial",videoDecodeStatus:"initial",sharingEncodeStatus:"initial",sharingDecodeStatus:"initial",assetsPath:"",mediaConstraints:void 0,fileWithVersion:!1,enforceMultipleVideos:!1,enforceVirtualBackground:!1,enableAudioQos:!0,enableVideoQos:!0,isAudioBridgeReceiveReady:!1,isAudioBridgeSendReady:!1,isMediaAgentInitialized:!1},W3=br({[`${zb}`]:B((e,t)=>{let{payload:n}=t;e.audioDecodeStatus=n}),[`${Hb}`]:B((e,t)=>{let{payload:n}=t;e.audioEncodeStatus=n}),[`${Wh}`]:B((e,t)=>{let{payload:n}=t;e.sharingDecodeStatus=n}),[`${qb}`]:B((e,t)=>{let{payload:n}=t;e.sharingEncodeStatus=n}),[`${Gb}`]:B((e,t)=>{let{payload:n}=t;e.videoDecodeStatus=n}),[`${Fb}`]:B((e,t)=>{let{payload:n}=t;e.videoEncodeStatus=n}),[`${JE}`]:B((e,t)=>{let{payload:n}=t;e.mediaConstraints=n.mediaConstraints,e.assetsPath=n.assetsPath,e.fileWithVersion=n.fileWithVersion,e.enforceMultipleVideos=n.enforceMultipleVideos,e.enforceVirtualBackground=n.enforceVirtualBackground,e.skipJsMedia=n.skipJsMedia,e.patchJsMedia=n.patchJsMedia,e.alternativeNameForVideoPlayer=n.alternativeNameForVideoPlayer}),[`${WM}`]:B((e,t)=>{let{payload:n}=t;const{type:r,encrypeKey:a,additionalType:s}=n,l={encrypeKey:a,additionalType:s};r==="audio"?e.audioEncrypt=l:r==="video"?e.videoEncrypt=l:r==="sharing"&&(e.sharingEncrypt=l)}),[`${QM}`]:B((e,t)=>{let{payload:n}=t;e.isEnableDecoderInWorklet=n}),[`${Qh}`]:B((e,t)=>{let{payload:n}=t;e.patchedMediaSDKStatus=n}),[`${ZM}`]:B((e,t)=>{let{payload:n}=t;e.assetsPath=n}),[`${JM}`]:B((e,t)=>{let{payload:n}=t;e.enableAudioQos=n.audioQos,e.enableVideoQos=n.videoQos}),[`${YM}`]:B((e,t)=>{let{payload:n}=t;e.isAudioBridgeReceiveReady=n}),[`${XM}`]:B((e,t)=>{let{payload:n}=t;e.isAudioBridgeSendReady=n}),[`${YE}`]:B((e,t)=>{let{payload:n}=t;e.isMediaAgentInitialized=n}),[`${ek}`]:e=>({...DI,mediaConstraints:e.mediaConstraints,assetsPath:e.assetsPath,fileWithVersion:e.fileWithVersion,enforceMultipleVideos:e.enforceMultipleVideos,enforceVirtualBackground:e.enforceVirtualBackground,alternativeNameForVideoPlayer:e.alternativeNameForVideoPlayer})},DI),Pr=new class{constructor(){this.state={mediaSDK:void 0,mediaSDKInstanceMap:new Map,tagName:"video-player"},this.onceMap=new WeakMap,this.subscribers=[]}get(e){return this.state[e]}dispatch(e,t,n){t&&Object.assign(this.state,t),e&&this.notifySubscribers(e,n)}subscribe(e){return this.subscribers.push(e),()=>{const t=this.subscribers.indexOf(e);t!==-1&&this.subscribers.splice(t,1)}}once(e,t){this.onceMap.set(t,{event:e,unSubscribe:this.subscribe(t)})}notifySubscribers(e,t){const n=[];this.subscribers.forEach(r=>{r(e,this.state,t);const a=this.onceMap.get(r);if(a){const{event:s,unSubscribe:l}=a;s===e&&(n.push(l),this.onceMap.delete(r))}}),n.forEach(r=>r())}};var ir,_E;(function(e){e[e.ADD_RENDER_VIDEO=1]="ADD_RENDER_VIDEO",e[e.STOP_RENDER_VIDEO=2]="STOP_RENDER_VIDEO",e[e.START_SHARING=23]="START_SHARING",e[e.STOP_SHARING=24]="STOP_SHARING",e[e.SWITCH_CANVAS_FOR_VIDEO_CAPTURE=25]="SWITCH_CANVAS_FOR_VIDEO_CAPTURE",e[e.UPDATE_SHARING_DECODE_PARAM=44]="UPDATE_SHARING_DECODE_PARAM",e[e.UPDATE_CANVAS_SIZE=46]="UPDATE_CANVAS_SIZE",e[e.ZOOM_RENDER=48]="ZOOM_RENDER",e[e.WEBGL_LOST_REPLACE_CANVAS=77]="WEBGL_LOST_REPLACE_CANVAS",e[e.UPDATE_VIDEO_QUALITY=78]="UPDATE_VIDEO_QUALITY",e[e.SEND_RENDER_LOG=79]="SEND_RENDER_LOG"})(ir||(ir={})),function(e){e[e.WEBGL_LOST_IN_MULTI_VIEW=-32]="WEBGL_LOST_IN_MULTI_VIEW"}(_E||(_E={}));const Vf="default-sesssion-key";var Ig,MI,kI;function NI(e,t,n,r,a){const s=document.createElement("canvas");s.id=r;const l=GU(s,e,t);return a(`VPISC:${window.devicePixelRatio},${l}`),s.style.pointerEvents="none",s.style.position="absolute",s.style.left="0px",s.style.top="0px",s.style.width=e+"px",s.width=e*ds(s),s.style.height=t+"px",s.height=t*ds(s),s.ariaHidden="true",s.style.zIndex=n,s}function LI(e,t){const n=zU(()=>{GU(e,t.clientWidth,t.clientHeight),[ir.UPDATE_CANVAS_SIZE,ir.UPDATE_SHARING_DECODE_PARAM].forEach(s=>{var l;(l=Cu(t.getSessionId()))===null||l===void 0||l.Notify_MeidaSDK(s,{width:t.clientWidth*ds(e),height:t.clientHeight*ds(e),canvas:e})}),e.style.width=t.clientWidth+"px",e.style.height=t.clientHeight+"px";try{e.width=t.clientWidth*ds(e),e.height=t.clientHeight*ds(e)}catch{}Pr.dispatch("resize",void 0,e.id)},300),r=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),a=new ResizeObserver(n);return r.addEventListener("change",n),a.observe(t),()=>{(function(s){Dg.delete(s)})(e),a==null||a.disconnect(),r.removeEventListener("change",n)}}function xU(e,t){Object.defineProperties(e,t.reduce((n,r)=>(n[r]={get:()=>e.getAttribute(r),set:a=>{a?e.setAttribute(r,a):e.removeAttribute(r)}},n),{}))}function HU(e,t){Object.entries(t).forEach(([n,r])=>{e.getAttribute(n)||e.setAttribute(n,r)})}function PI(e,t){const n=e.getAttribute(t);return!(!n||n!=="true")}function Cu(e=Vf){var t;return(t=Pr.get("mediaSDKInstanceMap").get(e))===null||t===void 0?void 0:t()}function rC(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();let e=new Date().getTime(),t=performance&&performance.now&&1e3*performance.now()||0;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,n=>{let r=16*Math.random();return e>0?(r=(e+r)%16|0,e=Math.floor(e/16)):(r=(t+r)%16|0,t=Math.floor(t/16)),(n==="x"?r:3&r|8).toString(16)})}function zU(e,t){let n;return function(...r){clearTimeout(n),n=setTimeout(()=>{e(...r)},t)}}function FU(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const a of n){const s=e[a],l=t[a];if(typeof s=="object"&&typeof l=="object"){if(!FU(s,l))return!1}else if(s!==l)return!1}return!0}function $s(e){return!e||e==="0"}function gu(e,t){e==null||e.Notify_MeidaSDK(ir.SEND_RENDER_LOG,{message:t})}(function(e){e.Video="video",e.Share="share"})(Ig||(Ig={})),function(e){e.DEFAULT="",e.MAIN="main"}(MI||(MI={})),function(e){e.Video_90P="0",e.Video_180P="1",e.Video_360P="2",e.Video_720P="3",e.Video_1080P="4"}(kI||(kI={}));const Dg=new Map;function GU(e,t,n){const r=t>=2*window.screen.width||n>=2*window.screen.height?1:window.devicePixelRatio,a=Dg.get(e);return Dg.set(e,r),a&&a!==r&&Pr.dispatch("scale",void 0,e.id),r}function ds(e){return Dg.get(e)||window.devicePixelRatio}function eb(e,t){const{left:n,top:r,bottom:a,right:s,width:l,height:d}=e.getBoundingClientRect(),f=t.getBoundingClientRect();return{left:n-f.left,top:r-f.top,bottom:f.bottom-a,right:f.right-s,width:l,height:d}}const qU=[];for(let e=0;e<=1;e+=.01)qU.push(e);class $U{constructor(t,n){if(this.getRenderParams=n,this.el=document.createElement("div"),this.position=null,this.id="",this.removePositionObserve=null,this.viewId=`${Pr.get("tagName")}-${rC()}`,this.getSDK=()=>Cu(this.container.getSessionId()),!t)throw new Error(`The ${Pr.get("tagName")} must have a ${Pr.get("tagName")}-container as its ancestor element.`);this.container=t,this.el.style.width="100%",this.el.style.height="100%"}getElement(){return this.el}init(){this.removeSubscribe=Pr.subscribe((t,n,r)=>{r===this.getCanvas().id&&(t==="resize"?(this.updateVideoPosition(),setTimeout(()=>{this.updateVideoPosition()},300)):t==="scale"&&gu(this.getSDK(),`VPSC:${ds(this.getCanvas())}`))})}getCanvas(){return this.container.getCanvas()}initObservePosition(){this.stopObservePosition(),this.removePositionObserve=function(t,n,r){const{wrapper:a=document.documentElement}=r,s=zU(n,300);let l,d;const f=(p=1,h=!1)=>{l&&(l.disconnect(),l=null);const{top:g,left:v,width:S,height:b,right:_,bottom:E}=eb(t,a);if(!S||!b)return void n({hide:!0,cross:!1,width:0,height:0,top:0,left:0,bottom:0,right:0});const A=((U,x,$,W)=>U<0||x<0||$<0||W<0)(g,E,v,_),w=((U,x,$,W,z,L)=>U<=0&&U+L<=0||x<=0&&x+L<=0||$<=0&&$+z<=0||W<=0&&W+z<=0)(g,E,v,_,S,b),O={root:a,threshold:A?qU:p};A||(O.rootMargin=`${-g}px ${-_}px ${-E}px ${-v}px`);let I=!0,V=!0;h&&(V=!1),n({hide:w,cross:A,top:g,left:v,width:S,height:b,bottom:E,right:_}),s({hide:w,cross:A,top:g,left:v,width:S,height:b,bottom:E,right:_},!0),l=new IntersectionObserver(([U])=>{if(U.intersectionRatio===0)return V?f(1,!0):void 0;if(p!==U.intersectionRatio){if(!I)return f();f(U.intersectionRatio===0?1e-7:U.intersectionRatio)}U.intersectionRatio===1&&A&&f(),I=!1},O),l.observe(t)};return f(),d=new ResizeObserver(()=>f()),d.observe(t),()=>{l==null||l.disconnect(),l=null,d==null||d.disconnect(),d=null}}(this.el,(t,n)=>{n?setTimeout(()=>{this.updateVideoPosition()},300):this.updateVideoPosition(t)},{wrapper:this.container})}stopObservePosition(){this.removePositionObserve&&(this.removePositionObserve(),this.removePositionObserve=null)}getCurrentPosition(t){return this.transformRectToPosition(eb(t,this.container))}transformRectToPosition(t){const{left:n,width:r,height:a,bottom:s,top:l}=t,d=ds(this.getCanvas());return{x:n*d,y:s*d,width:r*d,height:a*d,left:n*d,bottom:s*d,top:l*d}}playVideo(t){this.initObservePosition(),this.id=t;const n=this.getCurrentPosition(this.el);this.addRender(Object.assign(Object.assign(Object.assign({},n),{canvas:this.getCanvas(),zone:this.viewId,userId:Number(t),ssrc:Number(t)}),this.getRenderParams())),this.position=n}updateVideoPosition(t){if(!this.id)return;const n=this.transformRectToPosition(t||eb(this.el,this.container));this.position&&FU(n,this.position)||(this.zoomRender(Object.assign(Object.assign(Object.assign({},n),{userId:Number(this.id),canvas:this.getCanvas(),RGBA:this.container.getRGBA(),zone:this.viewId}),this.getRenderParams())),this.position=n)}stopVideo(){this.stopObservePosition(),this.id&&this.position&&(this.id&&this.stopRender(Object.assign(Object.assign(Object.assign({},this.position),{userId:Number(this.id),canvas:this.getCanvas(),RGBA:this.container.getRGBA(),zone:this.viewId}),this.getRenderParams())),this.position=null,this.id="")}updateVideoQuality(t){this.getSDK().Notify_MeidaSDK(ir.UPDATE_VIDEO_QUALITY,{userId:this.id,videoQuality:t})}destroy(){var t;this.stopVideo(),(t=this.removeSubscribe)===null||t===void 0||t.call(this)}}class KU{constructor(t){this.container=t,this.id="",this.getSDK=()=>{var n;return Cu((n=this.container)===null||n===void 0?void 0:n.getSessionId())},this.el=document.createElement("video"),this.el.style.width="100%",this.el.style.height="100%",this.el.setAttribute("autoplay","true"),this.el.setAttribute("muted","true"),this.el.setAttribute("playsinline","true")}getElement(){return this.el}init(){}playVideo(t){this.id=t,this.addRender({userId:Number(t),videodom:this.el})}stopVideo(){this.id&&(this.stopRender({userId:Number(this.id),videodom:this.el}),this.id="")}updateVideoQuality(t){}destroy(){this.stopVideo()}}class Q3 extends $U{addRender({width:t,height:n,x:r,y:a,canvas:s,zone:l,userId:d,left:f,bottom:p,top:h,fillMode:g,videoQuality:v}){this.getSDK().Notify_MeidaSDK(ir.ADD_RENDER_VIDEO,{width:t,height:n,x:r,y:a,canvas:s,zone:l,userId:d,left:f,bottom:p,top:h,fillMode:g,videoQuality:v})}zoomRender({width:t,height:n,x:r,y:a,userId:s,canvas:l,RGBA:d,zone:f,left:p,bottom:h,top:g}){this.getSDK().Notify_MeidaSDK(ir.ZOOM_RENDER,{width:t,height:n,x:r,y:a,userId:s,canvas:l,RGBA:d,zone:f,left:p,bottom:h,top:g})}stopRender({width:t,height:n,x:r,y:a,userId:s,canvas:l,doNotClean:d,RGBA:f,zone:p,left:h,bottom:g,top:v,videoQuality:S}){this.getSDK().Notify_MeidaSDK(ir.STOP_RENDER_VIDEO,{width:t,height:n,x:r,y:a,userId:s,canvas:l,doNotClean:d,RGBA:f,zone:p,left:h,bottom:g,top:v,videoQuality:S})}}class Z3 extends KU{addRender({userId:t,videodom:n}){this.getSDK().Notify_MeidaSDK(ir.ADD_RENDER_VIDEO,{userId:t,videodom:n})}stopRender({userId:t,videodom:n}){this.getSDK().Notify_MeidaSDK(ir.STOP_RENDER_VIDEO,{userId:t,videodom:n})}}class J3 extends $U{addRender({width:t,height:n,userId:r,canvas:a,isFromMainSession:s}){this.getSDK().Notify_MeidaSDK(ir.START_SHARING,{width:t,height:n,canvas:a,ssrc:r,isFromMainSession:s})}zoomRender(){}stopRender({canvas:t}){this.getSDK().Notify_MeidaSDK(ir.STOP_SHARING,{canvas:t})}}class UI extends KU{addRender({userId:t,videodom:n}){this.getSDK().Notify_MeidaSDK(ir.SWITCH_CANVAS_FOR_VIDEO_CAPTURE,[n]),this.getSDK().Notify_MeidaSDK(ir.ADD_RENDER_VIDEO,{userId:t,videodom:n})}stopRender({userId:t,videodom:n}){this.getSDK().Notify_MeidaSDK(ir.STOP_RENDER_VIDEO,{userId:t,videodom:n})}}const Ja="node-id",mf="media-type",hm="video-quality",WU="share-source",QU="fill-mode",ZU="stop-no-clean";class bd extends HTMLElement{static get observedAttributes(){return[Ja,mf,hm]}constructor(){super(),this.container=null,xU(this,bd.customAttributes),this.getRenderParams=this.getParsedParams.bind(this),this.attachShadow({mode:"open"})}initRender(){var t,n,r;this.render&&this.render.destroy();const a=this.getAttribute(Ja),s=a&&((t=this.getCurrentMediaSDK())===null||t===void 0?void 0:t.isPreviewVideotag(a)),l=this.getAttribute(mf);let d=0;s?(this.render=new UI(this.getContainer()),d=1):l===Ig.Share?(this.render=new J3(this.getContainer(),this.getRenderParams),d=2):!((n=this.getCurrentMediaSDK())===null||n===void 0)&&n.getWebRTCFlag()?(this.render=new Z3(this.getContainer()),d=4):(this.render=new Q3(this.getContainer(),this.getRenderParams),d=3),this.getCurrentMediaSDK()&&gu(this.getCurrentMediaSDK(),`VPREN:${d}`),this.shadowRoot&&(this.shadowRoot.innerHTML="",this.shadowRoot.appendChild(this.render.getElement())),this.render.init();const f=this.getAttribute(Ja);$s(f)||(r=this.render)===null||r===void 0||r.playVideo(f)}getContainer(){return this.container||(this.container=this.closest(`${Pr.get("tagName")}-container`)),this.container}getCurrentMediaSDK(){var t;return Cu((t=this.getContainer())===null||t===void 0?void 0:t.getSessionId())}getParsedParams(){return{fillMode:PI(this,QU),doNotClean:PI(this,ZU),isFromMainSession:this.getAttribute(WU)==="main",videoQuality:this.getAttribute(hm)}}connectedCallback(){this.style.display="block",HU(this,bd.defaultValues),this.initRender(),this.removeSubscribe=Pr.subscribe((t,n,r)=>{var a,s;t==="failover"&&r===(((a=this.getContainer())===null||a===void 0?void 0:a.getSessionId())||Vf)&&(this.initRender(),$s(this.getAttribute(Ja))||(s=this.render)===null||s===void 0||s.playVideo(this.getAttribute(Ja)))})}disconnectedCallback(){var t,n;(t=this.removeSubscribe)===null||t===void 0||t.call(this),(n=this.render)===null||n===void 0||n.destroy()}attributeChangedCallback(t,n,r){var a,s;if(this.render)switch(t){case Ja:!!(!((a=this.getCurrentMediaSDK())===null||a===void 0)&&a.isPreviewVideotag(r))!=this.render instanceof UI&&this.initRender(),$s(n)&&!$s(r)?this.render.playVideo(r):$s(n)||$s(r)?$s(n)||this.render.stopVideo():(this.render.stopVideo(),this.render.playVideo(r));break;case mf:this.initRender();break;case hm:(s=this.render)===null||s===void 0||s.updateVideoQuality(r)}}}bd.customAttributes=[Ja,mf,hm,WU,QU,ZU],bd.defaultValues={[Ja]:"",[mf]:Ig.Video};const VI="session-id",Rh="z-index";class _d extends HTMLElement{static get observedAttributes(){return[VI,Rh]}constructor(){super(),this.canvasId="video-player-canvas-"+rC(),this.needInitCanvas=!1,this.callback=null,xU(this,_d.customAttributes);const t=this.attachShadow({mode:"open"}),n=document.createElement("slot");this.appendCanvas=r=>{t.insertBefore(r,n)},t.appendChild(n)}connectedCallback(){this.style.display="block",this.style.position||(this.style.position="relative"),HU(this,_d.defaultValues),this.needInitCanvas&&this.initCanvasEvents(),this.removeSubscribe=Pr.subscribe((t,n,r)=>{t==="failover"&&r===(this.getSessionId()||Vf)&&(this.replaceCanvas(),this.initCanvasEvents())})}disconnectedCallback(){var t,n,r;(t=this.removeListener)===null||t===void 0||t.call(this),(n=this.removeSubscribe)===null||n===void 0||n.call(this),this.callback&&((r=Cu(this.getSessionId()))===null||r===void 0||r.removeCallback(this.callback))}attributeChangedCallback(t,n,r){t===Rh&&this.canvas&&r&&(this.canvas.style.zIndex=r)}createCanvas(){this.getCurrentMediaSDK()&&gu(this.getCurrentMediaSDK(),"VPCC"),this.canvas=NI(this.clientWidth,this.clientHeight,this.getAttribute(Rh)||"",this.canvasId,t=>gu(this.getCurrentMediaSDK(),t)),this.appendCanvas(this.canvas),this.isConnected?this.initCanvasEvents():this.needInitCanvas=!0}initCanvasEvents(){var t;this.removeListener=LI(this.canvas,this),this.callback=(n,r)=>{var a,s;n===_E.WEBGL_LOST_IN_MULTI_VIEW&&r.replaceCanvas&&r.canvasId===((a=this.canvas)===null||a===void 0?void 0:a.id)&&(this.replaceCanvas(),(s=Cu(this.getSessionId()))===null||s===void 0||s.Notify_MeidaSDK(ir.WEBGL_LOST_REPLACE_CANVAS,{canvasId:this.canvasId,canvas:this.canvas}))},(t=this.getCurrentMediaSDK())===null||t===void 0||t.addCallback(this.callback)}replaceCanvas(){var t;if(this.getCurrentMediaSDK()&&gu(this.getCurrentMediaSDK(),"VPRC"),this.canvas){(t=this.removeListener)===null||t===void 0||t.call(this);const n=NI(this.clientWidth,this.clientHeight,this.getAttribute(Rh)||"",this.canvasId,r=>gu(this.getCurrentMediaSDK(),r));this.removeListener=LI(n,this),this.shadowRoot&&this.shadowRoot.replaceChild(n,this.canvas),this.canvas=n}}getCanvas(){return this.canvas||this.createCanvas(),this.canvas}getSessionId(){return this.getAttribute(VI)||void 0}getCurrentMediaSDK(){return Cu(this.getSessionId())}getRGBA(){return function(t){let n=0,r=0,a=0,s=0;if(t[0]==="r")if(t[3]==="a"){const l=t.slice(5,-1).split(",").map(d=>parseInt(d.trim(),10));n=l[0],r=l[1],a=l[2],s=l[3]}else{const l=t.slice(4,-1).split(",").map(d=>parseInt(d.trim(),10));n=l[0],r=l[1],a=l[2]}else if(t[0]==="#"){let l=t.slice(1);l.length===3&&(l=l.split("").map(f=>f.repeat(2)).join(""));const d=parseInt(l,16);n=d>>16&255,r=d>>8&255,a=255&d}return{R:n/255,G:r/255,B:a/255,A:s}}(getComputedStyle(this).getPropertyValue("background-color"))}}_d.customAttributes=[],_d.defaultValues={};class Yr{constructor(){this.audioPlaybackUrl=void 0,this.videoPlaybackUrl=void 0,this._audioElement=void 0,this._videoElement=void 0,this.videoSrc=void 0,this.isUsingSameFile=void 0}static getInstance(){return this.instance===void 0&&(this.instance=new Yr),this.instance}setAudioElement(t){return this._audioElement===void 0&&(this._audioElement=new Audio),new Promise((n,r)=>{if(this.videoSrc===t.url)this._audioElement.pause(),this.isUsingSameFile=!0,this._videoElement.muted=!1,(s=this._videoElement).currentTime>0&&!s.paused&&!s.ended&&s.readyState>2?n(""):this._videoElement.play().then(()=>{n("")}).catch(()=>{r()});else{var a;this.isUsingSameFile=!1;const l=Me.isFirefox?"canplay":"canplaythrough",d=()=>{this._audioElement.play().then(()=>{this._audioElement.removeEventListener(l,d),n("")})},f=()=>{this._audioElement.removeEventListener(l,d),this._audioElement.removeEventListener("error",f),r()};this._audioElement.addEventListener(l,d),this._audioElement.addEventListener("error",f),this._audioElement.src=t.url,this._audioElement.loop=!!t.loop,$i(t.url)&&this._audioElement.setAttribute("crossorigin",""),this._audioElement.currentTime=Math.max((a=t.currentTime)!==null&&a!==void 0?a:0,1e-4)}var s})}setVideoElement(t){return this._videoElement===void 0&&(this._videoElement=document.createElement("video")),new Promise((n,r)=>{var a;this.videoSrc=t.url;const s=Me.isFirefox?"canplay":"canplaythrough",l=()=>{this._videoElement.play().then(()=>{this._videoElement.removeEventListener(s,l),n("")})},d=()=>{this._videoElement.removeEventListener(s,l),this._videoElement.removeEventListener("error",d),r()};this._videoElement.addEventListener(s,l),this._videoElement.addEventListener("error",d),this._videoElement.src=t.url,this.isUsingSameFile||(this._videoElement.muted=!0),this._videoElement.loop=!!t.loop,this._videoElement.currentTime=(a=t.currentTime)!==null&&a!==void 0?a:0,$i(t.url)&&this._videoElement.setAttribute("crossorigin",""),Me.isSafari&&!document.getElementById(VR)&&(this._videoElement.id=VR,this._videoElement.setAttribute("style","position:fixed;top:-10000px;left:-10000px"),document.body.appendChild(this._videoElement))})}get audioElement(){return this.isUsingSameFile?this._videoElement:this._audioElement}get videoElement(){return this._videoElement}stopAudioElement(){this.isUsingSameFile||this._audioElement&&(this._audioElement.currentTime=0,this._audioElement.pause())}stopVideoElement(){this._videoElement&&this._videoElement.pause(),this.videoSrc=void 0}}function EE(e){const{audio:{isBackgroundNoiseSuppression:t,originalSound:n}}=e,r={currentSelect:BR.Denoise},a={highfidelity:!1,stereo:!1};if(n){Object.assign(r,{currentSelect:BR.OriginalSound});const s={};typeof n=="boolean"?Object.assign(s,a):Object.assign(s,{highfidelity:!!n.hifi,stereo:!!n.stereo}),Object.assign(r,{originalSound:s})}return Object.assign(r,{backgroundNoiseSuppression:t?jR.Zoom:jR.Browser}),r}function jf(e,t,n,r){const{meeting:{userId:a},audio:{localShareAudioUserMutedList:s},share:{isReceiveSharingFromMainSession:l}}=r;return s.filter(d=>d.userId!==t).forEach(d=>{e.setSharingAudioVolume(d.userId,!0,d.isFromMainSession)}),e.setSharingAudioVolume(t,n,!!l),t===a?Zm(n):NL({userId:t,muted:n})}async function id(e,t,n){var r,a;const{audio:{audioSsrc:s,activeMicrophone:l,activeSpeaker:d,isAllowToTalk:f,customizeAudioOption:{speakerOnly:p,mute:h,microphoneId:g,speakerId:v},isUsingMediaPlayback:S,mediaPlaybackFile:b,isHIDEnabled:_,microphoneDevicesList:E,isVerifiedAudioPermissionOnIOSMobile:A,speakerDevicesList:w},meeting:{svcUrl:O,conId:I,reportDomain:V,isAudioBridgeEnabled:U,userId:x,supportLocalAB:$,abToken:W}}=t,z=Ve(t),L=!!p||Sn(z.userRole)&&!f,T=n??!L;Vr()&&(U||console.warn("Cannot start audio due to the service is not ready."),await or(cU(t,!T)).then(P=>{let[D,K]=P;return D&&K?Promise.resolve():Promise.reject()}));let N=l,F=d;if(g!==void 0||v!==void 0){let P=E,D=w;if(E.length===0){const{microphones:K,speakers:J}=await or(uE());P=K,D=J}g&&P.findIndex(K=>K.deviceId===g)>-1&&(N=g),v&&D.findIndex(K=>K.deviceId===g)>-1&&(F=v)}if(S&&b!=null&&b.url){const P=Yr.getInstance();await P.setAudioElement(b),N=P.audioElement}else Yr.getInstance().stopAudioElement();return L&&!A&&Me.isIOSMobile&&await async function(){await navigator.mediaDevices.getUserMedia({audio:!0})}(),(r=e.joinComputerAudio(s,N,F,T,EE(t),Vr()?{rwgHost:O,cid:I,nginxHost:V,abToken:W,supportLocalAB:$,useWebRTCOnDesktop:!Me.isAndroidOrIOSBrowser}:void 0,_?{microphoneLabel:(a=E.find(P=>P.deviceId===l))===null||a===void 0?void 0:a.label,defaultMuted:!(z==null||!z.muted)}:void 0))===null||r===void 0?void 0:r.then(()=>{h&&(at.createAgent().mute(x,!0),e.muteAudio()),z!=null&&z.muted?e.muteAudio():e.unmuteAudio()})}async function iC(e,t,n){const r=[],{audio:{isJoinComputerAudioBeforeSharingAudio:a,mutedBeforeSharingAudio:s}}=n,l=Ve(n);return a===!0&&(await id(e,n),r.push(yd(void 0)),s===!1&&(r.push(If(lf.SharingAudio)),t.mute(l.userId,!1)),r.push(fa(void 0))),r}async function jI(e,t,n){const{audio:{isSharingAudio:r},meeting:{userId:a}}=n,s=[];if(s.push(jf(e,a,!0,n)),r){await e.leaveSharingAudio(!1),s.push(vd(!1));const l=await iC(e,t,n);s.push(...l),setTimeout(()=>{k(hd,{state:"off"})},0)}return s.push(Wg(!1)),s}async function AE(e,t,n){const{audio:{audioSsrc:r,activeMicrophone:a,activeSpeaker:s},meeting:{svcUrl:l,conId:d,reportDomain:f,supportLocalAB:p,abToken:h}}=n,g=Ve(n),v=[];if(!So()){const S=await async function(b,_){const E=[],A=Ve(_),{audio:{isMicrophoneForbidden:w}}=_;return(A==null?void 0:A.audio)===bt.Computer&&(E.push(yd(!0)),E.push(fa(A.muted)),A.muted||b.muteAudio(),await b.leaveComputerAudio(),E.push(Yf(0)),w&&E.push(wA(!1))),E}(e,n);v.push(...S)}return await e.leaveSharingAudio(!0),await e.joinSharingAudio({ssrc:r,microphoneDeviceId:a,speakerDeviceId:s,isCaptureAudio:Sn(g.userRole),audioBridge:Vr()?{rwgHost:l,cid:d,nginxHost:f,abToken:h,supportLocalAB:p,useWebRTCOnDesktop:!Me.isAndroidOrIOSBrowser}:void 0}),v.push(Wg(!0)),v.push(vd(!0)),v.push(jf(e,g.userId,!1,n)),v.findIndex(S=>S.type===`${yd}`&&S.payload===!0)>-1&&(v.push(ra(fo.SharingAudio)),t.mute(n.meeting.userId,!0)),setTimeout(()=>{k(hd,{state:"on"})},0),v}Yr.instance=void 0;const Mg=()=>{if(Hk())return!0;{var e;let{browser:n}=Me;if(n=(e=n)===null||e===void 0?void 0:e.toLocaleLowerCase(),n.indexOf("safari")>-1&&n.indexOf("ios-safari")===-1){var t;const r=(t=navigator.userAgent.match(/version\/(\d+\.?\d+)/i))===null||t===void 0?void 0:t[1];return nA(r||"","15.2")>=0}return!1}};function BI(e,t,n){for(let r=0;r<n.length&&t.length!==0;r++){const{userId:a,displayName:s}=n[r];if(t.includes(a)){const l=e.find(d=>d.userId===a);l&&(l.displayName=s,t.splice(t.indexOf(a),1))}}}function So(){return qe.isSupportOpenMicWhenShareAudio()}function xI(){return qe.isSupportAudioDenoise()}function HI(){return qe.isSupportStereoAudio()}function zI(){var e;return typeof((e=window.navigator.hid)===null||e===void 0?void 0:e.requestDevice)=="function"}function CE(e,t,n){const{audio:{isAllowToTalk:r,customizeAudioOption:a},media:{audioDecodeStatus:s,audioEncodeStatus:l}}=e;return{encodeInitStatus:Sn(t.userRole)&&!r||n||a!=null&&a.speakerOnly||Vr()?"success":l,decodeInitStatus:Vr()?"success":s}}function kg(e,t,n){Vr()?cU(t,n).subscribe(r=>{let[a,s]=r;a&&s&&e.joinOrLeaveVoip(!0)}):e.joinOrLeaveVoip(!0)}const Jo=at.createAgent(),Ir=GA(Ar(qe.getInstance())),FI=e=>!e.muted,Mc=at.createAgent(),Tl=GA(Ar(qe.getInstance())),tb=at.createAgent(),kc=Ar(qe.getInstance()),Ih={asnIds:{asn1:{userId:0,displayName:null},asn2:{userId:0,displayName:null},asn3:{userId:0,displayName:null}},microphoneDevicesList:[],speakerDevicesList:[],activeMicrophone:"default",activeSpeaker:"default",isMicrophoneForbidden:!1,audioSsrc:0,bCanUnmute:!1,bMutedUponEntry:!1,isAllowToTalk:void 0,dialout:[],canPlayAudio:!1,mutedSource:void 0,unmutedSource:void 0,isUserGrantCaptureAudio:!1,webrtcRestartCount:0,isComputerAudioLoading:!1,isUsingMediaPlayback:!1,customizeAudioOption:{},localShareAudioUserMutedList:[],locallyMutedAudioList:[],localUserAudioVolumeList:[],isStopAllImcomingAudio:!1,statistic:{encode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0},decode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0}}},Y3=br({[`${EL}`]:B((e,t)=>{let{payload:n}=t;e.asnIds={...n}}),[`${AL}`]:B((e,t)=>{let{payload:n}=t;e.bCanUnmute=n}),[`${CL}`]:B((e,t)=>{let{payload:n}=t;const{sequence:r,phoneNumber:a}=n;e.dialout.findIndex(s=>s.sequence===r)===-1&&e.dialout.push({sequence:r,phoneNumber:a,returnCode:-1})}),[`${wL}`]:B((e,t)=>{let{payload:n}=t;const{sequence:r,code:a,nodeId:s}=n,l=e.dialout.find(d=>d.sequence===r);l&&(l.returnCode=a,s&&(l.phoneNodeId=s))}),[`${M_}`]:B((e,t)=>{let{payload:n}=t;e.isAllowToTalk=n,e.isAllowToTalkAttendeeConnected=!1}),[`${ra}`]:B((e,t)=>{let{payload:n}=t;e.mutedSource=n}),[`${If}`]:B((e,t)=>{let{payload:n}=t;e.unmutedSource=n}),[`${OL}`]:B((e,t)=>{let{payload:n}=t;e.audioSsrc=n}),[`${TL}`]:B((e,t)=>{let{payload:n}=t;e.bMutedUponEntry=n}),[`${RL}`]:B((e,t)=>{let{payload:n}=t;e.isUserGrantCaptureAudio=n}),[`${wA}`]:B((e,t)=>{let{payload:n}=t;e.isMicrophoneForbidden=n}),[`${Yf}`]:B((e,t)=>{let{payload:n}=t;e.webrtcRestartCount=n}),[`${IL}`]:B((e,t)=>{let{payload:n}=t;e.microphoneDevicesList=n}),[`${DL}`]:B((e,t)=>{let{payload:n}=t;e.speakerDevicesList=n}),[`${Rf}`]:B((e,t)=>{let{payload:n}=t;e.activeMicrophone=n}),[`${Kg}`]:B((e,t)=>{let{payload:n}=t;e.activeSpeaker=n}),[`${gd}`]:B((e,t)=>{let{payload:n}=t;e.canPlayAudio=n}),[`${eu}`]:B((e,t)=>{let{payload:n}=t;e.isComputerAudioLoading=n}),[`${OA}`]:B((e,t)=>{let{payload:n}=t;if(n){const{speakerOnly:r,mute:a,backgroundNoiseSuppression:s,originalSound:l,syncButtonsOnHeadset:d,mediaFile:f,microphoneId:p,speakerId:h}=n;e.customizeAudioOption.speakerOnly=r,e.customizeAudioOption.mute=a,e.customizeAudioOption.microphoneId=p,e.customizeAudioOption.speakerId=h,e.isBackgroundNoiseSuppression=!!s,e.isHIDEnabled=!!d,e.originalSound=l,$f(e.mediaPlaybackFile,f)||(e.mediaPlaybackFile=f,e.isUsingMediaPlayback=!(f==null||!f.url)),a&&(e.mutedSource=fo.Inherited)}}),[`${k_}`]:B((e,t)=>{let{payload:n}=t;e.isAllowToTalkAttendeeConnected=n}),[`${fa}`]:B((e,t)=>{let{payload:n}=t;e.mutedBeforeSharingAudio=n}),[`${vd}`]:B((e,t)=>{let{payload:n}=t;e.isSharingAudio=n}),[`${Zm}`]:B((e,t)=>{let{payload:n}=t;e.isShareAudioMuted=n}),[`${kL}`]:B((e,t)=>{let{payload:n}=t;const{userId:r,isFromMainSession:a}=n;e.localShareAudioUserMutedList.findIndex(s=>s.userId===r)===-1&&e.localShareAudioUserMutedList.push({userId:r,isFromMainSession:a,muted:!1})}),[`${NL}`]:B((e,t)=>{let{payload:n}=t;const r=e.localShareAudioUserMutedList.find(a=>a.userId===n.userId);r&&(r.muted=n.muted)}),[`${yd}`]:B((e,t)=>{let{payload:n}=t;e.isJoinComputerAudioBeforeSharingAudio=n}),[`${Wg}`]:B((e,t)=>{let{payload:n}=t;e.isShareAudioEnabled=n}),[`${Jm}`]:B((e,t)=>{let{payload:n}=t;e.statistic.encode=n.data}),[`${Ym}`]:B((e,t)=>{let{payload:n}=t;e.statistic.decode=n.data}),[`${LL}`]:B((e,t)=>{let{payload:n}=t;e.locallyMutedAudioList.findIndex(r=>r===n)===-1&&e.locallyMutedAudioList.push(n)}),[`${Xm}`]:B((e,t)=>{let{payload:n}=t;const r=e.locallyMutedAudioList.findIndex(a=>a===n);r!==-1&&e.locallyMutedAudioList.splice(r,1)}),[`${PL}`]:B((e,t)=>{let{payload:n}=t;const r=e.localUserAudioVolumeList.find(a=>a.userId===n.userId);r?r.volume=n.volume:e.localUserAudioVolumeList.push(n)}),[`${UL}`]:B((e,t)=>{let{payload:n}=t;const r=e.localUserAudioVolumeList.findIndex(a=>a.userId===n.userId);r!==-1&&e.localUserAudioVolumeList.splice(r,1)}),[`${N_}`]:B((e,t)=>{let{payload:n}=t;e.isBackgroundNoiseSuppression=n}),[`${VL}`]:B((e,t)=>{let{payload:n}=t;e.isHIDEnabled=n}),[`${L_}`]:B((e,t)=>{let{payload:n}=t;e.mediaPlaybackFile=n,e.isUsingMediaPlayback=!(n==null||!n.url)}),[`${P_}`]:B((e,t)=>{let{payload:n}=t;e.isStopAllImcomingAudio=n}),[`${jL}`]:B((e,t)=>{let{payload:n}=t;e.isVerifiedAudioPermissionOnIOSMobile=n}),[`${TA}`]:B((e,t)=>{let{payload:n}=t;e.isAudioBridgeSignalReconnecting=n}),[`${U_}`]:B((e,t)=>{let{payload:n}=t;e.originalSound=n}),[`${Du}`]:B((e,t)=>{let{payload:n}=t;e.leaveAudioSource=n}),[`${ML}`]:(e,t)=>{let{dialout:n,locallyMutedAudioList:r,localUserAudioVolumeList:a,customizeAudioOption:s,isHIDEnabled:l,isBackgroundNoiseSuppression:d,isStopAllImcomingAudio:f,mediaPlaybackFile:p,isUsingMediaPlayback:h,isVerifiedAudioPermissionOnIOSMobile:g,activeSpeaker:v,activeMicrophone:S}=e,{payload:b}=t;return b?{...Ih,dialout:n,locallyMutedAudioList:r,localUserAudioVolumeList:a,customizeAudioOption:{...Ih.customizeAudioOption,speakerOnly:s.speakerOnly},isHIDEnabled:l,isBackgroundNoiseSuppression:d,isStopAllImcomingAudio:f,mediaPlaybackFile:p,isUsingMediaPlayback:h,isVerifiedAudioPermissionOnIOSMobile:g,activeSpeaker:v,activeMicrophone:S}:{...Ih}}},Ih),X3={dialEpics0:(e,t)=>Ce(e,8198).pipe(Ie(t),oe(n=>{let[r,a]=n;return a.audio.dialout.map(s=>s.sequence).includes(r.payload.seq)}),ue(n=>{let[r,a]=n;const{payload:{seq:s,body:{phoneNodeID:l,result:d}}}=r,f=[wL({code:d,sequence:s,nodeId:l})];if(k(vN,{code:d}),d===io.Success){if(k(SN),l&&kt(a).findIndex(h=>h.userId===l)>-1){var p;const h=(p=a.audio.dialout.find(g=>g.sequence===s))===null||p===void 0?void 0:p.phoneNumber;h&&(f.push(Of({userId:l,key:"phoneNumber",value:h})),k(Oo,[{userId:l,phoneNumber:h}]))}}else[io.Canceling,io.Canceled,io.CancelFailed].includes(d)?d===io.Canceled?k(_N):d===io.CancelFailed&&k(EN):[io.Calling,io.Ringing,io.Accepted,io.Success].indexOf(d)===-1&&k(bN);return ve(f)}))},ez={epics0:(e,t)=>Ce(e,12033).pipe(Ie(t),Ae(n=>{let[r,a]=n;const{participants:{allowTalkAttendeesList:s}}=a,l=r.payload.body;let d={};if(l){const f=kt(a),p=Object.keys(l).map(g=>({key:g,userId:l[g]})),h=p.map(g=>g.userId);BI(p,h,f),s.length>0&&h.length>0&&BI(p,h,s),d=p.reduce((g,v)=>({...g,[`${v.key}`]:{userId:v.userId,displayName:v.displayName}}),{}),k(gN,Object.values(d))}return EL(d)})),epics1:(e,t)=>Ce(e,16135).pipe(Ie(t),De(n=>{let[r,a]=n;const{payload:{body:{id:s,bLeadershipOn:l}}}=r,{audio:{bCanUnmute:d}}=a,f=Ve(a);if(f){const{isHost:p,bCoHost:h,userId:g,audio:v,muted:S}=f,b=p||h;l&&Nr(g,s)&&(v!==null&&v!==""&&S!==!0||!b&&!d||k(Xh,ES.Spotlight))}}),je(_e)),epics2:(e,t)=>Ce(e,12037).pipe(Ie(t),De(n=>{let[,r]=n;const a=Ve(r);(a==null?void 0:a.audio)!==null&&(a==null?void 0:a.audio)!==""&&(a==null?void 0:a.muted)==1&&k(Xh,ES.Unmute)}),je(_e)),epics3:(e,t)=>Ce(e,ri).pipe(oe(n=>n.payload.body&&["bCanUnmute","bMutedAll","bMutedUponEntry"].some(r=>n.payload.body[r]!==void 0)),ue(n=>{const{payload:{body:{bCanUnmute:r,bMutedAll:a,bMutedUponEntry:s}}}=n,l=[];if(r!==void 0&&l.push(AL(n.payload.body.bCanUnmute)),a!==void 0){const d=Ve(t.value);(d==null?void 0:d.audio)!==bt.Computer&&(d==null?void 0:d.audio)!==bt.Phone||d.muted!=0||n.payload.body.bMutedAll&&l.push(ra(fo.PassiveByMuteAll))}return s!==void 0&&l.push(TL(n.payload.body.bMutedUponEntry)),ve(l)})),epics4:(e,t)=>Ce(e,Pt).pipe(Ie(t),oe(n=>{let[,r]=n;return r.socket.zoomSocketStatus===Ot.Connected}),ue(n=>{let[r,a]=n;const{payload:{body:{update:s}}}=r;if(s!=null&&s.some(l=>l.audio!==void 0||l.muted!==void 0)){const{meeting:{userId:l}}=a,d=s.filter(p=>p.id!==l),f=s.filter(p=>p.id===l);if(d&&d.forEach(p=>{k(yN,p)}),f.length>0)return Mu(t).pipe(ue(p=>{const{audio:{mutedSource:h,unmutedSource:g,isAllowToTalk:v,isShareAudioEnabled:S,isSharingAudio:b,isAudioBridgeSignalReconnecting:_,leaveAudioSource:E,customizeAudioOption:{speakerOnly:A}}}=t.value,w=p;return ve(f).pipe(hs(async O=>{const I=[];if(O.audio!==w.audio)if(O.audio==="")k(wf,{source:E}),I.push(Du(void 0));else if(O.audio===bt.Computer){const V=Sn(w.userRole)&&!v||!!A;b&&k(Bl),V&&(k(Bl),Me.isIOSMobile&&I.push(jL(!0))),_&&(k(Bl),I.push(TA(!1)))}else O.audio===bt.Phone&&(w.audio===bt.Computer&&(await Ir.leaveComputerAudio(),I.push(Du(Cf.Pstn)),Jo.joinOrLeaveVoip(!1)),k(h_));if(w.audio!==""&&O.muted!==w.muted){if(O.muted!==w.muted){if(O.muted===!0){if(h!==fo.Inherited){const V=h??fo.PassiveByMuteOne;k(gA,{source:V})}w.audio!==bt.Computer||S&&!So()||Ir.muteAudio()}else if(O.muted===!1){if(g!==lf.Inherited){const V=g??lf.Passive;k(yA,{source:V})}w.audio===bt.Computer&&Ir.unmuteAudio()}}O.muted!==void 0&&I.push(ra(void 0),If(void 0))}return I}))}))}return _e})),epics5:(e,t)=>Ce(e,12036).pipe(Ie(t),ue(n=>{let[r,a]=n;const s=Ve(a),{media:{audioEncodeStatus:l}}=a,{promoterID:d,bAllowTalk:f}=r.payload.body;if((s==null?void 0:s.userId)===d){if(k(TN,f),f)return l!=="success"&&Ir.enableAudioEncode(),tr("audio",l,"success").pipe(ue(p=>(p&&k(Xh,ES.AllowToTalk),_e)),Ii(M_(!0)));if(Jo.mute(d,!0),(s==null?void 0:s.audio)===bt.Computer)return Ir.leaveComputerAudio(),On(300).pipe(De(async()=>{(Mg()?or(Ri(Ft(document,"click").pipe(ut(1)),Ft(document,"touchend").pipe(ut(1)))):Promise.resolve(!0)).then(()=>{id(Ir,a,!1)})}),je(_e),Ii(M_(!1),ra(fo.Inherited)))}return _e})),epics6:e=>Ce(e,8205).pipe(De(t=>{k("AUDIO_ALLOW_TO_TALK_RESPONSE",t.payload.body)}),je(_e)),epics7:(e,t)=>Kl(e,24597).pipe(Ie(t),De(n=>{let[r,a]=n;const s=Ve(a);(s==null?void 0:s.audio)===bt.Phone?Jo.audioDrop(s.userId):(s==null?void 0:s.audio)===bt.Computer&&r.payload.body.bPromote}),je(_e)),epics8:(e,t)=>Ce(e,12035).pipe(Ie(t),it(n=>{let[r,a]=n;const{meeting:{currentUserAudioBeforeReset:s}}=a,{payload:{body:{ssrc:l}}}=r,d=Mu(t).pipe(ue(f=>{if(s===bt.Computer&&(f==null||!f.audio)){const{encodeInitStatus:p,decodeInitStatus:h}=CE(t.value,f);return tr("audio",p,h).pipe(oe(g=>{let[v,S]=g;return v&&S}),De(()=>{(Mg()?or(Ri(Ft(document,"click").pipe(ut(1)),Ft(document,"touchend").pipe(ut(1)))):Promise.resolve(!0)).then(()=>{kg(Jo,t.value),id(Ir,t.value)});const{audio:{locallyMutedAudioList:g,localUserAudioVolumeList:v,isStopAllImcomingAudio:S}}=t.value;g.length>0&&g.forEach(b=>{Ir.muteOrUnmuteOtherAudio(b,!0)}),v.length>0&&v.forEach(b=>{Ir.adjustOtherAudioVolume(b.userId,b.volume)}),S&&Ir.stopAllIncomingAudio(!0)}),Lr(wk(void 0)))}return _e}));return k(RN,l),vn(yt(OL(l)),d)})),epics9:(e,t)=>Ce(e,7952).pipe(it(n=>It(h_,1).pipe(Ie(t),De(r=>{let[,a]=r;const{BindStatus:s,nOperatorUserId:l}=n.payload.body,d=a.participants.attendeesList.find(f=>f.userId===l);s===!0&&k(AN,{operatorName:d==null?void 0:d.displayName,operatorUserId:l,operatorRole:d==null?void 0:d.userRole})}),je(_e)))),epics10:(e,t)=>$e(e,ce.UserGrantCaptureAudio).pipe(Ie(t),ue(n=>{let[r,a]=n;const s=Ve(a);var l;(l=s,(l==null?void 0:l.audio)===bt.Computer?Promise.resolve():Ge({event:kr,operations:[oe(b=>b.audio!==void 0&&b.audio!==""),ut(1)]},b=>{let{audio:_}=b;return _===bt.Phone||_===bt.Computer})).then(()=>{k(Bl)});const{meeting:{isCurrentUserMutedBeforeReset:d},audio:{bMutedUponEntry:f,isUserGrantCaptureAudio:p,isAllowToTalk:h,activeMicrophone:g}}=a,{payload:{data:v}}=r,S=[RL(!0)];if(s){s.muted===!0&&h===!1&&(S.push(ra(fo.Inherited)),Jo.mute(s.userId,!0));const b=p||s.isHost||h;(d===!0||!b&&f)&&(S.push(ra(fo.Inherited)),Jo.mute(s.userId,!0),d&&S.push(Ok(void 0))),v&&g!==v&&S.push(Rf(v))}return ve(S)})),epics11:e=>$e(e,ce.UserForbiddedCaptureAudio).pipe(De(()=>{k(CN)}),Lr(wA(!0))),epics12:e=>$e(e,ce.AudioWebsocketBroken).pipe(De(()=>{k(wN)}),je(_e)),epics13:(e,t)=>$e(e,ce.AudioZeroData).pipe(Ie(t),ku(n=>{let[,r]=n;const{audio:{webrtcRestartCount:a,activeMicrophone:s}}=r;if(a<3)return Ir.restoreWebRTC(s),Yf(a+1)})),epics14:(e,t)=>e.pipe(ke(`${gd}`),oe(n=>n.payload===!1),ue(()=>(k(ON),Ri(Ft(document,"click").pipe(ut(1)),Ft(document,"touchend").pipe(ut(1))).pipe(De(()=>{kg(Jo,t.value),id(Ir,t.value)}),Lr(gd(!0)))))),epics15:e=>$e(e,[ce.JoinComputerAudioComplete,ce.JoinSharingAudioComplete,ce.LeaveComputerAudioComplete,ce.LeaveSharingAudioComplete]).pipe(De(()=>{lU.completeAudioAction()}),je(_e)),epics16:(e,t)=>$e(e,ce.AudioQosData).pipe(Ie(t),Ae(n=>{var r;let[a,s]=n;const{meeting:{isWebinar:l},media:{audioEncodeStatus:d,audioDecodeStatus:f},participants:{xmppAttendeeList:p,allowTalkAttendeesList:h}}=s,g=Ve(s),v=CA(s);let S=v.length>0,b=v.some(FI);l&&(S=S||!!p.length,b=b||h.some(FI));const _=((g==null?void 0:g.audio)===bt.Computer||(g==null?void 0:g.audio)===bt.Phone)&&d==="success"&&!(g!=null&&g.muted)&&S,E=((g==null?void 0:g.audio)===bt.Computer||(g==null?void 0:g.audio)===bt.Phone)&&f==="success"&&S&&b;return(r=a.payload.data)!==null&&r!==void 0&&r.encoding?_?(k(m_,a.payload),Jm(a.payload)):Jm(xm):E?(k(m_,a.payload),Ym(a.payload)):Ym(xm)})),epics17:(e,t)=>Ce(e,Pt).pipe(Ie(t),oe(n=>{let[r,a]=n;const{payload:{body:s}}=r,{audio:{locallyMutedAudioList:l,localUserAudioVolumeList:d}}=a;return(l.length>0||d.length>0)&&(s==null?void 0:s.remove)&&s.remove.length>0}),ue(n=>{let[r,a]=n;const{payload:{body:{remove:s}}}=r,{audio:{locallyMutedAudioList:l,localUserAudioVolumeList:d}}=a,f=l.concat(d.map(p=>p.userId)).filter(p=>s.indexOf(h=>h.id===p)!==-1);return f.length>0?(f.forEach(p=>{Ir.muteOrUnmuteOtherAudio(p,!1)}),ve(f.map(p=>[Xm(p),UL({userId:p})]).flat())):_e})),epics18:(e,t)=>$e(e,ce.HidStatusMute).pipe(ue(n=>{const{payload:{data:r}}=n,a=t.value,{meeting:{userId:s},audio:{isShareAudioEnabled:l,bCanUnmute:d}}=a,f=[];if(r)l&&!So()&&f.push(fa(!0)),f.push(ra(fo.Active)),Jo.mute(s,!0);else if(!l||So()){l&&f.push(fa(!1));const p=Ve(a);(d||p!=null&&p.isHost||p!=null&&p.bCoHost)&&(f.push(If(lf.Active)),Jo.mute(s,!1))}return ve(f)})),epics19:e=>Ce(e,12040).pipe(De(t=>{const{payload:{body:{mode:n}}}=t;Ir.setAudioCodecMode(n)}),je(_e)),epics20:(e,t)=>$e(e,[ce.AudioSpeakerSetSuccess,ce.JoinComputerAudioComplete,ce.AudioSpeakerSetError]).pipe(ue(n=>{const{payload:{data:r,type:a}}=n,{audio:{activeSpeaker:s,activeMicrophone:l}}=t.value,d=[];return a===ce.AudioSpeakerSetSuccess&&s!==r?d.push(Kg(r)):a===ce.JoinComputerAudioComplete&&r!==null&&l!==r&&d.push(Rf(r)),a===ce.AudioSpeakerSetSuccess?k(g_,!0):a===ce.AudioSpeakerSetError&&k(g_,!1),ve(d)}))},tz=_r(ez,{shareAudioEpics0:(e,t)=>Ki(e,Pt).pipe(oe(n=>{const r=n.payload.body.update;return r&&r.length>0&&r.findIndex(a=>a.bShareOn!==void 0)>-1}),Ie(t),ue(n=>{let[r,a]=n;const{payload:{body:{update:s}}}=r,{audio:{localShareAudioUserMutedList:l}}=a,d=s.filter(p=>p.bShareOn===!0&&p.bShareAudioOn===!0),f=[];return d.length>0&&d.forEach(p=>{l.findIndex(h=>h.userId===p.id)===-1&&f.push(kL({userId:p.id,isFromMainSession:!!p.bShareToBORooms}))}),ve(f)})),shareAudioEpics1:(e,t)=>$e(e,ce.SharingDesktopStreamHaveAudio).pipe(it(()=>Ce(e,Pt).pipe(oe(n=>{var r;const{payload:{body:a}}=n,{meeting:{userId:s}}=t.value;return(a==null||(r=a.update)===null||r===void 0?void 0:r.findIndex(l=>l.id===s&&l.bShareOn===!0))>-1}),ut(1),hs(async()=>{const n=t.value;return await AE(Tl,Mc,n)}),Ii(Wg(!0))))),shareAudioEpics2:(e,t)=>$e(e,ce.SharingDesktopStreamHaveNoAudio).pipe(Ie(t),oe(n=>{var r;let[,a]=n;return((r=a.audio)===null||r===void 0?void 0:r.isShareAudioEnabled)===!0}),hs(async n=>{let[,r]=n;return await jI(Tl,Mc,r)})),shareAudioEpics3:(e,t)=>Ce(e,Pt).pipe(Ie(t),oe(n=>{let[,r]=n;return r.socket.zoomSocketStatus===Ot.Connected&&r.audio.isSharingAudio===!0}),ue(n=>{var r;let[a,s]=n;if((r=a.payload.body.update)!==null&&r!==void 0&&r.some(l=>l.audio!==void 0||l.muted!==void 0)){const{meeting:{userId:l}}=s,d=a.payload.body.update.filter(f=>f.id===l);return Mu(t).pipe(ue(f=>{const p=[];return d.findIndex(h=>h.audio===bt.Computer)>-1&&(f==null?void 0:f.audio)!==bt.Computer&&!So()&&(p.push(yd(!0)),p.push(fa(!0))),ve(p)}))}return _e})),shareAudioEpics4:(e,t)=>e.pipe(ke(`${ti}`),Sr(ha),Ie(t),oe(n=>{var r;let[,a]=n;return((r=a.audio)===null||r===void 0?void 0:r.isShareAudioEnabled)===!0}),hs(async n=>{let[r,a]=n;const{payload:s}=r,{audio:{isShareAudioMuted:l,isSharingAudio:d}}=a,f=[];if(s===rt.End){const p=await jI(Tl,Mc,a);f.push(...p)}else if(s===rt.Paused){if(l===!1&&d===!0){await Tl.leaveSharingAudio(!0),f.push(vd(!1));const p=await iC(Tl,Mc,a);f.push(...p),setTimeout(()=>{k(hd,{state:"off"})},0)}}else if(s===rt.Sharing&&l===!1&&d===!1){const p=await AE(Tl,Mc,a);f.push(...p)}return f}))},{audioBridgEpics0:e=>Ce(e,4299).pipe(De(t=>{const{payload:n}=t;kc.passThroughRWGMessage(n)}),je(_e)),audioBridgEpics1:e=>$e(e,ce.AudioBridgeReconnectStart).pipe(ue(()=>(tb.joinOrLeaveVoip(!1),ve([TA(!0),Du(Cf.Failover)])))),audioBridgEpics2:(e,t)=>$e(e,ce.AudioBridgeReconnectEnd).pipe(De(()=>{kg(tb,t.value)}),je(_e)),audioBridgEpics3:e=>Ce(e,Pt).pipe(oe(t=>{var n,r;return Vr()&&(((n=t.payload.body.update)===null||n===void 0?void 0:n.some(a=>a.muted!==void 0))||((r=t.payload.body.remove)===null||r===void 0?void 0:r.length)>0)}),De(t=>{const{payload:{body:{update:n,remove:r}}}=t;kc.sendUserAudioStatus({update:(n||[]).filter(a=>a.muted!==void 0).map(a=>({userId:a.id,muted:a.muted})),remove:(r||[]).map(a=>({userId:a.id}))})}),je(_e)),audioBridgEpics4:(e,t)=>$e(e,ce.NotifyUIFailover).pipe(oe(()=>!t.value.meeting.isMeetingReset&&t.value.meeting.meetingStatus===Xt.Joined),Ae(()=>(k(vr,{reason:zn.Failover}),rr(Tn.NotifyUiFailover)))),audioBridgEpics5:(e,t)=>XE(e,t).pipe(oe(()=>{const{meeting:{isAudioBridgeEnabled:n,abToken:r}}=t.value;return n&&Vr()&&!!r}),De(()=>{const{meeting:{abToken:n,svcUrl:r,reportDomain:a,conId:s,supportLocalAB:l}}=t.value;kc.preInitAudioBridge({abToken:n,rwgHost:r,cid:s,nginxHost:a,supportLocalAB:l,useWebRTCOnDesktop:!Me.isAndroidOrIOSBrowser})}),je(_e)),audioBridgEpics6:(e,t)=>Ce(e,16129).pipe(oe(n=>{const{payload:{body:{bVideoOn:r}}}=n,{meeting:{isAudioBridgeEnabled:a}}=t.value;return a&&Vr()&&!!r}),De(n=>{const{payload:{body:{id:r}}}=n;kc.changeActiveVideoSsrc(r)}),je(_e)),audioBridgEpics7:(e,t)=>$e(e,[ce.RecoverWebrtcAudio,ce.AudioStreamFailed]).pipe(ue(()=>{const n=Ve(t.value),r=[];return(n==null?void 0:n.audio)===bt.Computer&&(kc.leaveComputerAudio(),tb.joinOrLeaveVoip(!1),r.push(Du(Cf.EndedBySystem)),r.push(Yf(0))),ve(r)})),audioBridgEpics8:e=>$e(e,[ce.AudioBridgeFirstRecvData,ce.AudioBridgeCanSendData]).pipe(Ae(t=>{const{payload:{type:n}}=t;return n===ce.AudioBridgeFirstRecvData?(k(eL),YM(!0)):(k(tL),XM(!0))})),audioBridgEpics9:(e,t)=>e.pipe(ke(`${Di}`),oe(()=>!!t.value.meeting.zlkJwtToken),De(()=>{const{meeting:{zlkJwtToken:n}}=t.value;if(n){const{enforce_web_rtc_audio:r,audio_compatible_mode:a}=Kf(n);r===void 0&&a===void 0||Je.set(lA.EnforceWebRTCAudio,Number(r)===1||Number(a)===1,ft.Memory)}}),je(_e))},X3);var JU=typeof global=="object"&&global&&global.Object===Object&&global,nz=typeof self=="object"&&self&&self.Object===Object&&self,ma=JU||nz||Function("return this")(),Ed=ma.Symbol,YU=Object.prototype,rz=YU.hasOwnProperty,iz=YU.toString,Nc=Ed?Ed.toStringTag:void 0,oz=Object.prototype.toString,az="[object Null]",sz="[object Undefined]",GI=Ed?Ed.toStringTag:void 0;function Xf(e){return e==null?e===void 0?sz:az:GI&&GI in Object(e)?function(t){var n=rz.call(t,Nc),r=t[Nc];try{t[Nc]=void 0;var a=!0}catch{}var s=iz.call(t);return a&&(n?t[Nc]=r:delete t[Nc]),s}(e):function(t){return oz.call(t)}(e)}function Bf(e){return e!=null&&typeof e=="object"}var xf=Array.isArray;function XU(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var uz="[object AsyncFunction]",lz="[object Function]",dz="[object GeneratorFunction]",cz="[object Proxy]";function eV(e){if(!XU(e))return!1;var t=Xf(e);return t==lz||t==dz||t==uz||t==cz}var qI,nb=ma["__core-js_shared__"],$I=(qI=/[^.]+$/.exec(nb&&nb.keys&&nb.keys.IE_PROTO||""))?"Symbol(src)_1."+qI:"",fz=Function.prototype.toString;function Pu(e){if(e!=null){try{return fz.call(e)}catch{}try{return e+""}catch{}}return""}var pz=/^\[object .+?Constructor\]$/,hz=Function.prototype,mz=Object.prototype,gz=hz.toString,yz=mz.hasOwnProperty,vz=RegExp("^"+gz.call(yz).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function wd(e,t){var n=function(r,a){return r==null?void 0:r[a]}(e,t);return function(r){return!(!XU(r)||(a=r,$I&&$I in a))&&(eV(r)?vz:pz).test(Pu(r));var a}(n)?n:void 0}var wE=wd(ma,"WeakMap"),Sz=9007199254740991,bz=/^(?:0|[1-9]\d*)$/;function _z(e,t){var n=typeof e;return!!(t=t??Sz)&&(n=="number"||n!="symbol"&&bz.test(e))&&e>-1&&e%1==0&&e<t}function tV(e,t){return e===t||e!=e&&t!=t}var Ez=9007199254740991;function nV(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Ez}function rV(e){return e!=null&&nV(e.length)&&!eV(e)}var Az=Object.prototype;function iV(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||Az)}function KI(e){return Bf(e)&&Xf(e)=="[object Arguments]"}var oV=Object.prototype,Cz=oV.hasOwnProperty,wz=oV.propertyIsEnumerable,aV=KI(function(){return arguments}())?KI:function(e){return Bf(e)&&Cz.call(e,"callee")&&!wz.call(e,"callee")},sV=typeof ua=="object"&&ua&&!ua.nodeType&&ua,WI=sV&&typeof la=="object"&&la&&!la.nodeType&&la,QI=WI&&WI.exports===sV?ma.Buffer:void 0,Ng=(QI?QI.isBuffer:void 0)||function(){return!1},Ht={};Ht["[object Float32Array]"]=Ht["[object Float64Array]"]=Ht["[object Int8Array]"]=Ht["[object Int16Array]"]=Ht["[object Int32Array]"]=Ht["[object Uint8Array]"]=Ht["[object Uint8ClampedArray]"]=Ht["[object Uint16Array]"]=Ht["[object Uint32Array]"]=!0,Ht["[object Arguments]"]=Ht["[object Array]"]=Ht["[object ArrayBuffer]"]=Ht["[object Boolean]"]=Ht["[object DataView]"]=Ht["[object Date]"]=Ht["[object Error]"]=Ht["[object Function]"]=Ht["[object Map]"]=Ht["[object Number]"]=Ht["[object Object]"]=Ht["[object RegExp]"]=Ht["[object Set]"]=Ht["[object String]"]=Ht["[object WeakMap]"]=!1;var ZI,uV=typeof ua=="object"&&ua&&!ua.nodeType&&ua,gf=uV&&typeof la=="object"&&la&&!la.nodeType&&la,rb=gf&&gf.exports===uV&&JU.process,JI=function(){try{return gf&&gf.require&&gf.require("util").types||rb&&rb.binding&&rb.binding("util")}catch{}}(),YI=JI&&JI.isTypedArray,oC=YI?(ZI=YI,function(e){return ZI(e)}):function(e){return Bf(e)&&nV(e.length)&&!!Ht[Xf(e)]},Oz=Object.prototype.hasOwnProperty,Tz=function(e,t){return function(n){return e(t(n))}}(Object.keys,Object),Rz=Object.prototype.hasOwnProperty;function lV(e){if(!iV(e))return Tz(e);var t=[];for(var n in Object(e))Rz.call(e,n)&&n!="constructor"&&t.push(n);return t}function Iz(e){return rV(e)?function(t,n){var r=xf(t),a=!r&&aV(t),s=!r&&!a&&Ng(t),l=!r&&!a&&!s&&oC(t),d=r||a||s||l,f=d?function(g,v){for(var S=-1,b=Array(g);++S<g;)b[S]=v(S);return b}(t.length,String):[],p=f.length;for(var h in t)!Oz.call(t,h)||d&&(h=="length"||s&&(h=="offset"||h=="parent")||l&&(h=="buffer"||h=="byteLength"||h=="byteOffset")||_z(h,p))||f.push(h);return f}(e):lV(e)}var Lc=wd(Object,"create"),Dz=Object.prototype.hasOwnProperty,Mz=Object.prototype.hasOwnProperty;function uu(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Dh(e,t){for(var n=e.length;n--;)if(tV(e[n][0],t))return n;return-1}uu.prototype.clear=function(){this.__data__=Lc?Lc(null):{},this.size=0},uu.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},uu.prototype.get=function(e){var t=this.__data__;if(Lc){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return Dz.call(t,e)?t[e]:void 0},uu.prototype.has=function(e){var t=this.__data__;return Lc?t[e]!==void 0:Mz.call(t,e)},uu.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Lc&&t===void 0?"__lodash_hash_undefined__":t,this};var kz=Array.prototype.splice;function aa(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}aa.prototype.clear=function(){this.__data__=[],this.size=0},aa.prototype.delete=function(e){var t=this.__data__,n=Dh(t,e);return!(n<0||(n==t.length-1?t.pop():kz.call(t,n,1),--this.size,0))},aa.prototype.get=function(e){var t=this.__data__,n=Dh(t,e);return n<0?void 0:t[n][1]},aa.prototype.has=function(e){return Dh(this.__data__,e)>-1},aa.prototype.set=function(e,t){var n=this.__data__,r=Dh(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};var Hf=wd(ma,"Map");function Mh(e,t){var n,r,a=e.__data__;return((r=typeof(n=t))=="string"||r=="number"||r=="symbol"||r=="boolean"?n!=="__proto__":n===null)?a[typeof t=="string"?"string":"hash"]:a.map}function ru(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function rs(e){var t=this.__data__=new aa(e);this.size=t.size}ru.prototype.clear=function(){this.size=0,this.__data__={hash:new uu,map:new(Hf||aa),string:new uu}},ru.prototype.delete=function(e){var t=Mh(this,e).delete(e);return this.size-=t?1:0,t},ru.prototype.get=function(e){return Mh(this,e).get(e)},ru.prototype.has=function(e){return Mh(this,e).has(e)},ru.prototype.set=function(e,t){var n=Mh(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},rs.prototype.clear=function(){this.__data__=new aa,this.size=0},rs.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},rs.prototype.get=function(e){return this.__data__.get(e)},rs.prototype.has=function(e){return this.__data__.has(e)},rs.prototype.set=function(e,t){var n=this.__data__;if(n instanceof aa){var r=n.__data__;if(!Hf||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new ru(r)}return n.set(e,t),this.size=n.size,this};var Nz=Object.prototype.propertyIsEnumerable,XI=Object.getOwnPropertySymbols,Lz=XI?function(e){return e==null?[]:(e=Object(e),function(t,n){for(var r=-1,a=t==null?0:t.length,s=0,l=[];++r<a;){var d=t[r];n(d)&&(l[s++]=d)}return l}(XI(e),function(t){return Nz.call(e,t)}))}:function(){return[]};function e0(e){return function(t,n,r){var a=Iz(t);return xf(t)?a:function(s,l){for(var d=-1,f=l.length,p=s.length;++d<f;)s[p+d]=l[d];return s}(a,r(t))}(e,0,Lz)}var OE=wd(ma,"DataView"),TE=wd(ma,"Promise"),RE=wd(ma,"Set"),t0="[object Map]",n0="[object Promise]",r0="[object Set]",i0="[object WeakMap]",o0="[object DataView]",Pz=Pu(OE),Uz=Pu(Hf),Vz=Pu(TE),jz=Pu(RE),Bz=Pu(wE),iu=Xf;(OE&&iu(new OE(new ArrayBuffer(1)))!=o0||Hf&&iu(new Hf)!=t0||TE&&iu(TE.resolve())!=n0||RE&&iu(new RE)!=r0||wE&&iu(new wE)!=i0)&&(iu=function(e){var t=Xf(e),n=t=="[object Object]"?e.constructor:void 0,r=n?Pu(n):"";if(r)switch(r){case Pz:return o0;case Uz:return t0;case Vz:return n0;case jz:return r0;case Bz:return i0}return t});var IE=iu,a0=ma.Uint8Array;function mm(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new ru;++t<n;)this.add(e[t])}function xz(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}mm.prototype.add=mm.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},mm.prototype.has=function(e){return this.__data__.has(e)};var Hz=1,zz=2;function s0(e,t,n,r,a,s){var l=n&Hz,d=e.length,f=t.length;if(d!=f&&!(l&&f>d))return!1;var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var g=-1,v=!0,S=n&zz?new mm:void 0;for(s.set(e,t),s.set(t,e);++g<d;){var b=e[g],_=t[g];if(r)var E=l?r(_,b,g,t,e,s):r(b,_,g,e,t,s);if(E!==void 0){if(E)continue;v=!1;break}if(S){if(!xz(t,function(A,w){if(O=w,!S.has(O)&&(b===A||a(b,A,n,r,s)))return S.push(w);var O})){v=!1;break}}else if(b!==_&&!a(b,_,n,r,s)){v=!1;break}}return s.delete(e),s.delete(t),v}function Fz(e){var t=-1,n=Array(e.size);return e.forEach(function(r,a){n[++t]=[a,r]}),n}function Gz(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var qz=1,$z=2,Kz="[object Boolean]",Wz="[object Date]",Qz="[object Error]",Zz="[object Map]",Jz="[object Number]",Yz="[object RegExp]",Xz="[object Set]",e4="[object String]",t4="[object Symbol]",n4="[object ArrayBuffer]",r4="[object DataView]",u0=Ed?Ed.prototype:void 0,ib=u0?u0.valueOf:void 0,i4=1,o4=Object.prototype.hasOwnProperty,a4=1,l0="[object Arguments]",d0="[object Array]",kh="[object Object]",c0=Object.prototype.hasOwnProperty;function dV(e,t,n,r,a){return e===t||(e==null||t==null||!Bf(e)&&!Bf(t)?e!=e&&t!=t:function(s,l,d,f,p,h){var g=xf(s),v=xf(l),S=g?d0:IE(s),b=v?d0:IE(l),_=(S=S==l0?kh:S)==kh,E=(b=b==l0?kh:b)==kh,A=S==b;if(A&&Ng(s)){if(!Ng(l))return!1;g=!0,_=!1}if(A&&!_)return h||(h=new rs),g||oC(s)?s0(s,l,d,f,p,h):function(U,x,$,W,z,L,T){switch($){case r4:if(U.byteLength!=x.byteLength||U.byteOffset!=x.byteOffset)return!1;U=U.buffer,x=x.buffer;case n4:return!(U.byteLength!=x.byteLength||!L(new a0(U),new a0(x)));case Kz:case Wz:case Jz:return tV(+U,+x);case Qz:return U.name==x.name&&U.message==x.message;case Yz:case e4:return U==x+"";case Zz:var N=Fz;case Xz:var F=W&qz;if(N||(N=Gz),U.size!=x.size&&!F)return!1;var P=T.get(U);if(P)return P==x;W|=$z,T.set(U,x);var D=s0(N(U),N(x),W,z,L,T);return T.delete(U),D;case t4:if(ib)return ib.call(U)==ib.call(x)}return!1}(s,l,S,d,f,p,h);if(!(d&a4)){var w=_&&c0.call(s,"__wrapped__"),O=E&&c0.call(l,"__wrapped__");if(w||O){var I=w?s.value():s,V=O?l.value():l;return h||(h=new rs),p(I,V,d,f,h)}}return!!A&&(h||(h=new rs),function(U,x,$,W,z,L){var T=$&i4,N=e0(U),F=N.length;if(F!=e0(x).length&&!T)return!1;for(var P=F;P--;){var D=N[P];if(!(T?D in x:o4.call(x,D)))return!1}var K=L.get(U),J=L.get(x);if(K&&J)return K==x&&J==U;var re=!0;L.set(U,x),L.set(x,U);for(var M=T;++P<F;){var X=U[D=N[P]],ye=x[D];if(W)var Ee=T?W(ye,X,D,x,U,L):W(X,ye,D,U,x,L);if(!(Ee===void 0?X===ye||z(X,ye,$,W,L):Ee)){re=!1;break}M||(M=D=="constructor")}if(re&&!M){var se=U.constructor,we=x.constructor;se==we||!("constructor"in U)||!("constructor"in x)||typeof se=="function"&&se instanceof se&&typeof we=="function"&&we instanceof we||(re=!1)}return L.delete(U),L.delete(x),re}(s,l,d,f,p,h))}(e,t,n,r,dV,a))}var s4=Object.prototype.hasOwnProperty;const f0=e=>4294966272&e,ob=e=>{let t={R:0,G:0,B:0,A:0};if(typeof e=="string"&&e.startsWith("#")){const d=e.slice(1);try{if(d.length===3){const f=Array.from(d).map(p=>p.repeat(2)).map(p=>parseInt(p,16));t={R:f[0]/255,G:f[1]/255,B:f[2]/255,A:1}}else if(d.length===6||d.length===8){var n,r,a,s,l;const f=(n=d.match(/\S{2}/g))===null||n===void 0?void 0:n.map(p=>parseInt(p,16));t={R:((r=f==null?void 0:f[0])!==null&&r!==void 0?r:0)/255,G:((a=f==null?void 0:f[1])!==null&&a!==void 0?a:0)/255,B:((s=f==null?void 0:f[2])!==null&&s!==void 0?s:0)/255,A:f!=null&&f[3]?((l=f==null?void 0:f[3])!==null&&l!==void 0?l:0)/255:1}}}catch{console.warn("error color representation:",e)}}else typeof e=="object"&&(t={R:e.R/255,G:e.G/255,B:e.B/255,A:e.A||1});return t};function aC(e){let{captureWidth:t=0,captureHeight:n=0}=e||{};const{hd:r}=e||{};return t!==0&&n!==0||(r&&qe.isSupportSending720P()?(t=1280,n=720):(t=640,n=360)),{captureWidth:t,captureHeight:n}}function cV(e,t){return e==="default"||t.some(n=>n.deviceId===e)||[Jc.Environment,Jc.User,Jc.Left,Jc.Right].includes(e)}function fV(e,t,n){const r=[],{video:{videoSsrc:a,activeCamera:s}}=t,{cameraId:l=s,videoElement:d,originalRatio:f,ptz:p,hd:h,fullHd:g,mediaFile:v,fps:S}=n||{};let b;if(d!==void 0){let I=d instanceof HTMLVideoElement?d:null;if(typeof d=="string"){let[V,U]=[document.body,d];if(d.indexOf(">")>-1){const[x,$]=d.split(">");V=document.querySelector(x),U=$}V&&(I=V.querySelector(U))}if(!I)return[];I.id?b=I.id:(b=sa("__ZOOM_SDK_SELF_VIDEO_@__"),I.id=b)}let _=S??RS.Default;_=Math.max(RS.Min,_),_=Math.min(RS.Max,_);const{captureWidth:E,captureHeight:A}=aC(n),w=!!g&&qe.isSupportFullHDVideo();e.updateVideoFullhdValue(w);let O=Promise.resolve(l);if(v&&v.url){const I=Yr.getInstance();O=I.setVideoElement(v).then(()=>I.videoElement)}else Yr.getInstance().stopVideoElement();return O.then(I=>{e.startCaptureVideo(a,I,E,A,b,Me.isAndroidOrIOSBrowser,!f&&function(){var V,U;const{isAndroidOrIOSBrowser:x,isFirefox:$,isSafari:W}=Me;return x||!((V=navigator.mediaDevices)!==null&&V!==void 0&&(U=V.getSupportedConstraints)!==null&&U!==void 0&&U.call(V).aspectRatio)||$||W||Hk()}(),p,_)}),r.push(dP({cameraId:l,captureWidth:E,captureHeight:A,videoElement:typeof d=="string"?d:d instanceof HTMLVideoElement?gk(d):void 0,originalRatio:f,ptz:p,hd:h,fullHd:g,mediaFile:v,fps:_})),r}function pV(e,t,n){const{max:r,min:a,step:s}=e;let l=n/100*(r-a);s&&(l=Math.min(Math.floor(l/s)*s,Math.floor(l)));let d=t+l;return d=Math.min(r,d),d=Math.max(a,d),d}function hV(e,t){let n="",r=t;switch(e){case Za.Down:r=-t,n="tilt";break;case Za.Up:n="tilt";break;case Za.Left:r=-t,n="pan";break;case Za.Right:n="pan";break;case Za.ZoomIn:n="zoom";break;case Za.ZoomOut:r=-t,n="zoom"}return{key:n,range:r}}function sC(e){const t=["pan","tilt","zoom"].reduce((n,r)=>e[r]&&e[r].value!==0?{...n,[r]:e[r].value}:n,{});return function(n){if(n==null)return!0;if(rV(n)&&(xf(n)||typeof n=="string"||typeof n.splice=="function"||Ng(n)||oC(n)||aV(n)))return!n.length;var r=IE(n);if(r=="[object Map]"||r=="[object Set]")return!n.size;if(iV(n))return!lV(n).length;for(var a in n)if(s4.call(n,a))return!1;return!0}(t)?null:t}function mV(e){return{pan:(e&Sl.Pan)===Sl.Pan,tilt:(e&Sl.Tilt)===Sl.Tilt,zoom:(e&Sl.Zoom)===Sl.Zoom}}function Pc(e){const{isAndroidBrowser:t,isIOSMobile:n,isFirefox:r,isSupportImageCapture:a,isSupportMediaStreamTrackProcessor:s,isSupportOffscreenCanvas:l}=Me,d=t&&!r,f=typeof window.SharedArrayBuffer!="function"&&d;return n&&typeof VideoFrame=="function"||f||!Gg()&&!e&&!dE()&&(a||s)&&l}function p0(){var e,t;return"orientation"in window.screen?(e=screen.orientation.type)===null||e===void 0?void 0:e.startsWith("landscape"):"orientation"in window?Math.abs(window.orientation)===90:"matchMedia"in window?!((t=window.matchMedia("(orientation: landscape)"))===null||t===void 0||!t.matches):screen.availWidth>screen.availHeight}function h0(e,t,n){const{meeting:{userId:r},video:{isSupportHDVideo:a,renderedVideoList:s,maximumNumbeOfHDSubscriptions:l,receivedVideoMaxQuality:d}}=n,f=e===r;let p=t;if(t>=Ai.Video_720P)if(a){const g=s.filter(S=>S.videoQuality===Ai.Video_720P).map(S=>S.userId),v=l??1;g.length>=v&&(g.includes(e)||f||(console.warn(`Warning: Web Video SDK currently only supports subscribing to ${v} 720p video stream, so quality has been downgraded to 360p`),p=Ai.Video_360P))}else console.warn("Can not subscribe 720P video stream,will downgrade to 360P stream"),p=Ai.Video_360P;const h=Math.max(d,Ai.Video_360P);return[p,Math.min(p,h)]}const Rl=at.createAgent(),oo=Ar(qe.getInstance());let mo,od;async function gV(e,t,n){const r=sa(e),a=document.createElement("img");return a.src=t,a.id=r,a.style.display="none",$i(t)&&a.setAttribute("crossorigin",""),await new Promise((s,l)=>{a.onload=()=>{n&&URL.revokeObjectURL(t),s("")},a.onerror=()=>{n&&URL.revokeObjectURL(t),l("Cannot load  image.")}}),{imageId:r,imgElement:a}}async function ep(e,t,n){if(e===pd)return pd;{let r=e;if(t){const a=await function(s){return new Promise((l,d)=>{try{mo&&od||(mo=document.createElement("canvas"),od=mo.getContext("2d"));const f=mo,p=od;if(p){p.clearRect(0,0,mo.width,mo.height);const h=new Image;h.src=s,$i(s)&&(h.crossOrigin="");const g=16/9,v=1280,S=Math.floor(v/g);f.width=v,f.height=S,h.onload=()=>{const{width:b,height:_}=h,E=_*g;if(E>b){const A=b,w=Math.floor(b/g),O=0,I=(_-w)/2;p==null||p.drawImage(h,O,I,A,w,0,0,v,S)}else{const A=E,w=_,O=(b-A)/2;p.drawImage(h,O,0,A,w,0,0,v,S)}try{f.toBlob(A=>{l(A)})}catch(A){A instanceof DOMException&&A.code===DOMException.SECURITY_ERR&&console.error("Image is not from the same origin, add CORS header to solve this issue"),d(A)}},h.onerror=b=>{d("Cannot load  image.")}}}catch(f){d(f)}})}(e);r=URL.createObjectURL(a)}if(r){const{imageId:a,imgElement:s}=await gV(Yx,r,!!t);return(n??document.body).appendChild(s),a}}return null}async function yV(e,t,n){var r;const a=(r=n&&n.parentNode)!==null&&r!==void 0?r:document.body,{imageUrl:s,cropped:l,rootWidth:d,rootHeight:f}=e;let p=e;!t.video.customizedVideoOption||e.captureWidth&&e.captureHeight||(p=t.video.customizedVideoOption);const{captureWidth:h,captureHeight:g}=aC(p),v=document.createElement("div");let S;v.style.display="none",S=s?await ep(s,l,v):null;let b=sa(Jx);if(n){const _=fm(n);_.id?b=_.id:_.id=b;try{d&&n.width!==d&&(n.width=d),f&&n.height!==f&&(n.height=f)}catch{console.warn("Cannot set the canvas width/height, and pay attention the canvas dimension is different from the setting")}}else{const _=document.createElement("canvas");_.width=d??380,_.height=f??214,_.id=b,v.appendChild(_)}return a==null||a.appendChild(v),{captureWidth:h,captureHeight:g,imageId:S,canvasId:b,divElement:v}}async function m0(e,t,n,r){const a=Array.isArray(e)?e:e&&[e];if((a==null?void 0:a.length)>0){mo&&od||(mo=document.createElement("canvas"),od=mo.getContext("2d"));const s=mo,l=od;if(s.width=t,s.height=n,l)try{l.fillStyle="#fff",l.clearRect(0,0,t,n);for(let f=0;f<a.length;f++){const p=a[f],{type:h,x:g,y:v}=p;if(h==="rectangle"){const{width:S,height:b}=p;l.fillRect(g,v,S,b)}else if(h==="square"){const{length:S}=p;l.fillRect(g,v,S,S)}else if(h==="circle"){const{radius:S}=p;l.beginPath(),l.arc(g,v,S,0,2*Math.PI),l.fill()}else if(h==="svg"){const{svg:S,width:b,height:_}=p,E=new Image;E.src=S,$i(S)&&(E.crossOrigin=""),await new Promise((O,I)=>{E.onload=()=>{O("")},E.onerror=()=>{I()}});const{width:A,height:w}=E;l.drawImage(E,0,0,A,w,g,v,b,_)}}const d=await new Promise(f=>{s==null||s.toBlob(p=>{f(p)})});if(d){const f=URL.createObjectURL(d),{imageId:p,imgElement:h}=await gV(Xx,f,!0);return(r??document.body).appendChild(h),p}}catch(d){d instanceof DOMException&&d.code===DOMException.SECURITY_ERR&&console.error("Image is not from the same origin, add CORS header to solve this issue")}}return null}function g0(e,t){if(e===t||e==null&&t==null)return!0;const n=Array.isArray(e)?[...e]:[e],r=Array.isArray(t)?[...t]:[t];if(n.length!==r.length)return!1;const a=(s,l)=>s.type<l.type?-1:s.type===l.type?0:1;n.sort(a),r.sort(a);for(let s=0;s<n.length;s++)if(!$f(n[s],r[s]))return!1;return!0}function gm(e,t,n,r){const{video:{isCurrentUserStartedVideo:a,virtualBackground:{isVBPreloadReady:s,isVBConfigured:l,imageSrc:d},backgroundMode:f},meeting:{isCurrentUserStartVideoBeforeReset:p}}=n;return or(function(h){return h!==void 0?ve([h]):It(Fm,1).pipe(Ae(g=>g))}(s)).then(h=>h?r||!l&&e.imageUrl!==pd&&e.imageUrl?async function(g,v,S,b){const{canvasId:_,imageId:E,captureHeight:A,captureWidth:w,divElement:O}=await yV(g,S,b),{cameraId:I}=g,{video:{videoSsrc:V,activeCamera:U}}=S;return v.startVirtualBackgroundSetting(_,E,V,I??U,w,A),O}(e,t,n,r).then(g=>a?sg(!0):or(It(u_,1)).then(v=>{var S;return r||t.stopVirtualBackgroundSetting(),v?(g==null||(S=g.parentNode)===null||S===void 0||S.removeChild(g),!0):Promise.reject("Cannot access the virtual background image.")})):d===e.imageUrl&&f===Zi.VirtualBackground&&!p||async function(g,v,S){const{imageUrl:b,cropped:_}=g;if(b){const E=await ep(b,_);E&&(S.video.backgroundMode===Zi.Mask&&(v.stopMaskSetting(!0),await rA(()=>{v.stopVirtualBackgroundSetting()},0)),v.updateVirtualBackgroundImage(E),E!==pd&&setTimeout(()=>{Nf(E)},0))}else v.updateVirtualBackgroundImage(null)}(e,t,n):Promise.reject("Cannot load virtual background model."))}function ym(e,t,n,r){const{video:{mask:{isMaskConfigured:a,imageSrc:s,clip:l},backgroundMode:d,isCurrentUserStartedVideo:f},meeting:{isCurrentUserStartVideoBeforeReset:p}}=n;return r||!a&&e.imageUrl?async function(h,g,v,S){const{canvasId:b,imageId:_,captureHeight:E,captureWidth:A,divElement:w}=await yV(h,v,S),{cameraId:O,clip:I,rootWidth:V=1280,rootHeight:U=720}=h,x=I?await m0(I,V,U,w):null,{video:{videoSsrc:$,activeCamera:W}}=v;return x?(g.startMaskSetting(b,_,x,$,O??W,V,U,A,E),w):Promise.reject("Clip is empty")}(e,t,n,r).then(h=>f?pg(!0):or(It(p_,1)).then(g=>{var v;return r||t.stopMaskSetting(),g?(h==null||(v=h.parentNode)===null||v===void 0||v.removeChild(h),!0):Promise.reject("Cannot set video mask")})):d===Zi.Mask&&e.imageUrl===s&&g0(e.clip,l)&&!p?Promise.resolve(!0):async function(h,g,v){const{imageUrl:S,cropped:b,clip:_,rootWidth:E,rootHeight:A}=h,{video:{mask:{imageSrc:w,cropped:O,clip:I},backgroundMode:V}}=v;if(S){if(V===Zi.VirtualBackground&&(g.stopVirtualBackgroundSetting(!0),await rA(()=>{g.stopMaskSetting()},0)),S!==w||b!==O){const U=await ep(S,b);U&&(g.updateMaskBackgroundImage(U),setTimeout(()=>{Nf(U)},0))}if((!g0(_,I)||!w)&&_&&E&&A){const U=await m0(_,E,A);U&&(g.updateMaskClip(U,E,A),setTimeout(()=>{Nf(U)},0))}}else g.updateMaskBackgroundImage(null),g.updateMaskClip(null,E,A)}(e,t,n)}const Nh=at.createAgent(),Vi=Ar(qe.getInstance()),u4=at.createAgent(),y0=Ar(qe.getInstance()),v0={videoSsrc:0,cameraDevicesList:[],activeCamera:Me.isAndroidOrIOSBrowser?Jc.User:"default",activeVideoId:0,isCurrentUserStartedVideo:!1,spotlightUserList:[],isCaptureForbidden:!1,receivedVideoMaxQuality:navigator.hardwareConcurrency>=8?Ai.Video_1080P:Ai.Video_360P,subscribedVideoList:[],renderedVideoList:[],ensuredCanvas:[],isVideoMuted:!1,isCaptureCameraLoading:!1,isCameraTaken:!1,isUsingMediaPlayback:!1,receivedVideoDimension:{width:0,height:0},capturedVideoDimension:{width:0,height:0},isFollowHostVideoLayout:!1,hostDragLayout:[],isSupportHDVideo:!1,isFullHDVideoEnabled:!1,bCanUnmuteVideo:!1,virtualBackground:{isVBConfigured:!1,isVBPreloadReady:void 0,imageSrc:void 0,cropped:void 0},mask:{imageSrc:void 0,cropped:void 0,clip:void 0},backgroundMode:Zi.Null,statistic:{encode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0},decode:{sample_rate:0,rtt:0,jitter:0,avg_loss:0,max_loss:0,width:0,height:0,fps:0}},hardwareAcceleration:{encode:!1,decode:!1},networkQuality:{},ptz:{},currentCameraControlStatus:{isRequested:!1,isInControl:!1,isCameraMoving:!1},farEndCameraControlStatus:{controlledUserList:[],isControlling:!1},subscriptionStatus:{encode:!1,decode:!1,detailed:!1},videoAttachments:{}},l4=br({[`${XL}`]:B((e,t)=>{let{payload:n}=t;e.videoSsrc=n}),[`${MA}`]:B((e,t)=>{let{payload:n}=t;e.cameraDevicesList=n}),[`${rg}`]:B((e,t)=>{let{payload:n}=t;const r=e.activeCamera;if(r in e.ptz){const a=e.ptz[r];["pan","tilt","zoom"].forEach(s=>{a[s]&&(a[s].value=0)})}e.activeCamera=n}),[`${eP}`]:B((e,t)=>{let{payload:n}=t;e.activeVideoId=n.userId}),[`${tP}`]:B((e,t)=>{let{payload:n}=t;e.isCurrentUserStartedVideo=n}),[`${z_}`]:B((e,t)=>{let{payload:n}=t;e.spotlightUserList=n}),[`${ig}`]:B((e,t)=>{let{payload:n}=t;e.isCaptureForbidden=n}),[`${nP}`]:B((e,t)=>{let{payload:n}=t;e.receivedVideoMaxQuality=n}),[`${rP}`]:B((e,t)=>{let{payload:n}=t;e.isVideoMuted=n}),[`${ef}`]:B((e,t)=>{let{payload:n}=t;e.isCaptureCameraLoading=n}),[`${og}`]:B((e,t)=>{let{payload:n}=t;e.isCameraTaken=n}),[`${F_}`]:B((e,t)=>{let{payload:n}=t;e.receivedVideoDimension=n}),[`${im}`]:B((e,t)=>{let{payload:n}=t;e.subscribedVideoList.includes(n)||e.subscribedVideoList.push(n)}),[`${G_}`]:B((e,t)=>{let{payload:n}=t;const r=e.subscribedVideoList.indexOf(n);r>=0&&e.subscribedVideoList.splice(r,1)}),[`${Xl}`]:B((e,t)=>{let{payload:n}=t;const r=e.renderedVideoList.find(a=>a.userId===n.userId&&a.key===n.key&&a.canvasId===n.canvasId);r?(n.videoQuality!==void 0&&(r.videoQuality=n.videoQuality),n.aspectRatio!==void 0&&(r.aspectRatio=n.aspectRatio)):e.renderedVideoList.push({...n})}),[`${ag}`]:B((e,t)=>{let{payload:n}=t;const r=e.renderedVideoList.findIndex(a=>a.userId===n.userId&&a.key===n.key&&a.canvasId===n.canvasId);r>=0&&e.renderedVideoList.splice(r,1)}),[`${oP}`]:B((e,t)=>{let{payload:n}=t;e.isFollowHostVideoLayout=n}),[`${aP}`]:B((e,t)=>{let{payload:n}=t;e.hostDragLayout=n}),[`${sP}`]:B((e,t)=>{let{payload:n}=t;e.isSupportHDVideo=n}),[`${uP}`]:B((e,t)=>{let{payload:n}=t;e.maximumNumbeOfHDSubscriptions=n}),[`${lP}`]:B((e,t)=>{let{payload:n}=t;e.bCanUnmuteVideo=n}),[`${q_}`]:B((e,t)=>{let{payload:n}=t;e.virtualBackground.isVBPreloadReady=n}),[`${sg}`]:B((e,t)=>{let{payload:n}=t;e.virtualBackground.isVBConfigured=n}),[`${om}`]:B((e,t)=>{let{payload:n}=t;e.virtualBackground.imageSrc=n.imageUrl,e.virtualBackground.cropped=n.cropped,e.backgroundMode=Zi.VirtualBackground}),[`${Ml}`]:B((e,t)=>{let{payload:n}=t;const{encode:r,decode:a}=n;r!==void 0&&(e.hardwareAcceleration.encode=r),a!==void 0&&(e.hardwareAcceleration.decode=a)}),[`${ug}`]:B((e,t)=>{let{payload:n}=t;e.statistic.encode=n.data}),[`${lg}`]:B((e,t)=>{let{payload:n}=t;e.statistic.decode=n.data}),[`${dP}`]:B((e,t)=>{let{payload:n}=t;const{cameraId:r,captureWidth:a,captureHeight:s,videoElement:l,originalRatio:d,ptz:f,hd:p,fullHd:h,mediaFile:g,fps:v}=n;e.activeCamera=r,e.customizedVideoOption={captureWidth:a,captureHeight:s,videoElement:l,originalRatio:d,ptz:f,hd:p,fullHd:h,fps:v},$f(e.mediaPlaybackFile,g)||(e.mediaPlaybackFile=g,e.isUsingMediaPlayback=!(g==null||!g.url))}),[`${$_}`]:B((e,t)=>{let{payload:n}=t;const{userId:r,level:a,bwLevel:s,type:l}=n;if(Object.prototype.hasOwnProperty.call(e.networkQuality,`${r}`))e.networkQuality[`${r}`][`${l}`]={level:a,bwLevel:s};else{const d={[l]:{level:a,bwLevel:s}};Object.assign(e.networkQuality,{[`${r}`]:d})}}),[`${cP}`]:B((e,t)=>{let{payload:n}=t;const{deviceId:r,ptzRange:a}=n;if(Object.prototype.hasOwnProperty.call(e.ptz,r)){const s=e.ptz[r];s&&["pan","tilt","zoom"].forEach(l=>{const d=a[l];if(d){var f;const p=(f=s[l])===null||f===void 0?void 0:f.capability;p?Object.assign(p,{...d}):s[l]={capability:{...d},value:0}}})}else Object.assign(e.ptz,{[r]:{pan:a.pan?{capability:{...a.pan},value:0}:null,tilt:a.tilt?{capability:{...a.tilt},value:0}:null,zoom:a.zoom?{capability:{...a.zoom},value:0}:null}})}),[`${dg}`]:B((e,t)=>{let{payload:n}=t;e.currentCameraControlStatus.isRequested=n}),[`${cg}`]:B((e,t)=>{let{payload:n}=t;const{isInControl:r,userId:a}=n;e.currentCameraControlStatus.isInControl=r,e.currentCameraControlStatus.controllingUserId=a}),[`${fP}`]:B((e,t)=>{let{payload:n}=t;e.farEndCameraControlStatus.controlledUserList.includes(n)||e.farEndCameraControlStatus.controlledUserList.push(n)}),[`${fg}`]:B((e,t)=>{let{payload:n}=t;const r=e.farEndCameraControlStatus.controlledUserList.indexOf(n);r!==-1&&e.farEndCameraControlStatus.controlledUserList.splice(r,1)}),[`${K_}`]:B((e,t)=>{let{payload:n}=t;e.currentCameraControlStatus.isCameraMoving=n.cmd==="start"}),[`${kA}`]:B((e,t)=>{let{payload:n}=t;const{constraints:r,deviceId:a}=n,s=e.ptz[a];["pan","tilt","zoom"].forEach(l=>{r[l]!==void 0&&(s[l].value=r[l])})}),[`${W_}`]:B((e,t)=>{let{payload:n}=t;e.farEndCameraControlStatus.isControlling=n}),[`${pP}`]:B((e,t)=>{let{payload:n}=t;e.networkQualityBroadcastTime=n}),[`${pg}`]:B((e,t)=>{let{payload:n}=t;e.mask.isMaskConfigured=n}),[`${am}`]:B((e,t)=>{let{payload:n}=t;const{imageUrl:r,cropped:a,rootHeight:s,rootWidth:l,clip:d}=n;e.mask.imageSrc=r,e.mask.cropped=a,e.mask.clip=d,e.mask.rootWidth=l,e.mask.rootHeight=s,e.backgroundMode=Zi.Mask}),[`${yH}`]:B((e,t)=>{let{payload:n}=t;e.backgroundMode=n}),[`${hP}`]:B((e,t)=>{let{payload:n}=t;e.capturedVideoDimension=n}),[`${mP}`]:B((e,t)=>{let{payload:n}=t;e.ensuredCanvas.includes(n)||e.ensuredCanvas.push(n)}),[`${Q_}`]:B((e,t)=>{let{payload:n}=t;e.mediaPlaybackFile=n,e.isUsingMediaPlayback=!(n==null||!n.url)}),[`${ed}`]:B((e,t)=>{let{payload:n}=t;if(n){const{lastCopy:r,...a}=n;e.prefetchedVideo=a}else e.prefetchedVideo=n}),[`${Z_}`]:B((e,t)=>{let{payload:n}=t;Object.assign(e.subscriptionStatus,n)}),[`${gP}`]:B((e,t)=>{let{payload:n}=t;e.isFullHDVideoEnabled=n}),[`${yP}`]:B((e,t)=>{let{payload:n}=t;const{userId:r,element:a}=n,s=e.videoAttachments[`${r}`];if(s)s.indexOf(a)===-1&&s.push(a);else{const l=[];l.push(a),Object.assign(e.videoAttachments,{[`${r}`]:l})}}),[`${sm}`]:B((e,t)=>{let{payload:n}=t;const{userId:r,element:a}=n,s=e.videoAttachments[`${r}`];let l=a;Array.isArray(a)||(l=[a]),l.forEach(d=>{if(s){const f=s.indexOf(d);f!==-1&&s.splice(f,1)}})}),[`${iP}`]:(e,t)=>{let{payload:n}=t;const r={cameraDevicesList:e.cameraDevicesList};return n&&Object.assign(r,{activeCamera:e.activeCamera,customizedVideoOption:e.customizedVideoOption,virtualBackground:{imageSrc:e.virtualBackground.imageSrc,cropped:e.virtualBackground.cropped},mask:{imageSrc:e.mask.imageSrc,cropped:e.mask.cropped,rootWidth:e.mask.rootWidth,rootHeight:e.mask.rootHeight,clip:e.mask.clip},backgroundMode:e.backgroundMode,ptz:e.ptz,subscriptionStatus:e.subscriptionStatus}),{...v0,...r}}},v0),d4={cameraPtzEpics0:(e,t)=>Ce(e,8004).pipe(ue(n=>{const{payload:{body:{nCmd:r,nUserID:a,nReason:s,nButtonID:l}}}=n,d=t.value,f=kt(d),{video:{currentCameraControlStatus:{isInControl:p,controllingUserId:h},cameraDevicesList:g,activeCamera:v}}=d,S=f.find(_=>Nr(_.userId,a)),b=[];if(b.push(dg(!0)),r===dr.Request){const _={userId:S==null?void 0:S.userId,displayName:S==null?void 0:S.displayName};if(p){const E=f.find(A=>A.userId===h);Object.assign(_,{currentControllingUserId:E==null?void 0:E.userId,currentControllingDisplayName:E==null?void 0:E.displayName})}k(dN,_)}else if(r===dr.Approve)b.push(fP(S==null?void 0:S.userId)),k(f_,{isApproved:!0,userId:S==null?void 0:S.userId,displayName:S==null?void 0:S.displayName});else if(r===dr.Decline)b.push(fg(S==null?void 0:S.userId)),k(f_,{isApproved:!1,userId:S==null?void 0:S.userId,displayName:S==null?void 0:S.displayName,reason:s});else if(r===dr.GiveUp)b.push(cg({isInControl:!1,userId:0})),k(Gm,{isControlled:!1});else if(r===dr.StartControl||r===dr.StopControl)b.push(K_({cmd:r===dr.StartControl?"start":"stop",type:l}));else if(r===dr.SwitchCamera){const _=g.findIndex(A=>A.deviceId===v),E=_+1===g.length?0:_+1;if(E!==_){const A=g[E].deviceId;y0.changeCamera(A)}}return ve(b)})),cameraPtzEpics1:(e,t)=>Ce(e,Pt).pipe(oe(n=>{var r;const{payload:{body:a}}=n;return a==null||(r=a.update)===null||r===void 0?void 0:r.some(s=>s.nFECC!==void 0||s.nFECCExecutive!==void 0)}),De(n=>{const{payload:{body:{update:r}}}=n,a=r.find(s=>s.nFECC!==void 0||s.nFECCExecutive!==void 0);if(a){const{meeting:{userId:s}}=t.value;Nr(a.nFECCExecutive,s)&&k(cN,{userId:a.id,ptz:mV(a.nFECC)})}}),je(_e)),cameraPtzEpics2:(e,t)=>Ce(e,Pt).pipe(oe(n=>{var r;const{payload:{body:a}}=n,{video:{farEndCameraControlStatus:{controlledUserList:s}}}=t.value;return a==null||(r=a.remove)===null||r===void 0?void 0:r.some(l=>s.includes(l.id))}),ue(n=>{var r;const{payload:{body:a}}=n,s=[],{video:{farEndCameraControlStatus:{controlledUserList:l}}}=t.value,d=a==null||(r=a.remove)===null||r===void 0?void 0:r.find(f=>l.includes(f.id));return d&&s.push(fg(d.id)),ve(s)})),cameraPtzEpics3:(e,t)=>e.pipe(ke(`${K_}`),it(n=>{const{payload:{cmd:r,type:a}}=n;return r==="start"?On(0,200).pipe(cu(()=>!!t.value.video.currentCameraControlStatus.isCameraMoving),ue(()=>{const{video:{ptz:s,activeCamera:l}}=t.value,d=s[l],f=sC(d)||{},{key:p,range:h}=hV(a,2);return d[p]?(Object.assign(f,{[p]:pV(d[p].capability,d[p].value,h)}),y0.movePTZCamera(f).then(()=>kA({deviceId:l,constraints:f}))):Promise.resolve(void 0)}),ue(s=>typeof s=="object"&&s.type!==void 0?yt(s):_e)):_e})),cameraPtzEpics4:(e,t)=>e.pipe(ke(`${rg}`),ue(n=>{const{payload:r}=n,{video:{customizedVideoOption:a,ptz:s}}=t.value;if(a!=null&&a.ptz){const l=s==null?void 0:s[r];l!==void 0&&u4.sendCameraAblity({pan:!!l.pan,tilt:!!l.tilt,zoom:!!l.zoom})}return _e}))},c4={videoCaptureEpics0:(e,t)=>$e(e,ce.StartVideoCaptureSuccess).pipe(ue(n=>{const{video:{cameraDevicesList:r,activeCamera:a,ptz:s,isCurrentUserStartedVideo:l,isUsingMediaPlayback:d},meeting:{userId:f}}=t.value,{payload:{data:{currentDeviceID:p,PTZRange:h}}}=n,g=[];if(r.length<1&&!d&&(k(r_,{reason:"Cannot detect camera devices"}),Vi.stopCaptureVideo()),cV(a,r)||d){if(l||Nh.muteAttendeeVideo(f,!1),k(fN),d)g.push(rg("default"));else if(p&&h&&g.push(cP({deviceId:p,ptzRange:h})),a!==p&&g.push(rg(p)),Object.prototype.hasOwnProperty.call(s,p)){const v=s[p];if(v){const S=sC(v);S&&Vi.movePTZCamera(S)}}}else k(i_,{reason:"cannot find target camera"}),Vi.stopCaptureVideo();return ve(g)})),videoCaptureEpics1:(e,t)=>Ce(e,Pt).pipe(oe(n=>{const{payload:{body:{update:r}}}=n,{meeting:{userId:a}}=t.value;return r==null?void 0:r.some(s=>s.id===a&&s.bVideoOn!==void 0)}),Ae(n=>{const{payload:{body:{update:r}}}=n,{meeting:{userId:a}}=t.value,s=r.find(l=>l.id===a);return s.bVideoOn===!0?k(mA):k(bu),tP(!!s.bVideoOn)})),videoCaptureEpics2:e=>$e(e,[ce.UserForbiddedCaptureVideo,ce.UserCameraIsTakenByOtherPrograms,ce.VideoWebsocketBroken,ce.StopVideoCaptureFailed]).pipe(ue(t=>{const{payload:{type:n}}=t,r=[];switch(n){case ce.UserForbiddedCaptureVideo:k(o_),r.push(ig(!0));break;case ce.UserCameraIsTakenByOtherPrograms:k(a_,{reason:"User camera is taken by other programs."}),r.push(og(!0));break;case ce.VideoWebsocketBroken:k(aN,{reason:"Video websocket broken."});break;case ce.StopVideoCaptureFailed:k(bu,{failed:!0,reason:"Unknown."})}return ve(r)})),videoCaptureEpics3:(e,t)=>$e(e,ce.StopVideoCaptureSuccess).pipe(Ie(t),ku(n=>{let[,r]=n;const{meeting:{userId:a},video:{isCurrentUserStartedVideo:s}}=r;s||k(bu),Nh.muteAttendeeVideo(a,!0)})),videoCaptureEpics4:(e,t)=>Ce(e,16133).pipe(Ie(t),oe(n=>{var r,a;let[s,l]=n;return(s==null||(r=s.payload)===null||r===void 0||(a=r.body)===null||a===void 0?void 0:a.id)===l.meeting.userId}),ku(n=>{let[r]=n;const{id:a,bVideoMute:s}=r.payload.body;return k(nN,{id:a,isVideoMuted:s}),s===!0&&Vi.stopCaptureVideo(),s===!1&&k(rN,{id:a,isVideoMuted:s}),rP(s)})),videoCaptureEpics5:(e,t)=>Ce(e,16131).pipe(oe(n=>n.payload.body.ssrc!==void 0),it(n=>{const{payload:{body:{ssrc:r}}}=n;return k(hN,r),vn(yt(XL(r)),Mu(t).pipe(ue(a=>{const{meeting:{isCurrentUserStartVideoBeforeReset:s},media:{videoEncodeStatus:l}}=t.value;return(a==null?void 0:a.bVideoOn)!==!0&&s===!0?tr("video",l,"success").pipe(oe(d=>{let[f,p]=d;return f&&p}),Ae(()=>{const d=t.value,{video:{backgroundMode:f,mask:p,virtualBackground:h,activeCamera:g,customizedVideoOption:v}}=d;let S=Promise.resolve(!0);return f===Zi.VirtualBackground&&h.imageSrc?S=gm({imageUrl:h.imageSrc,cropped:h.cropped},Vi,d):f===Zi.Mask&&p.imageSrc&&p.clip&&(S=ym({imageUrl:p.imageSrc,cropped:p.cropped,clip:p.clip,rootHeight:p.rootHeight,rootWidth:p.rootWidth},Vi,d)),S.then(()=>{fV(Vi,d,{cameraId:g,...v})}),Rk(void 0)})):_e})))})),videoCaptureEpics6:(e,t)=>e.pipe(ke(`${MA}`),De(n=>{const{payload:r}=n,a=t.value,{meeting:{userId:s}}=a,l=Ve(a);r.length===0?l&&!l.bVideoConnect||Nh.connectCamera(s,!1):l!=null&&l.bVideoConnect||Nh.connectCamera(s,!0)}),je(_e)),videoCaptureEpics7:e=>$e(e,ce.InitSuccessVideo).pipe(oe(t=>!Me.isIPad&&Me.isAndroidOrIOSBrowser&&t.payload.data===gr.EncodeSuccess),it(()=>"orientation"in window.screen?Ft(screen.orientation,"change").pipe(ue(()=>(Vi.setMobileRotateMode(p0()),_e))):Ft(window,"orientationchange").pipe(ue(t=>{var n,r,a;const s=(n=t.target)===null||n===void 0||(r=n.screen)===null||r===void 0||(a=r.orientation)===null||a===void 0?void 0:a.angle,l=Math.abs(s)===90;return Vi.setMobileRotateMode(l),_e})))),videoCaptureEpics8:e=>$e(e,ce.StartVideoCaptureSuccess).pipe(oe(()=>!Me.isIPad&&Me.isAndroidOrIOSBrowser),De(()=>{Vi.setMobileRotateMode(p0())}),je(_e)),videoCaptureEpics9:(e,t)=>$e(e,ce.VideoStreamFailed).pipe(oe(()=>!!t.value.video.isCurrentUserStartedVideo&&Me.isIOSMobile),De(()=>{Vi.stopCaptureVideo()}),je(_e))},f4={videoRenderEpics0:e=>Ce(e,16129).pipe(Ae(t=>{const{payload:{body:{id:n,bVideoOn:r}}}=t,a=f0(n);return k(tN,{bVideoOn:r,userId:a}),eP({bVideoOn:r,userId:a})})),videoRenderEpics1:(e,t)=>$e(e,ce.VideoDecodeMaxSize).pipe(oe(n=>{var r;return n==null||(r=n.payload)===null||r===void 0?void 0:r.data}),Ae(n=>{const{size:r}=n.payload.data,{video:{renderedVideoList:a,receivedVideoMaxQuality:s}}=t.value,l=a.filter(d=>d.videoQuality>=Ai.Video_720P);return s!==r&&l.length>0&&(r>=Ai.Video_720P||s>=Ai.Video_720P)&&l.forEach(d=>{Rl.subscribeVideo(d.userId,d.videoQuality,!1)}),nP(r)})),videoRenderEpics2:e=>Ce(e,16135).pipe(Ae(t=>{const{payload:{body:{bLeadershipOn:n,id:r}}}=t,a=[];return n&&a.push(f0(r)),k(s_,{spotlightList:a}),z_(a)})),videoRenderEpics3:(e,t)=>Ce(e,7958).pipe(Ie(t),Ae(n=>{let[r,a]=n;const{payload:{body:s}}=r;let l=[];s&&s.group_list&&s.group_list[0]&&(l=s.group_list[0].map(f=>f.id));const d=kt(a);return l=l.filter(f=>d.findIndex(p=>p.userId===f)>=0),k(s_,{spotlightList:l}),z_(l)})),videoRenderEpics4:e=>$e(e,ce.CurrentVideoResolution).pipe(ku(t=>(k(n_,t.payload.data),F_(t.payload.data)))),videoRenderEpics5:e=>$e(e,[ce.CurrentVideoResolution,ce.CurrentCaptureVideoWidthHeight]).pipe(oe(t=>!!t.payload.data),Ae(t=>{const{payload:{data:n,type:r}}=t;return r===ce.CurrentVideoResolution?(k(n_,n),F_(n)):(k(iN,n),hP(n))})),videoRenderEpics6:e=>Ce(e,ri).pipe(oe(t=>{const{payload:{body:n}}=t;return["bFollowHostVideo","VideoHd","bCanUnmuteVideo"].some(r=>n[r]!==void 0)}),Ae(t=>{const{payload:{body:{bFollowHostVideo:n,VideoHd:r,bCanUnmuteVideo:a}}}=t;if(n!==void 0)return k(sN,{bOn:n}),oP(n);if(a!==void 0)return lP(a);{const s=r===1;return oo.updateVideoHDValue(s),oo.enableHardwareAccelerationForVideoEncode(!1),sP(s)}})),videoRenderEpics7:(e,t)=>Ce(e,7957).pipe(Ie(t),Ae(n=>{let[r,a]=n;const{video:{isFollowHostVideoLayout:s}}=a,{payload:{body:l}}=r,d=l&&l.drag_list&&l.drag_list.map(f=>f.id);return s&&k(uN,{layout:d}),aP(d)})),videoRenderEpics8:(e,t)=>Ce(e,Pt).pipe(Ie(t),oe(n=>{let[r,a]=n;const{meeting:{userId:s},video:{subscribedVideoList:l}}=a,d=r.payload.body.update,f=r.payload.body.remove;return d&&d.length>0&&d.findIndex(p=>p.id!==s&&(p.bVideoOn!==void 0||p.bHold))>-1||f&&f.some(p=>l.includes(p.id))}),De(n=>{let[r,a]=n;const{payload:{body:{remove:s,update:l}}}=r,{video:{subscribedVideoList:d}}=a,f=hH(a);if(s&&s.length>0&&s.filter(p=>d.includes(p.id)).forEach(p=>{k(Yh,{userId:p.id})}),l&&l.length>0){const p=l.filter(g=>g.bVideoOn!==void 0).filter(g=>f.findIndex(v=>v.userId===g.id)===-1),h=l.filter(g=>g.bHold===!0);h.length>0&&h.filter(g=>d.includes(g.id)).forEach(g=>{k(Yh,{userId:g.id})}),p.forEach(g=>{g.bVideoOn?k(lN,{userId:g.id}):d.includes(g.id)&&k(Yh,{userId:g.id})})}}),je(_e)),videoRenderEpics9:(e,t)=>$e(e,ce.VideoQosData).pipe(Ie(t),Ae(n=>{var r;let[a,s]=n;const{video:{isCaptureForbidden:l,isCameraTaken:d},media:{videoEncodeStatus:f,videoDecodeStatus:p}}=s,h=Ve(s),g=CA(s),v=g.length>0,S=(h==null?void 0:h.bVideoOn)&&!l&&!d,b=g.some(A=>A.bVideoOn),_=f==="success"&&S&&v,E=p==="success"&&v&&b;return(r=a.payload.data)!==null&&r!==void 0&&r.encoding?_?(k(l_,a.payload),ug(a.payload)):ug(us):E?(k(l_,a.payload),lg(a.payload)):lg(us)})),videoRenderEpics10:(e,t)=>$e(e,[ce.CurrentDecodeVideoQuality,ce.CurrentDecodeVideoFps]).pipe(De(n=>{const{payload:{type:r,data:a}}=n,{video:{subscriptionStatus:s}}=t.value;if(s.detailed){if(r===ce.CurrentDecodeVideoQuality){const{ssrc:l,width:d,height:f,quality:p}=a;k(d_,{userId:l,width:d,height:f,quality:p})}else if(r===ce.CurrentDecodeVideoFps){const{ssrc:l,fps:d}=a;k(d_,{userId:l,fps:d})}}}),je(_e)),videoRenderEpics11:(e,t)=>XE(e,t).pipe(ue(async()=>Me.isAndroidOrIOSBrowser?1:await qe.isSupportVideoDecodeHardwareAcceleration()?4:1),Ae(n=>uP(n))),videoRenderEpics12:(e,t)=>$e(e,ce.NetworkQualityChange).pipe(oe(n=>!!n.payload.data),ue(n=>{var r;const{payload:{data:{bwLevel:a,isUplink:s,networkLevel:l}}}=n,d=[],{meeting:{userId:f},video:{networkQuality:p,subscribedVideoList:h,networkQualityBroadcastTime:g}}=t.value,v=s?"uplink":"downlink";d.push($_({userId:f,level:l,bwLevel:a,type:v}));const S=$f((r=p[`${f}`])===null||r===void 0?void 0:r[v],{level:l,bwLevel:a});if(!S&&l!==-1&&(!s&&h.filter(b=>b!==f).length>0||s)&&k(c_,{userId:f,type:v,level:l}),s){const b=performance.now();(!S||b-(g??0)>3e4)&&(Rl.broadcastUserNetworkQuality({isUplink:s,level:l,bwLevel:a}),d.push(pP(b)))}return ve(d)})),videoRenderEpics13:(e,t)=>Ki(e,8005).pipe(oe(n=>{var r;return!((r=n.payload.body)===null||r===void 0||!r.nUserID)}),ue(n=>{const{payload:{body:{nLevel:r,nUserID:a}}}=n,{video:{networkQuality:s}}=t.value,l=s[`${a}`],d=[];return l&&l.uplink.level===r||(k(c_,{userId:a,level:r,type:"uplink"}),d.push($_({userId:a,level:r,type:"uplink"}))),ve(d)})),videoRenderEpics14:(e,t)=>Ce(e,Pt).pipe(oe(n=>{const{payload:{body:r}}=n,{video:{prefetchedVideo:a}}=t.value;return(a==null?void 0:a.userId)&&(r.update||r.remove)}),ue(n=>{const{payload:{body:r}}=n,a=[],{video:{prefetchedVideo:s}}=t.value;let l=!1;return r.remove&&(l=r.remove.findIndex(d=>d.id===(s==null?void 0:s.userId))!==-1),r.update&&(l=r.update.findIndex(d=>d.id===(s==null?void 0:s.userId)&&d.bVideoOn===!1)!==-1),l&&s&&(s.loaded||oo.cancelPrefetchVideoSsrc(s.userId),Rl.unsubscribeVideo(s.userId),a.push(ed(void 0))),ve(a)})),videoRenderEpics15:(e,t)=>e.pipe(ke(`${ed}`),oe(n=>!!n.payload),De(n=>{const{payload:{lastCopy:r}}=n,{video:{prefetchedVideo:a}}=t.value;!a||r&&r.userId===a.userId||(r!=null&&r.userId&&(r.loaded&&oo.cancelPrefetchVideoSsrc(r.userId),Rl.unsubscribeVideo(r.userId)),Rl.subscribeVideo(a.userId,Ai.Video_360P,!1),oo.prefetchVideoSsrc(a.userId))}),je(_e)),videoRenderEpics16:(e,t)=>$e(e,ce.NewActiveSpeakerFirstFrameCallback).pipe(oe(()=>!!t.value.video.prefetchedVideo),ue(n=>{const{payload:{data:{ssrc:r}}}=n,{video:{prefetchedVideo:a}}=t.value,s=[];return a&&(Nr(a.userId,r)?(s.push(ed({userId:a.userId,loaded:!0,lastCopy:a})),k(pN,{userId:a.userId})):Rl.unsubscribeVideo(a.userId)),ve(s)})),videoRenderEpics17:(e,t)=>Ce(e,16131).pipe(oe(n=>n.payload.body.ssrc!==void 0),De(()=>{const{media:{videoDecodeStatus:n,videoEncodeStatus:r}}=t.value;tr("video",r,n).subscribe(a=>{let[s,l]=a;const{video:{subscriptionStatus:d}}=t.value;s&&d.encode&&oo.subscribeToQos([jn.VideoEncode],Qa),l&&(d.decode&&oo.subscribeToQos([jn.VideoDecode],Qa),d.detailed&&oo.enableVideoObserver(!0))})}),je(_e)),videoRenderEpics18:(e,t)=>e.pipe(ke(`${Xl}`,`${ag}`),oe(()=>{const n=t.value.video.renderedVideoList.length;return[0,1].includes(n)}),De(()=>{const n=t.value.video.renderedVideoList.length;n===1?oo.enableVideoObserver(!0,!0):n===0&&oo.enableVideoObserver(!1)}),je(_e)),videoRenderEpics19:(e,t)=>$e(e,ce.CurrentDecodeVideoQuality).pipe(ue(n=>{const{payload:{data:r}}=n,{video:{renderedVideoList:a,videoAttachments:s}}=t.value,l=[],{ssrc:d,width:f,height:p}=r,h=p?f/p:0,g=a.filter(v=>Nr(v.userId,d));if(g.some(v=>v.aspectRatio&&Math.abs(v.aspectRatio-h)>.2)){const v=g.filter(S=>S.canvasId===df);if(v.length>0){const S=s[`${d}`];S&&S.every(b=>{if(b){const{clientWidth:_,clientHeight:E}=b,A=E?_/E:0;return Math.abs(A-h)<=.2}return!0})&&l.push(Xl({userId:d,key:Js,canvasId:df,aspectRatio:h}))}v.length===g.length&&l.length!==0||k(mN,{userId:d,aspectRatio:h})}return ve(l)}))},p4=_r(f4,c4,{vbEpics0:e=>$e(e,[ce.VbModelPreloadingOk,ce.VbModelPreloading_3S,ce.VbModelPreloading_10S,ce.VbSettingParaError]).pipe(ue(t=>{const{payload:{type:n,data:r}}=t,a=[];return[ce.VbModelPreloadingOk,ce.VbModelPreloading_3S,ce.VbModelPreloading_10S].includes(n)?(a.push(q_(!0)),k(Fm,!0),n===ce.VbModelPreloading_10S&&console.warn("Virtual Background is taking longer than expected to load.")):n===ce.VbSettingParaError&&(r===eN.VBModelNotMatch?(k(Fm,!1),a.push(q_(!1))):(k(u_,!1),a.push(sg(!1)))),ve(a)})),vbEpics1:e=>$e(e,ce.StartVideoStreamInVbSettingSuccess).pipe(Ae(()=>(k(u_,!0),sg(!0)))),vbEpics2:e=>$e(e,ce.StartVideoStreamInMaskSettingSuccess).pipe(Ae(()=>(k(p_,!0),pg(!0)))),vbEpics3:e=>$e(e,ce.MaskSettingParaError).pipe(Ae(()=>(k(p_,!1),pg(!1))))},d4);class Gi{constructor(){this.assetsPath=void 0,this.instance=void 0,this.callbackList=void 0,this.mediaWorkersPath=void 0,this.mediaOptions=void 0,this.inProgress=void 0,this.callbackList=[]}static getInstance(){return this.agentInstance===void 0&&(this.agentInstance=new Gi),this.agentInstance}init(t,n){var r,a,s,l,d;if(!this.instance&&window.JsMediaSDK_Instance){const p={ivObj:{[yn.AUDIO_ENCODE]:void 0,[yn.VIDEO_ENCODE]:void 0,[yn.SHARING_ENCODE]:void 0}};this.instance=new window.JsMediaSDK_Instance(p)}this.mediaWorkersPath=Gk(t,!1),this.onMediaSDKCallback=this.onMediaSDKCallback.bind(this),this.mediaOptions=n,(r=this.instance)===null||r===void 0||r.JsMediaSDK_PreLoad(this.mediaWorkersPath,this.onMediaSDKCallback,n);const f=Ql((a=this.mediaOptions)===null||a===void 0?void 0:a.enableMultiDecodeVideoWithoutSAB);(s=this.instance)===null||s===void 0||s.setPropsBeforeInit({callback:this.onMediaSDKCallback,audioWorkerPath:(l=this.mediaWorkersPath)===null||l===void 0?void 0:l.audioWorkletPath,isEnableListenInitEvent:!0}),(d=this.instance)===null||d===void 0||d.initVideoEncode(this.mediaWorkersPath,"",0,!1,"",0,f,!1,!1,!0,!0,!1,!0),this.inProgress=!0}onMediaSDKCallback(t,n){this.callbackList.length>0&&this.callbackList.forEach(r=>r(t,n))}registerCallback(t){this.callbackList.push(t)}unregisterCallback(t){this.callbackList=this.callbackList.filter(n=>n!==t)}async destroy(){var t;this.callbackList=[],await((t=this.instance)===null||t===void 0?void 0:t.destroy()),this.instance=null,this.inProgress=!1}disconnect(){var t,n;(t=this.instance)===null||t===void 0||t.Notify_MeidaSDK(17,{}),(n=this.instance)===null||n===void 0||n.JsMediaSDK_UnInit()}startVirtualBackgroundSetting(t,n,r,a,s,l){var d;let f=arguments.length>6&&arguments[6]!==void 0&&arguments[6];(d=this.instance)===null||d===void 0||d.Notify_MeidaSDK(91,{canvas:t,bgdom:n,width:s,height:l,ssid:0,VideoSelectValue:a==="default"?null:a,disableOriginalRatio:f})}updateVirtualBackgroundImage(t){var n;(n=this.instance)===null||n===void 0||n.Notify_MeidaSDK(92,{bgdom:t})}stopVirtualBackgroundSetting(){var t;let n=arguments.length>0&&arguments[0]!==void 0&&arguments[0];(t=this.instance)===null||t===void 0||t.Notify_MeidaSDK(93,{isSwitch:n})}}Gi.agentInstance=void 0;const S0="PREVIEW_VIDEO_ENCODE_SUCCESS",ab="PREVIEW_VIDEO_VB_MODEL_READY";async function b0(e,t,n){const{imageUrl:r,cropped:a,deviceId:s}=n;if(r){const l=await ep(r,a);if(l){let d=sa("__ZOOM_SDK_PREVIEW_VIRTUAL_BACKGROUND_CANVAS_@__");t.id?d=t.id:t.id=d;let[f,p]=[640,360];qe.isSupportSending720P()&&(f=1280,p=720),e.startVirtualBackgroundSetting(d,l,0,s??"default",f,p),l!==pd&&setTimeout(()=>{Nf(l)},0)}}}class wu{constructor(){this.previewMediaAgent=Gi.getInstance(),this.isInit=void 0,this.isVideoEncoded=void 0,this.isVBModelReady=void 0,this.eventHandler=(t,n)=>{switch(t){case ce.InitSuccessVideo:n===gr.EncodeSuccess&&(this.isVideoEncoded=!0,k(S0));break;case ce.VbModelPreloadingOk:case ce.VbModelPreloading_3S:case ce.VbModelPreloading_10S:this.isVBModelReady=!0,k(ab,!0);break;case ce.VbSettingParaError:n===eN.VBModelNotMatch&&(this.isVBModelReady=!1,k(ab,!1))}}}static setMediaOption(t){wu.mediaOption=t}setup(){if(wu.mediaOption){if(qe.getInstance().inProgress)return Promise.resolve("");if(!Gi.getInstance().inProgress){this.isVideoEncoded=void 0,this.isVBModelReady=void 0,this.previewMediaAgent.unregisterCallback(this.eventHandler);const{assetsPath:t,enforceMultipleVideos:n,enforceVirtualBackground:r}=wu.mediaOption,a={...dU(t,n,r)};this.previewMediaAgent.init(t,a),this.previewMediaAgent.registerCallback(this.eventHandler)}return Promise.resolve("")}return Promise.reject({type:ae,reason:"Cannot preview video with virtual background before `client.init` method."})}async startPreview(t,n){qe.getInstance().inProgress?b0(qe.getInstance(),t,n):(this.isVBModelReady!==void 0?ve([this.isVBModelReady]):It(ab,1)).subscribe(r=>{r&&(this.isVideoEncoded?ve([!0]):It(S0,1)).subscribe(()=>{b0(Gi.getInstance(),t,n)})})}async stopPreview(){qe.getInstance().inProgress?qe.getInstance().stopVirtualBackgroundSetting():Gi.getInstance().stopVirtualBackgroundSetting()}async updatePreview(t,n){const r=qe.getInstance().inProgress?qe.getInstance():Gi.getInstance();if(t){const a=await ep(t,n);a&&(r.updateVirtualBackgroundImage(a),a!==pd&&setTimeout(()=>{Nf(a)},0))}else r.updateVirtualBackgroundImage(null)}}wu.mediaOption=void 0;const{InitSuccessVideo:sb,InitSuccessAudio:ub,InitSuccessSharing:lb,InitFailedVideo:_0,InitFailedAudio:E0,InitFailedSharing:A0}=ce,Jn=Ar(qe.getInstance()),C0=Er.getInstance().makeLogger(["Media Agent"]),h4=[dm,cm,su].map(e=>uU(e,{hostname:!0})),Lh=[],m4={epics0:(e,t)=>e.pipe(ke(`${Di}`),it(()=>{const{meeting:{isMeetingReset:n}}=t.value;return e.pipe(ke(`${pa}`),ut(1),hs(r=>{var a;const{logger:s,media:{mediaConstraints:l,assetsPath:d},meeting:{zlkJwtToken:f,cv:p}}=t.value,{payload:{disableAqos:h,disableVqos:g}}=r,v=s!=null&&(a=s.options)!==null&&a!==void 0&&a.enable?Er.getInstance().makeLogger(["MEDIA SDK"]):void 0;return function(S){const{media:{patchedMediaSDKStatus:b}}=S;return b===Yc.Loading?or(It(tm,1)):Promise.resolve()}(t.value).then(()=>{const S=[];let b=!g;const _=!h;return f&&nA(p,"1.3.0")<0&&(b=!1),S.push(JM({audioQos:_,videoQos:b})),Jn.init(function(E){return E&&new Proxy(E,{get:(A,w)=>typeof w=="string"&&w==="error"?function(){try{var O;DU.report(arguments.length<=0?void 0:arguments[0],["MEDIA SDK",...(O=arguments.length<=1?void 0:arguments[1])!==null&&O!==void 0?O:[]],"error")}catch{}}:Reflect.get(A,w)})}(v)),S.push(YE(!0)),n&&l!==void 0&&d!==void 0&&S.push(ZE()),S})}))})),epics1:(e,t)=>e.pipe(ke(`${Di}`),oe(n=>{const{payload:{mediaSDKPath:r}}=n,{media:{skipJsMedia:a,patchJsMedia:s,assetsPath:l},meeting:{isMeetingReset:d}}=t.value;return!a&&h4.some(f=>new RegExp(`^https://${f}`).test(l??""))&&!!s&&!!r&&!d}),it(n=>{const{payload:{mediaSDKPath:r}}=n,a=iA(r);return ve(new Promise((s,l)=>{const d=`${a}/${ou}`;"JsMediaSDK_Instance"in window&&(window.JsMediaSDK_Instance_backup=window.JsMediaSDK_Instance,delete window.JsMediaSDK_Instance),FA(d,()=>{"JsMediaSDK_Instance_backup"in window&&delete window.JsMediaSDK_Instance_backup,C0.info(`patched media sdk url:${d}`),s("")},()=>{"JsMediaSDK_Instance_backup"in window&&(window.JsMediaSDK_Instance=window.JsMediaSDK_Instance_backup,delete window.JsMediaSDK_Instance_backup),C0.error(`cannot load patched media sdk :${d}`),l()})})).pipe(ue(()=>(k(tm),ve([Qh(Yc.Done),ZM(a)]))),qi(()=>(k(tm),ve([Qh(Yc.Done)]))),Ii(Qh(Yc.Loading)))})),epics2:(e,t)=>XE(e,t).pipe(De(()=>{const{media:{assetsPath:n,mediaConstraints:r,fileWithVersion:a,enforceMultipleVideos:s,enforceVirtualBackground:l,isEnableDecoderInWorklet:d},meeting:{isAudioBridgeEnabled:f}}=t.value;if(Jn.notifySDKMeetingReady(),n&&r){const p={enableDecoderInWorklet:d,enableAudioBridge:f&&Vr()};Object.assign(p,dU(n,s,l)),Jn.setAssetsAndConstraint(n,r,a,p)}Mu(t).pipe(it(p=>ve(fE.acquire().then(()=>p)))).subscribe(p=>{const{meeting:{svcUrl:h,meetingNumber:g,conId:v,e2eEncrypt:S,userId:b,isWebinar:_,enableWebtransport:E,webtransportPort:A},media:{enableAudioQos:w,enableVideoQos:O,alternativeNameForVideoPlayer:I}}=t.value;p&&(Jn.connect({svcUrl:h,meetingNumber:g,conId:v,e2eEncrypt:S,isViewOnly:Sn(p.userRole),currentUserId:b,isWebinar:_,enableAudioQos:w,enableVideoQos:O,enableWebtransport:E,webtransportPort:A}),function(V){var U;let x="video-player";V.tagName&&(x=V.tagName,Pr.dispatch("",{tagName:V.tagName}),gu((U=V.mediaSDK)===null||U===void 0?void 0:U.call(V),`VPTN:${x}`));const $=`${x}-container`,W=V.sessionId||rC();Pr.get("mediaSDKInstanceMap").set(Vf,V.mediaSDK),Pr.get("mediaSDKInstanceMap").set(W,V.mediaSDK),V.failover&&Pr.dispatch("failover",void 0,V.sessionId||Vf),customElements.get($)||customElements.define($,_d),customElements.get(x)||customElements.define(x,bd)}({mediaSDK:()=>Jn.instance,tagName:I,failover:"1"}))})}),it(()=>ss(n=>Jn.registerCallback(n),n=>Jn.unregisterCallback(n),(n,r)=>({type:n,data:r})).pipe(Ae(n=>KM(n))))),epics3:e=>$e(e,[sb,ub,lb,_0,E0,A0]).pipe(fU(t=>{const{payload:{type:n,data:r}}=t;if(n===ub||n===E0){if(r===gr.EncodeSuccess)return k(zN),yt(Hb("success"));if(r===gr.DecodeSuccess)return k(FN),yt(zb("success"));if(r===gr.EncodeFailed)return k(KN),yt(Hb("failed"));if(r===gr.DecodeFailed)return k(WN),yt(zb("failed"))}else if(n===sb||n===_0){if(r===gr.EncodeSuccess)return k(GN),yt(Fb("success"));if(r===gr.DecodeSuccess)return k(qN),yt(Gb("success"));if(r===gr.EncodeFailed)return k(QN),yt(Fb("failed"));if(r===gr.DecodeFailed)return k(ZN),yt(Gb("failed"))}else if(n===lb||n===A0){if(r===gr.EncodeSuccess)return k($N),yt(qb("success"));if(r===gr.DecodeSuccess)return k(__),yt(Wh("success"));if(r===gr.EncodeFailed)return k(JN),yt(qb("failed"));if(r===gr.DecodeFailed)return k(YN),yt(Wh("failed"));if(n===lb&&r===void 0)return k(__),yt(Wh("success"))}})),epics4:(e,t)=>$e(e,[sb,ub]).pipe(it(()=>typeof navigator.mediaDevices=="object"?vn(uE(),vn($e(e,ce.StartVideoCaptureSuccess),Ft(navigator.mediaDevices,"devicechange"),$e(e,ce.UserGrantCaptureAudio).pipe(oe(()=>!t.value.audio.isUserGrantCaptureAudio))).pipe(ue(()=>uE().pipe(De(()=>{setTimeout(()=>{k(XN)},50)}))))).pipe(Ie(t),ue(n=>{let[r,a]=n;const s=[IL(r.microphones),DL(r.speakers),MA(r.cameras)];if(a.audio){const{audio:{activeMicrophone:f,activeSpeaker:p,microphoneDevicesList:h,speakerDevicesList:g}}=a,v=Ve(a),{microphones:S,speakers:b}=r,_=h.filter(A=>S.findIndex(w=>w.deviceId===A.deviceId)===-1),E=g.filter(A=>b.findIndex(w=>w.deviceId===A.deviceId)===-1);if(_.length>0){if(ZR(_[0],f,h)){const A=Dc(S);Jn.changeMicrophone("default",A==null?void 0:A.label,!(v==null||!v.muted)),s.push(Rf("default"))}}else if(f==="default"){const A=Dc(h),w=Dc(S);h.length>0&&(A==null?void 0:A.label)!==(w==null?void 0:w.label)&&Jn.changeMicrophone("default",w==null?void 0:w.label,!(v==null||!v.muted))}var l,d;E.length>0?ZR(E[0],p,g)&&(Jn.changeSpeaker("default"),s.push(Kg("default"))):p==="default"&&g.length>0&&((l=Dc(g))===null||l===void 0?void 0:l.label)!==((d=Dc(b))===null||d===void 0?void 0:d.label)&&Jn.changeSpeaker("default")}return ve(s)})):_e)),epics5:(e,t)=>Ki(e,Pt).pipe(De(n=>{const{type:r,payload:{body:a}}=n,s=r===`${da}`;if(a.add){const l=a.add.map(d=>({userid:d.id,sn:d.zoomID&&ni(d.zoomID)}));if(!s){const{meeting:{gcmSessinKey:d}}=t.value;Jn.sendUserNodeList(l,d)}Jn.updateUserMediaSN({added:l,isFromMainSession:s,iVType:yn.SHARING_DECODE}),s&&Jn.updateUserMediaSN({added:l,isFromMainSession:s,iVType:yn.AUDIO_DECODE})}if(a.remove&&a.remove.length>0){if(!s){const{meeting:{gcmSessinKey:l}}=t.value;Jn.sendUserNodeList(a.remove.map(d=>({userid:d.id,bremove:!0})),l)}Jn.updateUserMediaSN({removed:a.remove.map(l=>l.id),isFromMainSession:s,iVType:yn.SHARING_DECODE}),s&&Jn.updateUserMediaSN({removed:a.remove.map(l=>l.id),isFromMainSession:s,iVType:yn.AUDIO_DECODE})}}),je(_e)),epics6:e=>$e(e,ce.AesGcmIvResponse).pipe(De(t=>{const{payload:{data:{workerType:n,iv:r}}}=t,a=Je.get(Ct.WebclientIVState);if(a){const s={...a,[n]:r};Je.set(Ct.WebclientIVState,s,ft.SessionStorage)}}),je(_e)),epics7:e=>e.pipe(ke(`${Nu}`),oe(t=>[e_,kR,dA].includes(t.payload.evt)),Ae(t=>{const{payload:{evt:n,body:{encryptKey:r,additionalType:a}}}=t;return WM({type:n===e_?"audio":n===kR?"video":"sharing",encryptKey:r,additionalType:a})})),epics8:e=>e.pipe(ke(`${JE}`),De(t=>{const{payload:n}=t;wu.setMediaOption({assetsPath:n.assetsPath,enforceMultipleVideos:n.enforceMultipleVideos,enforceVirtualBackground:n.enforceVirtualBackground})}),je(_e)),epics9:e=>e.pipe(ke(`${_f}`,`${Qb}`),De(()=>{Gi.getInstance().inProgress&&(Gi.getInstance().disconnect(),fE.watch(Gi.getInstance().destroy()))}),je(_e)),epics10:e=>e.pipe(ke(`${_f}`,`${Qb}`),it(()=>"permissions"in navigator?["microphone","camera"].map(t=>{navigator.permissions.query({name:t}).then(n=>{const r=()=>{k(nL,{name:t,state:n.state})};r(),n.addEventListener("change",r),Lh.push(()=>{n.removeEventListener("change",r)})}).catch(()=>{})}):_e),je(_e)),epics11:e=>e.pipe(ke(`${uA}`),oe(t=>t.payload===Xt.Closed),De(()=>{Lh.length>0&&(Lh.forEach(t=>t()),Lh.length=0)}),je(_e))},g4=_r(m4),y4={meeting:R3,socket:x3,participants:q3,media:W3},v4=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||LM;function w0(e){return function(t){for(var n=Object.keys(t),r={},a=0;a<n.length;a++){var s=n[a];typeof t[s]=="function"&&(r[s]=t[s])}var l,d=Object.keys(r);try{(function(f){Object.keys(f).forEach(function(p){var h=f[p];if(h(void 0,{type:Om.INIT})===void 0)throw new Error(lr(12));if(h(void 0,{type:Om.PROBE_UNKNOWN_ACTION()})===void 0)throw new Error(lr(13))})})(r)}catch(f){l=f}return function(f,p){if(f===void 0&&(f={}),l)throw l;for(var h=!1,g={},v=0;v<d.length;v++){var S=d[v],b=r[S],_=f[S],E=b(_,p);if(E===void 0)throw p&&p.type,new Error(lr(14));g[S]=E,h=h||E!==_}return(h=h||d.length!==Object.keys(f).length)?g:f}}({...y4,...e})}function pe(e,t,n,r,a){var s={};return Object.keys(r).forEach(function(l){s[l]=r[l]}),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=n.slice().reverse().reduce(function(l,d){return d(e,t,l)||l},s),a&&s.initializer!==void 0&&(s.value=s.initializer?s.initializer.call(a):void 0,s.initializer=void 0),s.initializer===void 0&&(Object.defineProperty(e,t,s),s=null),s}const zt=Symbol("store"),Te=Symbol("getState"),un=Symbol("dispatch"),Lg=Symbol("additionFeatures"),de=Symbol("mediaContext");function me(e,t,n){const r=n.value;n.value=function(){const a=this[zt];if(a){const{meeting:{isOnHold:f,isMeetingReset:p,meetingStatus:h}}=a.getState();if(h!==Xt.Joined)return Promise.reject({type:Jl,reason:"closed"});if(p)return Promise.reject({type:Jl,reason:"reconnecting"});if(f)return Promise.reject({type:Jl,reason:"on hold"})}for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];return r.apply(this,l)}}function Ci(e,t,n){const r=n.value;n.value=function(){const a=this[zt];if(a){const f=a.getState();if(!ei(f))return Promise.reject({type:nr,reason:"only host or co-host can do the operation"})}for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];return r.apply(this,l)}}function Kt(e,t,n){const r=n.value;n.value=function(){const a=this[zt];if(a){const f=a.getState();if(!pH(f))return Promise.reject({type:nr,reason:"only host can do the operation"})}for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];return r.apply(this,l)}}function Re(e){return function(t,n,r){const a=r.value;r.value=function(){const s=this[zt];if(s&&s.getState()[e]===void 0)return Promise.reject({type:ae,reason:`Module:${e} is not enabled`});for(var l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];return a.apply(this,d)}}}function O0(e){return function(t,n,r){const a=r.value;r.value=function(){const s=this[zt];if(s){const{meeting:{meetingOptions:p}}=s.getState();if(p[e]===!0)return Promise.reject({type:"OPERATION_LOCKED",reason:`${e} is locked`})}for(var l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];return a.apply(this,d)}}}let is=function(e){return e.Self="Self",e.Other="Other",e.Client="Client",e.Phone="Phone",e.Attendee="Attendee",e}({});function db(e){return function(t,n,r){const a=r.value;r.value=function(s){const l=this[zt];if(l){const g=l.getState(),v=Array.isArray(e)?e:[e];let S=kt(g).find(b=>b.userId===s);if(v.findIndex(b=>b===is.Attendee)>-1&&(S=Jf(g).find(b=>b.userId===s)),!S)return Promise.reject({type:Qe,reason:"no matching user"});{const{meeting:{userId:b}}=l.getState();for(let _=0;_<v.length;_++){const E=v[_];if(E===is.Other&&s===b)return Promise.reject({type:ae,reason:"operation is not applicable to self"});if(E===is.Self&&s!==b)return Promise.reject({type:ae,reason:"operation is only applicable to self "});if(E===is.Client&&md(S.userType)||E===is.Phone&&!md(S.userType))return Promise.reject({types:ae,reason:"improper target client"})}}}for(var d=arguments.length,f=new Array(d>1?d-1:0),p=1;p<d;p++)f[p-1]=arguments[p];const h=[s,...f];return a.apply(this,h)}}}const cb=Er.getInstance();function Mi(e,t){return function(n,r,a){const s=a.value;a.value=function(){for(var l=arguments.length,d=new Array(l),f=0;f<l;f++)d[f]=arguments[f];if(cb.checkLaplace())try{var p;const h=cb.makeLogger([e]),g=(p=t?d.map((v,S)=>t.includes(S+1)?fr(v):v):d)===null||p===void 0?void 0:p.map(v=>Im(v));return h.info(`${r},params:${JSON.stringify(g)}`),s.apply(this,d).then(v=>(h.info(`${r} success`),v)).catch(v=>{let S=`${r},params:${JSON.stringify(g)},return failed,`;return typeof v=="object"&&(S=`${S},${v.type?`type:${v.type},`:""}${v.reason?`reason:${v.reason}`:""}`),cb.report(S,`${e} exception flow`,"error"),Promise.reject(v)})}catch{}return s.apply(this,d)}}}function Zg(e,t,n){return function(r,a,s){const l=s.value;s.value=function(){for(var d,f,p=arguments.length,h=new Array(p),g=0;g<p;g++)h[g]=arguments[g];const v=h[t];let S=e;return Array.isArray(S)||(S=[S]),!S.some(b=>v instanceof b)||n&&!n.every(b=>!!v[b])?Promise.reject({type:Qe,reason:`Expected to accept ${(d=S)===null||d===void 0?void 0:d.map(b=>b.name).join(" or ")}, but actual it is ${typeof v=="object"&&v!==null?(f=Object.getPrototypeOf(v))===null||f===void 0?void 0:f.constructor.name:v}`}):l.apply(this,h)}}}class To{constructor(t){this[zt]=void 0,this[un]=void 0,this[Te]=void 0,this[Lg]=void 0,this[zt]=t,this[un]=t.dispatch,this[Te]=t.getState}}const S4=["userId","displayName","audio","isHost","avatar","bRaiseHand","bHold","bVideoOn","sharerOn","sharerPause","feedback","bLocalRecord","strPronoun","sdkKey","audioConnectionStatus","caps","bAllowISORecord","bVideoConnect","userIdentity","isSpeakerOnly","bVideoShare","bShareAudioOn","bShareToBORooms",{from:"bInFailover",to:"isInFailover"},{from:"userGUID",to:"userGuid"},{from:"bGuest",to:"isGuest"},{from:"sharerPause",to:"sharePause"},{from:"bCoHost",to:e=>({isCoHost:!!e})},{from:"muted",to:(e,t)=>({muted:t!=null&&t.isSpeakerOnly||(t==null?void 0:t.audio)===""?void 0:e})},{from:"userType",to:(e,t)=>{const n=md(e),r={isPhoneUser:n};return n&&t!=null&&t.phoneNumber&&Object.assign(r,{phoneNumber:t.phoneNumber}),r}}];function ad(e){return S4.reduce((t,n)=>{const r=typeof n=="string"?n:n.from,a=function(s,l,d){if(typeof s=="string")return{[`${s}`]:l};if(typeof s=="object"&&s.from!==void 0){const{to:f}=s;return typeof f=="string"?{[`${f}`]:l}:f(l,d)}}(n,e[r],e);return{...t,...a}},{})}function vV(){const{isSupportAudioWorklet:e,isSupportEssentialAudioAndVideoAbility:t,isAndroidOrIOSBrowser:n,isSupportSendScreenSharing:r}=Me;return{audio:t&&e||n,video:t&&navigator.mediaDevices!==void 0&&navigator.mediaCapabilities!==void 0,screen:t&&r}}var T0,R0,I0,pn;const Ks=at.createAgent();let b4=(T0=db(is.Other),R0=db(is.Other),I0=db(is.Other),pn=class extends To{constructor(e){super(e),this.modules=void 0,this.useSDK=void 0,this.useSDK=!1,this.modules=new Map}initWithSDK(e,t,n){return this.useSDK=!0,this.init(e,t,n)}init(e,t,n){const{audio:r,video:a}=vV();if(!r||!a)return console.error("https://developers.zoom.us/docs/video-sdk/web/browser-support"),Promise.reject({type:ae,reason:"Please update to the latest Chrome, Edge, Safari, or Firefox, as your current browser doesn't support audio/video. Retry after the upgrade."});const{[un]:s,[zt]:l}=this;let d=su;const f=(n==null?void 0:n.fileWithVersion)||!1;let p="en-US",h=`${su}/${ou}`;if(n){const{dependentAssets:g,additionalFeatures:v,constraints:S,language:b,webEndpoint:_}=n;b&&(p=b),_&&function(E){Lf=uU(E,{hostname:!0})}(_),g===SS.CDN||g===dm?(d=dm,h=`${dm}/${ou}`):g===SS.Global||g===su?(d=su,h=`${su}/${ou}`):g===SS.CN||g===cm?(d=cm,h=`${cm}/${ou}`):g&&/^https?:\/\//.test(g)&&(d=iA(g),h=f?`${d}/1505_js_media.min.js`:`${d}/${ou}`),v&&Array.isArray(v)&&v.forEach(E=>{if(this[Lg][E]&&l.getState()[E]===void 0){const{epic:A,reducer:w,Client:O}=this[Lg][E];l.injectReducer(E,w),l.injectEpic(A);const I=new O(l);this.modules.set(E,I)}}),S!=null&&S.audio&&l.getState().audio===void 0&&(l.injectReducer("audio",Y3),l.injectEpic(tz)),S!=null&&S.video&&l.getState().video===void 0&&(l.injectReducer("video",l4),l.injectEpic(p4)),S!=null&&S.screen&&l.getState().share===void 0&&(l.injectReducer("share",y3),l.injectEpic(b3))}return s(Sk({apiKey:e,signature:t,language:p,useSDK:this.useSDK})),s(JE({mediaConstraints:n&&n.constraints||{},assetsPath:d,fileWithVersion:f,enforceMultipleVideos:n==null?void 0:n.enforceMultipleVideos,enforceVirtualBackground:n==null?void 0:n.enforceVirtualBackground,skipJsMedia:n==null?void 0:n.skipJsMedia,patchJsMedia:n==null?void 0:n.patchJsMedia,alternativeNameForVideoPlayer:n==null?void 0:n.alternativeNameForVideoPlayer})),(n==null?void 0:n.stayAwake)!==void 0&&s(Lk(n.stayAwake)),(n==null?void 0:n.quicklyLeaveMeeting)!==void 0&&s(Vk(n.quicklyLeaveMeeting)),new Promise((g,v)=>{n!=null&&n.skipJsMedia?g(""):FA(h,()=>{g("")},()=>{v({type:Qe,reason:"dependent assets are not accessible"})})})}on(e,t){((n,r)=>{const a=qR[n];if(a){const s=Xs.get(n);if(s)s.push(r),Xs.set(n,s);else{const l=[r];Xs.set(n,l);const d=vn(...a.map(f=>{const{event:p,payload:h}=f;return Ft(ca,p).pipe(Ae(g=>h(g)),Sr(qf))})).subscribe(f=>{const p=Xs.get(n);p&&p.forEach(h=>{h(f)})});O_.push(d)}}})(e,t)}off(e,t){((n,r)=>{if(qR[n]){const a=Xs.get(n);if(Array.isArray(a)){const s=a.filter(l=>l!==r);Xs.set(n,s)}}})(e,t)}getFeatureModule(e){return this.modules.get(e)}leave(){const{[Te]:e,[un]:t}=this;return e().socket.zoomSocketStatus==="connected"?t(Ef()):t(Zb()),or(On(500).pipe(Lr("")))}end(){const{[Te]:e,[un]:t}=this;return e().socket.zoomSocketStatus==="connected"?(t(fd()),or(On(500).pipe(De(()=>{EA()}),Lr("")))):Promise.resolve("")}changeName(e,t){const n=this[zt].getState(),{meeting:{bAllowAttendeeRename:r}}=n,a=Ve(n),s=Sn(a.userRole),l=ei(n);if(s)return Promise.reject({type:nr});if(t&&t!==(a==null?void 0:a.userId)){if(l){const{participants:{attendeesList:d}}=n,f=d.find(p=>p.userId===t);if(f)return Ks.rename(t,Wt(e),Wt(f.displayName)),_h(t,p=>p.displayName===e);{const p=Jf(n).find(h=>h.userId===t);if(p){const h=Lu.getInstance();return Ks.rename(p.userId,Wt(e),Wt(p.displayName)),h.rename(p.jid,e),Ge(Xa,g=>{const v=g.find(S=>S.jid===p.jid);return v&&v.displayName===e})}return Promise.reject({type:Qe,reason:"no matching user"})}}return Promise.reject({type:nr})}return e===a.displayName?Promise.resolve():l||r?(Ks.rename(a.userId,Wt(e),Wt(a.displayName)),Ge(kr,d=>d.displayName===e)):Promise.reject({type:nr,reason:"host disallow rename themselves"})}makeHost(e){return Ks.assignHost(e,!1),_h(e,t=>t.isHost===!0)}makeCoHost(e){const t=this[zt].getState(),n=kt(t).find(r=>r.userId===e);return(n==null?void 0:n.bCoHost)===!0?Promise.reject({type:Qe,reason:`user:[${e}] is already co-host `}):(Ks.assignHost(e,!0),_h(e,r=>r.bCoHost===!0))}revokeCoHost(e){const t=this[zt].getState(),n=kt(t).find(r=>r.userId===e);return(n==null?void 0:n.bCoHost)===!1?Promise.reject({type:Qe,reason:`user:[${e}] is not a co-host`}):(Ks.revokeCoHost(e),_h(e,r=>r.bCoHost===!1))}reclaimHost(){const e=this[Te](),{meeting:{isOriginHost:t}}=e,n=Ve(e);return n!=null&&n.isHost?Promise.resolve(""):t?(Ks.reclaimHost(n.userId,!1),Ge(kr,r=>r.isHost===!0)):Promise.reject({type:nr,reason:"You are not the origin host"})}isHost(){const e=this[zt].getState(),t=Ve(e);return!!t&&t.isHost}isCoHost(){const e=this[zt].getState(),t=Ve(e);return!!t&&!!t.bCoHost}isOriginHost(){const{meeting:{isOriginHost:e}}=this[Te]();return e}getCurrentUserInfo(){const e=this[zt].getState(),t=Ve(e);if(t){const n=ad(t);if(e.meeting.isWebinar&&Sn(t.userRole)){const{audio:r}=e,a=r==null?void 0:r.isAllowToTalk;Object.assign(n,{isAllowToTalk:a})}return n}return null}getParticipantsList(){const e=this[zt].getState(),{meeting:{meetingStatus:t}}=e,n=Ve(e);return t===Xt.Joined&&n&&!n.bHold?kt(e).map(r=>ad(r)):[]}getAssistantsList(){const e=this[zt].getState(),{meeting:{meetingStatus:t}}=e,n=Ve(e);return t===Xt.Joined&&n?mH(e).map(r=>({userId:r.userId,displayName:r.displayName,isNewAst:!0})):[]}getMeetingHost(){var e;const t=this[Te]();let n=D_(t);return n||((e=t.breakoutRoom)===null||e===void 0?void 0:e.currentRoom.status)!==Ue.InRoom||(n=t.breakoutRoom.mainSessionAttendeeList.find(r=>r.isHost)),n!==void 0?ad(n):null}getMeetingInfo(){const{meeting:{meetingStatus:e,isOnHold:t,meetingNumber:n,passWord:r,userName:a,userEmail:s,meetingTopic:l,meetingOptions:d,encType:f,region:p,network:h,topic:g,zlkJwtToken:v,userId:S,lang:b,inviteEmail:_,meetingId:E,participantID:A,h323Password:w,recordingDisclaimer:O,recordingDisclaimerForRecorder:I,wrInfo:V,meetingInfo:U,isNewJoinFlow:x}}=this[Te](),$=e===Xt.Joined&&!t;if(v)return{topic:g,password:r,userName:a,isInMeeting:$,userId:S,meetingId:E};{let W="";return f===0?W="None":f===1?W="AES ECB":f===2&&(W="AES GCM"),{meetingNumber:n,password:r,userName:a,userEmail:s,inviteEmail:_,meetingTopic:l,encryptionType:W,region:p,network:h,isInMeeting:$,userId:S,lang:b,webEndpoint:Lf,meetingId:E,participantId:A,telPwd:w,recordingInfo:{recordingDisclaimer:O,recordingDisclaimerForRecorder:I,isUserEnableRecordingReminder:d==null?void 0:d.isUserEnableRecordingReminder},wrInfo:Object.assign({},V,{isNew:x}),scheduleInfo:U}}}},pe(pn.prototype,"end",[Kt,me],Object.getOwnPropertyDescriptor(pn.prototype,"end"),pn.prototype),pe(pn.prototype,"changeName",[me],Object.getOwnPropertyDescriptor(pn.prototype,"changeName"),pn.prototype),pe(pn.prototype,"makeHost",[T0,Kt,me],Object.getOwnPropertyDescriptor(pn.prototype,"makeHost"),pn.prototype),pe(pn.prototype,"makeCoHost",[R0,Kt,me],Object.getOwnPropertyDescriptor(pn.prototype,"makeCoHost"),pn.prototype),pe(pn.prototype,"revokeCoHost",[I0,Kt,me],Object.getOwnPropertyDescriptor(pn.prototype,"revokeCoHost"),pn.prototype),pe(pn.prototype,"reclaimHost",[me],Object.getOwnPropertyDescriptor(pn.prototype,"reclaimHost"),pn.prototype),pn);const _4=at.createAgent(),E4=Lu.getInstance(),D0=(e,t,n)=>{const r=t==null?void 0:t.userId;if(e==null||!e.zoomID||t==null||!t.displayName||r===e.userId)return{type:Qe,reason:"invalid target user"};const{chat:{chatPrivilege:a,panelistChatPrivilege:s},meeting:{isWebinar:l}}=n,d=ei(n),f=t.isHost||t.bCoHost;let p=!1;if(!d){if(l)if(Sn(e.userRole))(a===Bt.NoAttendee||a===Bt.AllPanelist&&r!==wt.Panelist||a===Bt.All&&r!==wt.All&&r!==wt.Panelist)&&(p=!0);else{const h=Sn(t==null?void 0:t.userRole);(s===Tu.Invalid||s===Tu.AllPanelist&&(h||r===wt.All))&&(p=!0)}else(a===Bt.NoAttendee||a===Bt.Host&&!f||r===wt.SilentModeUsers||a===Bt.EveryonePublicly&&r!==wt.All&&!f)&&(p=!0);if(p)return{type:nr,reason:"Insufficient chat privilege"}}return null};function M0(e,t){if(t===wt.All)return Zc;if(t===wt.Panelist)return jl;if(t===wt.SilentModeUsers)return jx;{const{meeting:{isWebinar:n},participants:{xmppAttendeeList:r,attendeesList:a}}=e;return n?a.find(s=>s.userId===t)||r.find(s=>s.userId===t):a.find(s=>s.userId===t)}}function Uc(e,t,n){if(n!=null&&n.host)return[D_(e),...$R(e)].filter(r=>(r==null?void 0:r.userId)!==t).map(r=>({userId:r==null?void 0:r.userId,displayName:r==null?void 0:r.displayName,isHost:r==null?void 0:r.isHost,isCoHost:r==null?void 0:r.bCoHost}));{let r=[D_(e),...$R(e),...e.participants.attendeesList.filter(a=>!(a.bCoHost||a.isHost||a.bHold))];if(n!=null&&n.includeAttendee){const a=Jf(e).filter(s=>!md(s.userType));r=[...r,...a]}return r.filter(a=>a!==void 0&&a.userId!==t).map(a=>({userId:a==null?void 0:a.userId,displayName:a==null?void 0:a.displayName,isHost:a==null?void 0:a.isHost,isCoHost:a==null?void 0:a.bCoHost}))}}function Ph(e){const{text:t,destId:n,sn:r,attendeeId:a}=e;return Rn.beginEncrypt({text:t,type:Gn.RWG_CHAT}).then(s=>{_4.chat(s,n,r,a)})}function Fl(e,t){const{chat:{chatHistory:n}}=t;return n.find(r=>{var a,s;return((a=r.file)===null||a===void 0||(s=a.upload)===null||s===void 0?void 0:s.uniqueId)===e})}function SV(e,t){const{meeting:{isWebinar:n},participants:{attendeesList:r}}=t,{destNodeID:a,senderName:s,attendeeNodeID:l}=e,d=r.find(v=>v.userId===a),f=e.sn?e.sn:d==null?void 0:d.zoomID,p=s?Qi(s):d==null?void 0:d.displayName;let h,g="";if(l===wt.SilentModeUsers)return{sender:{name:"Host",userId:a},receiver:{name:"Everyone (in Waiting Room)",userId:l},timestamp:new Date().getTime()};if(l===wt.All)g=n?"All panelists and attendees":"Everyone";else if(l===wt.Panelist)g="All panelists";else{if(n){const v=Jf(t).find(S=>S.userId===l);v&&(g=v.displayName)}if(!g){const v=r.find(S=>S.userId===l);v&&(g=v.displayName,h=v.userGUID)}}return{sn:f,sender:{name:p,userId:a,userGuid:d==null?void 0:d.userGUID,avatar:d==null?void 0:d.avatar},receiver:{name:g,userId:l,userGuid:h},timestamp:new Date().getTime()}}function A4(e){var t;const[n]=e.split(".").reverse();return(t=xx[n])!==null&&t!==void 0?t:""}function bV(e,t){const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];if(!a.file&&(!a.id&&a.sender.userId===t.userId&&[wt.All,wt.Panelist,wt.IndividualCcPanelist,t.destNodeID].includes(a.receiver.userId)&&n.unshift(a),a.id))break}return n.length>0?n[0]:null}const _V=Er.getInstance(),EV=_V.makeLogger(["File Transfer"]);function AV(e,t,n){const{name:r,size:a}=e,{meeting:{reportDomain:s,svcUrl:l,conId:d}}=n;return`https://${s}${t}?${new URLSearchParams({filename:r,filesize:a,rwg:l,cid:d}).toString()}`}function CV(e,t){return t.fileObj?`${e}/zoomfile/download?objkey=${t.fileObj}`:`${e}/file/${t.fileID}`}function Ad(e,t){return{fileName:e.name,fileSize:e.size,receiverId:t==null?void 0:t.userId,receiverGuid:t==null?void 0:t.userGuid}}function Ya(e,t,n){_V.report(`${e}. file name:${fr(t.name)},file size:${t.size}, ${"type"in t?`file type:${t.type}`:""}, error:${n.name};${n.message}`,["File Transfer"])}function fb(e){var t,n,r;return{id:e.id,fileName:(t=e.file)===null||t===void 0?void 0:t.name,fileSize:(n=e.file)===null||n===void 0?void 0:n.size,fileUrl:(r=e.file)===null||r===void 0?void 0:r.fileUrl,senderId:e.sender.userId,senderGuid:e.sender.userGuid}}function wV(e,t,n){return new Promise((r,a)=>{const s=new FileReader;s.readAsArrayBuffer(e.slice(t,n)),s.onload=l=>{var d;return r((d=l.target)===null||d===void 0?void 0:d.result)},s.onerror=l=>a(l)})}async function OV(e,t){let[n,r]=[e.size,0];t!=null&&(n=Math.min(Vn.ChunkSize,e.size-t),r=t);const a=e.size-r<=Vn.ChunkSize,s=Math.ceil(n/Vn.EncodeBlockSize);try{return function(l){const d=l.reduce((h,g)=>h+g.byteLength,0),f=new Uint8Array(d);let p=0;for(const h of l)f.set(new Uint8Array(h),p),p+=h.byteLength;return f}(await Promise.all(Array.from({length:a?Math.max(s-1,1):s},(l,d)=>({start:d*Vn.EncodeBlockSize+r,end:(a&&d===s-2?d+2:d+1)*Vn.EncodeBlockSize+r})).map(async l=>{let{start:d,end:f}=l;try{const p=await wV(e,d,f);return p?await Rn.beginEncrypt({text:new Uint8Array(p),type:Gn.CHAT_FILE}):Promise.reject(null)}catch(p){return Ya(`encrypt file buffer error. offset:${t},`,e,p),Promise.reject(p)}})))}catch(l){console.warn(l)}return null}function vm(e,t,n,r){return r.pipe(ke(`${kf}`,`${wo}`),oe(a=>{if(a.type===`${wo}`)return!0;const{payload:{uniqueId:s,fileName:l,userId:d}}=a;return t===s&&e.name===l&&n.userId===d}),De(a=>{EV.info(`Cancel file upload. file name:${fr(e.name)},file size:${e.size},receiver id:${n.userId}`),k(Ru,{...Ad(e,n),progress:0,status:sn.Cancel,retryToken:a.type===`${kf}`?t:void 0})}))}function Sm(e,t){if(e!=null&&e.file){const{file:n,receiver:r}=e,{upload:{chunkIndex:a,totalChunks:s,uniqueId:l}}=n;return k(Ru,{...Ad(t,r),progress:Math.floor((a??0)/(s??1)*100),status:sn.Fail,retryToken:l}),ve([Cn({upload:{status:sn.Fail,progress:0,uniqueId:l}}),PA({uniqueId:l,file:t})])}return _e}function bm(e,t){return k(Ru,{...Ad(e),progress:0,status:sn.Fail}),yt(Cn({upload:{status:sn.Fail,progress:0,uniqueId:t}}))}async function k0(e,t,n,r){const a=AV(e,"/wc/fileupload",r.value),s=new FormData;try{const l=await OV(e),d=Fl(t,r.value);if(l&&d){s.append("file",new File([l],e.name));const{meeting:{zmk:f}}=r.value,{receiver:p}=d;return Ei({url:a,method:"POST",headers:{"Zoom-File-Origin":"redirect=support_auth",zmk:f},crossDomain:$i(a),body:s,includeUploadProgress:!0}).pipe(Ll(vm(e,t,p,n)),ue(h=>{const{type:g,loaded:v,responseHeaders:S,total:b}=h;let _=0,E=sn.InProgress;const A={upload:{uniqueId:t}},w=[];if(g==="upload_loadstart")_=0;else if(g==="upload_progress")_=Math.floor(v/b*100*.9);else if(g==="upload_load")_=90;else if(g==="download_load"){var O,I;_=100,E=sn.Success;const{chat:{fileServerDomain:V}}=r.value,U=(O=S["zoom-file-id"])===null||O===void 0?void 0:O.trim(),x=(I=S["zoom-file-obj"])===null||I===void 0?void 0:I.trim(),$=CV(V,{fileObj:x});Object.assign(A,{fileID:U,fileObj:x,fileUrl:$})}return Object.assign(A.upload,{progress:_,status:E}),(_>0||g==="upload_loadstart")&&(k(Ru,{...Ad(e,p),progress:_,status:E}),w.push(Cn(A))),ve(w)}),qi(h=>(console.warn(h),Ya("Upload small file error.",e,h),Sm(d,e))))}}catch(l){console.warn(l)}return bm(e,t)}const C4=(()=>{const e=new sU;return t=>async function(){await e.acquire(),t(...arguments),setTimeout(()=>{e.release()},3e3)}})(),w4=function(e){const t=["chatFileTransfer"];return new Proxy(e,{get:(n,r)=>typeof r=="string"&&t.includes(r)?function(){return C4(n[r].bind(n))(...arguments)}:Reflect.get(n,r)})}(at.createAgent()),N0={chatHistory:[],chatPrivilege:Bt.All,panelistChatPrivilege:Tu.AllPanelist,isAllowAttendeeChat:!0,isFileTransferEnable:!0,isEnableFileTransferEncrypted:!0,fileTransferFileType:[],fileDownloadPromptIgnoreList:[],fileTransferSizeLimit:0,fileServerDomain:"",failedFileTransfer:{}},O4=br({[`${Mf}`]:B((e,t)=>{let{payload:n}=t;e.chatHistory.push(n)}),[`${NA}`]:B((e,t)=>{let{payload:n}=t;e.chatPrivilege=n}),[`${vP}`]:B((e,t)=>{let{payload:n}=t;e.panelistChatPrivilege=n}),[`${bP}`]:B((e,t)=>{let{payload:n}=t;e.isAllowAttendeeChat=n}),[`${_P}`]:B((e,t)=>{let{payload:n}=t;const{destNodeID:r,msgID:a,userId:s}=n,l=bV(e.chatHistory,{userId:s,destNodeID:r});l&&Object.assign(l,{id:a})}),[`${um}`]:B((e,t)=>{let{payload:n}=t;const{msgId:r}=n,a=e.chatHistory.findIndex(s=>s.id===r);a>=0&&e.chatHistory.splice(a,1)}),[`${EP}`]:B((e,t)=>{let{payload:n}=t;Object.assign(e,n)}),[`${LA}`]:B((e,t)=>{let{payload:n}=t;const{originFile:r,...a}=n;e.chatHistory.push(a)}),[`${Cn}`]:B((e,t)=>{let{payload:n}=t;const{upload:r,download:a,originFile:s,...l}=n;if(r){var d;const{uniqueId:f,...p}=r,h=e.chatHistory.find(g=>{var v;return g.file&&((v=g.file.upload)===null||v===void 0?void 0:v.uniqueId)===f});h!=null&&(d=h.file)!==null&&d!==void 0&&d.upload&&(Object.assign(h.file.upload,{...p}),Object.assign(h.file,{...l}),h.file.upload.status===sn.Success&&e.failedFileTransfer[h.file.upload.uniqueId]&&delete e.failedFileTransfer[h.file.upload.uniqueId])}else if(a){const{id:f,fileUrl:p}=l,h=e.chatHistory.find(g=>{var v;return g.id===f&&((v=g.file)===null||v===void 0?void 0:v.fileUrl)===p});h!=null&&h.file&&(h.file.download?Object.assign(h.file.download,{...a}):Object.assign(h.file,{download:a}))}}),[`${kf}`]:B((e,t)=>{let{payload:n}=t;const{uniqueId:r,fileName:a,userId:s}=n,l=e.chatHistory.find(f=>f.file&&f.file.name==a&&f.file.upload.uniqueId===r&&f.file.upload.status===sn.InProgress&&f.receiver.userId===s);var d;l!=null&&l.file&&Object.assign((d=l.file)===null||d===void 0?void 0:d.upload,{status:sn.Cancel,progress:0})}),[`${PA}`]:B((e,t)=>{let{payload:n}=t;const{uniqueId:r,file:a}=n;e.failedFileTransfer[`${r}`]||Object.assign(e.failedFileTransfer,{[`${r}`]:a})}),[`${AP}`]:B((e,t)=>{let{payload:n}=t;const{fileID:r,msgID:a,senderId:s}=n,l=e.chatHistory.find(d=>{var f;return((f=d.file)===null||f===void 0?void 0:f.fileID)===r&&d.sender.userId===s});l&&Object.assign(l,{id:a})}),[`${UA}`]:B((e,t)=>{let{payload:n}=t;const{id:r,fileUrl:a}=n,s=e.chatHistory.find(d=>{var f,p;return d.id===r&&((f=d.file)===null||f===void 0?void 0:f.fileUrl)===a&&((p=d.file)===null||p===void 0?void 0:p.download.status)===na.InProgress});var l;s!=null&&s.file&&Object.assign((l=s.file)===null||l===void 0?void 0:l.download,{status:na.Cancel,progress:0})}),[`${SP}`]:()=>({...N0})},N0),uC=en([e=>{let{breakoutRoom:{controlStatus:t}}=e;return t},e=>{let{breakoutRoom:{currentRoom:{status:t}}}=e;return t},e=>{let{breakoutRoom:{currentRoom:{boId:t}}}=e;return t}],(e,t,n)=>!(e!==tt.InProgress&&e!==tt.Closing||t!==Ue.InRoom&&t!==Ue.TimeUp||!n)),pb=en([e=>{let{breakoutRoom:{rooms:t}}=e;return t},Zf,e=>{let{meeting:{zoomId:t}}=e;return t},e=>{let{breakoutRoom:{mainSessionAttendeeList:t}}=e;return t},uC,e=>{let{breakoutRoom:{isHugeBO:t}}=e;return t}],(e,t,n,r,a,s)=>{const l=e.reduce((d,f)=>{const{attendeeGuidList:p}=f;return d.concat(p)},[]);return(a?r:t).filter(d=>{return!(d.bHold||d.isHost||d.zoomID===n||d.bid||l.includes(d.userGUID)||s&&(f=d.caps,(4&f)!=4));var f})});var Jt;const Vc=at.createAgent();let T4=(Jt=class extends To{send(e,t){if(!e)return Promise.reject({type:Qe,reason:"Text is empty"});const{[Te]:n,[un]:r}=this,a=n(),s=Ve(a),l=M0(a,t),d=D0(s,l,a);if(d)return Promise.reject(d);const{meeting:{isWebinar:f,encType:p}}=a,h=p===Wf.AES_GCM;let g=Promise.resolve(),v=!1;const S=f&&Sn(l.userRole);return t===wt.SilentModeUsers?Vc.chat(Wt(e),t):f?S?(8&l.clientCap)==8?g=Ph({text:e,destId:wt.IndividualCcPanelist,sn:s==null?void 0:s.zoomID,attendeeId:t}):(g=Ph({text:e,destId:wt.Panelist,sn:s==null?void 0:s.zoomID,attendeeId:t}).then(()=>function(b){const{text:_,jid:E,isGCMEnabled:A}=b;return Rn.beginEncrypt({text:_,type:Gn.XMPP_CHAT}).then(w=>{E4.sendWebinarMseeage(w,E,wt.IndividualCcPanelist,A)})}({text:e,jid:l.jid,isGCMEnabled:h})),v=!0):l&&(g=Ph({text:e,destId:l.userId,sn:s==null?void 0:s.zoomID})):g=Ph({text:e,destId:l.userId,sn:s==null?void 0:s.zoomID}),g.then(()=>{const b=function(_,E,A,w){const O=new Date().getTime(),I=performance.now();return{message:_,sender:{name:E.displayName,userId:E.userId,userGuid:E.userGUID,avatar:E.avatar},receiver:{name:A==null?void 0:A.displayName,userId:w?wt.IndividualCcPanelist:A==null?void 0:A.userId,userGuid:A==null?void 0:A.userGUID},timestamp:O,highResTimeStampForIdentification:I}}(e,s,l,S);return r(Mf(b)),v?(k(Su,b),b):new Promise((_,E)=>{It(Zk).pipe(IM(5e3),kM(A=>b.highResTimeStampForIdentification!==A.identification||!([A.receiverId,wt.All,wt.Panelist].includes(t)||A.receiverId===wt.IndividualCcPanelist)),ut(1)).subscribe(A=>{const{msgId:w}=A,{highResTimeStampForIdentification:O,...I}=b,V={id:w,...I,...S&&{receiver:{name:l==null?void 0:l.displayName,userId:l==null?void 0:l.userId}}};k(Su,V),_(V)},()=>{E({type:bA})})})})}setPrivilege(e){const t=this[Te](),{meeting:{isWebinar:n},chat:{chatPrivilege:r},breakoutRoom:a}=t;return r===e?Promise.resolve(""):(a==null?void 0:a.controlStatus)===tt.InProgress&&uC(t)?Promise.reject({type:ae,reason:"Cannot update chat privilege in a subsession"}):!n&&!Px.includes(e)||n&&!Ux.includes(e)?Promise.reject({type:Qe,reason:"invalid privilege value of parameter"}):(Vc.setChatPriviledge(e),Ge(Zl,s=>s.chatPrivilege===e))}setPanelistPrivilege(e){const t=this[Te](),{chat:{panelistChatPrivilege:n}}=t,r=Vx[e];return n===r?Promise.resolve(""):Object.values(Pm).includes(e)?(Vc.setPanelistChatPrivilege(e),Ge(Zl,a=>a.panelistChatPrivilege===r)):Promise.reject({type:Qe,reason:"Panelist privilege value is invalid"})}deleteMessage(e){const t=this[Te](),{chat:{chatHistory:n},meeting:{meetingOptions:r,userId:a}}=t;if(r!=null&&r.isEnableDeleteChatMsg){const s=ei(t),l=n.find(d=>d.id===e);if(l){const{sender:d}=l;if(s)Vc.chatCmdReq(e,Lm.Delete);else{if(d.userId!==a)return Promise.reject({type:nr,reason:"can not delete message"});Vc.chatCmdReq(e,Lm.Delete)}return Ge(Vm,f=>f.id===e).then(()=>({id:e}))}return Promise.reject({type:Qe,reason:"msgId is wrong"})}return Promise.reject({type:ae,reason:"can not delete messages"})}lockChat(e){const t=this[Te](),{meeting:{meetingOptions:n}}=t,r=n!=null&&n.isPrivateChatEnabled?Bt.All:Bt.EveryonePublicly;return this.setPrivilege(e?Bt.NoOne:r)}sendFile(e,t){if(!e)return Promise.reject({type:Qe,reason:"File is empty"});const{[Te]:n,[un]:r}=this,a=n(),{chat:{isFileTransferEnable:s,fileTransferFileType:l,fileTransferSizeLimit:d,failedFileTransfer:f}}=a;if(!s)return Promise.reject({type:ae,reason:"Send files via in-session chat is not enabled"});if(typeof e=="string"){const p=Fl(e,a);if(p!=null&&p.file&&f[e]){const{file:{upload:h,...g}}=p,{file:{name:v,upload:{uniqueId:S}},receiver:{userId:b}}=p;return r(Cn({originFile:f[e],...g,upload:{...h,status:sn.InProgress}})),Promise.resolve(()=>{r(kf({uniqueId:S,fileName:v,userId:b}))})}return Promise.reject({type:Qe,reason:"Retry token is not correct."})}{const{name:p}=e;if(l.length>0){const[b]=p.split(".").reverse();if(!l.some(_=>_===b))return Promise.reject({type:ae,reason:"File is not in the allow list"})}if(e.size>d)return Promise.reject({type:ae,reason:"File size exceeds the maximum limit."});const h=Ve(a),g=M0(a,t),v=D0(h,g,a);if(v)return Promise.reject(v);const S=Rm();return r(LA(function(b,_,E,A,w){const O=new Date().getTime();return{file:{name:b.name,size:b.size,type:b.type,upload:{progress:0,uniqueId:_,totalChunks:0,chunkIndex:0}},originFile:b,sender:{name:E.displayName,userId:E.userId,userGuid:E.userGUID,avatar:E.avatar},receiver:{name:A==null?void 0:A.displayName,userId:A==null?void 0:A.userId,attendeeId:void 0,userGuid:A==null?void 0:A.userGUID},timestamp:O}}(e,S,h,g))),Promise.resolve(()=>{r(PA({uniqueId:S,file:e})),r(kf({uniqueId:S,fileName:p,userId:g==null?void 0:g.userId}))})}}downloadFile(e,t,n){const{[Te]:r,[un]:a}=this,{chat:{chatHistory:s}}=r();return!e||!t?Promise.reject({type:Qe,reason:"Invalid message id or file url!"}):s.find(d=>{var f;return d.id===e&&((f=d.file)===null||f===void 0?void 0:f.fileUrl)===t})?(a(Cn({id:e,fileUrl:t,download:{status:na.InProgress,progress:0,blob:n}})),Promise.resolve(()=>a(UA({id:e,fileUrl:t})))):Promise.reject({type:Qe,reason:"Invalid message id or file url!"})}getPrivilege(){const{chat:{chatPrivilege:e,isAllowAttendeeChat:t}}=this[Te]();return t?e:Bt.NoAttendee}getReceivers(){const e=this[Te](),{chat:{chatPrivilege:t,panelistChatPrivilege:n,isAllowAttendeeChat:r},meeting:{isWebinar:a}}=e;if(!a&&!r)return[];const s=Ve(e),l=ei(e);if(s)if(a)if(Sn(s.userRole)){if(!r)return[];if(t===Bt.All)return[jl,Zc];if(t===Bt.AllPanelist)return[jl];if(t===Bt.NoOne)return[]}else{if(l||n===Tu.Everyone){const d=Uc(e,s.userId,{includeAttendee:!0});return[jl,Zc,...d]}if(n===Tu.AllPanelist){const d=Uc(e,s.userId);return[jl,...d]}}else{const d=ei(e);if(t===Bt.All||d){const f=Uc(e,s.userId);return[Zc,...f]}if(t===Bt.Host)return Uc(e,s.userId,{host:!0});if(t===Bt.EveryonePublicly){const f=Uc(e,s.userId,{host:!0});return[Zc,...f]}if(t===Bt.NoOne)return[]}return[]}getHistory(){return this[Te]().chat.chatHistory.map(e=>{const{highResTimeStampForIdentification:t,...n}=e;if(n.file){const{name:r,size:a,type:s,fileUrl:l,upload:d,download:f}=n.file,p={name:r,size:a,type:s,fileUrl:l};return d&&Object.assign(p,{upload:{status:d.status,progress:d.progress}}),f&&Object.assign(p,{download:{status:f.status,progress:f.progress}}),{...n,file:p}}return n})}isAllowToDeleteMessages(){const e=this[Te](),{meeting:{meetingOptions:t}}=e;return t==null?void 0:t.isEnableDeleteChatMsg}isFileTransferEnabled(){return this[Te]().chat.isFileTransferEnable}getFileTransferSetting(){const e=this[Te](),{chat:{fileTransferFileType:t,fileTransferSizeLimit:n}}=e;return{typeLimit:(t??[]).map(r=>`.${r}`).join(","),sizeLimit:n}}},pe(Jt.prototype,"send",[me],Object.getOwnPropertyDescriptor(Jt.prototype,"send"),Jt.prototype),pe(Jt.prototype,"setPrivilege",[Ci,me],Object.getOwnPropertyDescriptor(Jt.prototype,"setPrivilege"),Jt.prototype),pe(Jt.prototype,"setPanelistPrivilege",[Ci,me,function(e,t,n){const r=n.value;n.value=function(){const a=this[zt];if(a){const{meeting:{isWebinar:f}}=a.getState();if(!f)return Promise.reject({type:Jl,reason:"non-webinar"})}for(var s=arguments.length,l=new Array(s),d=0;d<s;d++)l[d]=arguments[d];return r.apply(this,l)}}],Object.getOwnPropertyDescriptor(Jt.prototype,"setPanelistPrivilege"),Jt.prototype),pe(Jt.prototype,"deleteMessage",[me],Object.getOwnPropertyDescriptor(Jt.prototype,"deleteMessage"),Jt.prototype),pe(Jt.prototype,"lockChat",[Ci,me],Object.getOwnPropertyDescriptor(Jt.prototype,"lockChat"),Jt.prototype),pe(Jt.prototype,"sendFile",[me],Object.getOwnPropertyDescriptor(Jt.prototype,"sendFile"),Jt.prototype),pe(Jt.prototype,"downloadFile",[me],Object.getOwnPropertyDescriptor(Jt.prototype,"downloadFile"),Jt.prototype),Jt);const R4={epics0:(e,t)=>Kl(e,24583).pipe(Ie(t),ue(n=>{let[r,a]=n;if(a.meeting.zlkJwtToken)return _e;const{payload:{body:{sn:s,senderName:l,senderJid:d,receiver:f,text:p,type:h}}}=r,g=Ve(a),v=Jf(a),{meeting:{jid:S,userId:b},participants:{xmppAttendeeList:_}}=a;return Rn.beginDecrypt({decryptedText:p,type:Gn.XMPP_CHAT,zoomId:s}).then(E=>{var A;let{message:w}=E,O=null,I=0,V="";g&&Sn(g.userRole)&&S===f?(O=_.find(x=>x.jid===d),I=b,V=g.displayName):h===wt.Panelist&&(O=v.find(x=>x.jid===d),I=wt.Panelist,V=jl.displayName);const U={message:w,sender:{name:l,userId:((A=O)===null||A===void 0?void 0:A.userId)||0,avatar:""},receiver:{name:V,userId:I},timestamp:new Date().getTime()};return k(Su,U),Mf(U)})})),epics1:(e,t)=>Ce(e,7944).pipe(Ie(t),ue(n=>{let[r,a]=n;const{meeting:{bIbDisableChat:s}}=a,{payload:{body:{attendeeNodeID:l,sn:d,destNodeID:f,text:p,senderName:h,msgID:g}}}=r,v=Ve(a);if(v){const S=Sn(v==null?void 0:v.userRole)&&l===v.userId&&!g;if(!s&&!S){const{sn:b,..._}=SV({destNodeID:f,attendeeNodeID:l,senderName:h,sn:d},a);return(l===wt.SilentModeUsers?Promise.resolve({id:g,message:Qi(p),..._}):Rn.beginDecrypt({decryptedText:p,zoomId:b,type:Gn.RWG_CHAT}).then(E=>{let{message:A}=E;return{id:g,message:A,..._}})).then(E=>(k(Su,E),Mf(E)))}}return _e})),epics2:(e,t)=>Ce(e,ri).pipe(oe(n=>{var r,a;return((r=n.payload.body)===null||r===void 0?void 0:r.chatPriviledge)!==void 0||((a=n.payload.body)===null||a===void 0?void 0:a.bAllowAttendeeChat)!==void 0}),Ie(t),Ae(n=>{let[r,a]=n;const{payload:{body:{chatPriviledge:s,bAllowAttendeeChat:l}}}=r,{chat:{chatPrivilege:d}}=a;return l!==void 0?(k(Zl,l===!0?{chatPrivilege:d}:{chatPrivilege:Bt.NoAttendee}),bP(l)):(k(Zl,{chatPrivilege:s}),NA(s))})),epics3:e=>Ce(e,ri).pipe(oe(t=>{var n;return((n=t.payload.body)===null||n===void 0?void 0:n.panelistChatPriviledge)!==void 0}),Ae(t=>{const{payload:{body:{panelistChatPriviledge:n}}}=t;return k(Zl,{panelistChatPrivilege:n}),vP(n)})),epics4:(e,t)=>Ce(e,4136).pipe(Ie(t),ue(n=>{let[r,a]=n;const{payload:{body:{result:s,destNodeID:l,msgID:d,fileID:f}}}=r,{meeting:{userId:p},chat:{chatHistory:h}}=a,g=[];if(s===_S.Success)if(f){const S=h.find(b=>{var _;return((_=b.file)===null||_===void 0?void 0:_.fileID)===f});if(S){const{file:b,receiver:_,...E}=S,{name:A,size:w,type:O,fileUrl:I}=b??{},{attendeeId:V,...U}=_;k(Su,{id:d,file:{name:A,size:w,type:O,fileUrl:I,upload:{status:sn.Complete,progress:100}},receiver:{...U},...E}),g.push(AP({fileID:f,msgID:d,senderId:p}))}}else{const S=bV(h,{userId:p,destNodeID:l});var v;S&&(k(Zk,{msgId:d,receiverId:l,identification:(v=S.highResTimeStampForIdentification)!==null&&v!==void 0?v:0}),g.push(_P({destNodeID:l,msgID:d,userId:p})))}else s!==_S.Delete&&s!==_S.Block||g.push(um({msgId:d}));return ve(g)})),epics5:e=>Ce(e,4238).pipe(ue(t=>{const{payload:{body:{bSuccess:n,cmd:r,msgID:a}}}=t,s=[];return n&&r===Lm.Delete&&(s.push(um({msgId:a})),k(Vm,{id:a})),ve(s)})),epics6:e=>Ce(e,7960).pipe(ue(t=>{const{payload:{body:{cmd:n,msgID:r}}}=t,a=[];return n===Lm.Delete&&(a.push(um({msgId:r})),k(Vm,{id:r})),ve(a)}))},I4=_r(R4,{chatFileEpics0:e=>e.pipe(ke(`${Di}`),Ae(t=>{var n,r,a;const{payload:{fileTransfer:s,fileServerDomain:l}}=t;return EP({isFileTransferEnable:s==null?void 0:s.isEnable,isEnableFileTransferEncrypted:s==null?void 0:s.isEnableFileTransferEncrypted,fileTransferFileType:((n=s==null?void 0:s.fileType)!==null&&n!==void 0?n:"").replace(/\./g,"").split(",").filter(Boolean),fileTransferSizeLimit:1024*((r=s==null?void 0:s.sizeLimit)!==null&&r!==void 0?r:0)*1024||Vn.MaxSize,fileDownloadPromptIgnoreList:((a=s==null?void 0:s.fileDownloadPromptIgnoreList)!==null&&a!==void 0?a:"").replace(/\./g,"").split(","),fileServerDomain:`https://${l}`})})),chatFileEpics1:(e,t)=>e.pipe(ke(`${LA}`),ue(async n=>{const{payload:{originFile:r,file:{upload:{uniqueId:a}}}}=n;return r.size>Vn.ChunkSize?await async function(s,l,d,f){const p=AV(s,"/wc/multiupload/init",f.value),h=await async function(b){const _=Math.ceil(b.size/Vn.ReaderChunkSize);return(await Promise.all(Array.from({length:_},(E,A)=>({start:A*Vn.ReaderChunkSize,end:(A+1)*Vn.ReaderChunkSize})).map(async E=>{let{start:A,end:w}=E;try{const O=await wV(b,A,w);return mk(await window.crypto.subtle.digest("SHA-256",O))}catch(O){return Ya("calculate file hash error.",b,O),Promise.reject(O)}}))).join("")}(s),{meeting:{zmk:g,meetingId:v}}=f.value,S=Fl(l,f.value);if(h&&S){const{receiver:b}=S,_={fileName:s.name,length:s.size,channelType:4,digest:h,shareJid:v};return Ei({url:p,method:"POST",headers:{"Zoom-File-Origin":"redirect=support_auth",zmk:g},crossDomain:$i(p),body:_}).pipe(Ll(vm(s,l,b,d)),Ae(E=>{var A;const{responseHeaders:w,response:O}=E,I=(A=w["x-zm-trackingid"])===null||A===void 0?void 0:A.trim(),{uploadid:V,path:U,metadata:x}=O,$=Math.ceil(s.size/Vn.ChunkSize);return Cn({originFile:s,upload:{uniqueId:l,status:sn.InProgress,progress:0,chunkIndex:0,totalChunks:$,uploadid:V,trackingId:I,path:U,metadata:x}})}),qi(E=>(console.warn(E),Ya("Upload file meta error.",s,E),Sm(S,s))),Ii(Cn({upload:{uniqueId:l,status:sn.Init}})))}return bm(s,l)}(r,a,e,t):await k0(r,a,e,t)}),ue(n=>n)),chatFileEpics2:(e,t)=>e.pipe(ke(`${Cn}`),oe(n=>{var r;return((r=n.payload.upload)===null||r===void 0?void 0:r.status)===sn.Success}),hs(async n=>{const{payload:{upload:{uniqueId:r}}}=n,{chat:{isEnableFileTransferEncrypted:a,chatHistory:s}}=t.value,l=s.find(f=>{var p,h;return((p=f.file)===null||p===void 0||(h=p.upload)===null||h===void 0?void 0:h.uniqueId)===r}),d=[];if(l&&l.file){const{file:{name:f,size:p,fileObj:h,fileID:g,type:v},receiver:{userId:S,attendeeId:b}}=l;let[_,E]=["",""];if(a){const[A,w]=await Promise.all([f,`${p}`].map(O=>Rn.beginEncrypt({text:O,type:Gn.RWG_CHAT})));[_,E]=[A,w]}else[_,E]=[f,`${p}`].map(A=>Wt(A));await w4.chatFileTransfer({fileID:g,fileSize:E,fileName:_,fileObj:h,type:v,destNodeID:S,attendeeNodeID:b}),d.push(Cn({upload:{uniqueId:r,status:sn.Complete}}))}return d})),chatFileEpics3:(e,t)=>e.pipe(ke(`${Cn}`),oe(n=>{const{payload:{upload:r,originFile:a}}=n;return!!r&&!!r.uniqueId&&r.status===sn.InProgress&&(a==null?void 0:a.size)<=Vn.ChunkSize&&r.totalChunks===0}),ue(async n=>{const{payload:{originFile:r,upload:{uniqueId:a}}}=n;return await k0(r,a,e,t)}),ue(n=>n)),chatFileEpics4:(e,t)=>e.pipe(ke(`${Cn}`),oe(n=>{const{payload:{upload:r}}=n;return!!r&&!!r.uniqueId&&r.totalChunks>0&&r.chunkIndex!==r.totalChunks}),ue(async n=>{const{payload:{originFile:r,upload:{uniqueId:a}}}=n;return await async function(s,l,d,f){const p=Fl(l,f.value);if(p!=null&&p.file){const{file:{upload:{chunkIndex:h,totalChunks:g,uploadid:v,path:S,trackingId:b,etags:_},size:E},receiver:A}=p,w=h*Vn.ChunkSize,O=await OV(s,w);if(O){const{chat:{fileServerDomain:I},meeting:{zmk:V}}=f.value,U=`${I}/upload/parts?${new URLSearchParams({uploadid:v,partNumber:h+1}).toString()}`,x=new FormData,$=new File([O],s.name);return x.append("file",$),Ei({url:U,method:"POST",headers:{"Zoom-File-Size":$.size,"Zoom-File-Path":S,"x-zm-trackingid":b,"Zoom-File-Origin":"redirect=support_auth",zmk:V},crossDomain:$i(U),body:x,includeUploadProgress:!0}).pipe(Ll(vm(s,l,A,d)),ue(W=>{var z;const{type:L,loaded:T,total:N,responseHeaders:F}=W;let P=0;const D={upload:{uniqueId:l,status:sn.InProgress}},K=[],J=Fl(l,f.value),re=J==null||(z=J.file)===null||z===void 0?void 0:z.upload.progress;if(L==="upload_loadstart")P=re||Math.floor(h/g*100);else if(L==="upload_progress")P=Math.floor((h*Vn.ChunkSize+.9*T)/E*100);else if(L==="upload_load")P=Math.floor((h*Vn.ChunkSize+.9*N)/E*100);else if(L==="download_load"){P=re||Math.floor((h+1)/g*100);const M=F["x-zm-etag"].trim(),X=_?{..._,[`${h+1}`]:M}:{[`${h+1}`]:M};Object.assign(D.upload,{etags:X,chunkIndex:h+1,totalChunks:g}),Object.assign(D,{originFile:s})}return(P>0||L==="upload_loadstart")&&(Object.assign(D.upload,{progress:P}),k(Ru,{...Ad(s,A),progress:P,status:sn.InProgress}),K.push(Cn(D))),ve(K)}),qi(W=>(console.warn(W),Ya(`Upload file chunk error. chunk:${h},total chunks:${g},uploadid:${v},trackingId:${b}`,s,W),Sm(p,s))))}}return bm(s,l)}(r,a,e,t)}),ue(n=>n)),chatFileEpics5:(e,t)=>e.pipe(ke(`${Cn}`),oe(n=>{const{payload:{upload:r}}=n;return!!r&&!!r.uniqueId&&r.totalChunks>0&&r.chunkIndex==r.totalChunks}),ue(n=>{const{payload:{originFile:r,upload:{uniqueId:a}}}=n;return function(s,l,d,f){const{chat:{fileServerDomain:p},meeting:{zmk:h}}=f.value,g=Fl(l,f.value);if(g!=null&&g.file){const{file:{upload:{uploadid:v,metadata:S,etags:b,trackingId:_}},receiver:E}=g,A=`${p}/upload/complete?uploadid=${v}`;return Ei({url:A,method:"POST",headers:{"x-zm-trackingid":_,"Zoom-File-Origin":"redirect=support_auth",zmk:h},crossDomain:$i(A),body:{metadata:S,etags:b}}).pipe(Ll(vm(s,l,E,d)),Ae(w=>{var O,I;const{chat:{fileServerDomain:V}}=f.value,{responseHeaders:U}=w,x=(O=U["zoom-file-id"])===null||O===void 0?void 0:O.trim(),$=(I=U["zoom-file-obj"])===null||I===void 0?void 0:I.trim(),W=`${V}/zoomfile/download?objkey=${$}`;return k(Ru,{...Ad(s,E),progress:100,status:sn.Success}),Cn({fileID:x,fileObj:$,fileUrl:W,upload:{uniqueId:l,progress:100,status:sn.Success}})}),qi(w=>(console.warn(w),Ya(`Upload chunks checksum error.uploadid${v},trackingId${_}`,s,w),Sm(g,s))))}return bm(s,l)}(r,a,e,t)})),chatFileEpics6:(e,t)=>Ce(e,4308).pipe(hs(async n=>{const{payload:{body:{attendeeNodeID:r,destNodeID:a,fileID:s,fileName:l,fileObj:d,fileSize:f,fileType:p,msgID:h,senderName:g}}}=n,{meeting:{bIbDisableChat:v},chat:{fileServerDomain:S,isEnableFileTransferEncrypted:b}}=t.value,_=[];if(!v){const E=CV(S,{fileObj:d,fileID:s});if(p===Bx.Local){const{sn:A,...w}=SV({destNodeID:a,attendeeNodeID:r,senderName:g},t.value);let[O,I]=["",0];if(b){const[U,x]=await Promise.all([l,f].map($=>Rn.beginDecrypt({decryptedText:$,zoomId:A,type:Gn.RWG_CHAT})));O=U.message,I=Number(x.message)}else O=Qi(l),I=Number(Qi(f));const V={id:h,file:{name:O,size:I,fileUrl:E},...w};_.push(Mf({...V,file:{...V.file,fileID:s,fileObj:d}})),setTimeout(()=>{k(Su,V)},0)}}return _})),chatFileEpics7:(e,t)=>e.pipe(ke(`${Cn}`),oe(n=>{var r,a;const{payload:s}=n;return s.id&&s.fileUrl&&((r=s.download)===null||r===void 0?void 0:r.status)===na.InProgress&&((a=s.download)===null||a===void 0?void 0:a.progress)===0}),ue(n=>function(r,a,s){var l;const{chat:{chatHistory:d},meeting:{zmk:f},participants:{attendeesList:p}}=s.value,h=d.find(g=>g.id===r);if(h!=null&&(l=h.file)!==null&&l!==void 0&&l.fileUrl){const{file:{fileUrl:g}}=h;return Ei({url:g,method:"GET",headers:{"Zoom-File-Origin":"redirect=support_auth",zmk:f},crossDomain:$i(g),responseType:"arraybuffer",includeDownloadProgress:!0}).pipe(Ll(function(v,S){return S.pipe(ke(`${UA}`,`${wo}`),oe(b=>{if(b.type===`${wo}`)return!0;const{payload:{id:_}}=b;return v.id===_}),De(()=>{var b,_,E;EV.info(`Cancel file download. file name:${fr((b=v.file)===null||b===void 0?void 0:b.name)},file size:${(_=v.file)===null||_===void 0?void 0:_.size},sender id:${(E=v.sender)===null||E===void 0?void 0:E.userId}`),k(Jh,{...fb(v),progress:0,status:na.Cancel})}))}(h,a)),hs(async v=>{const{type:S,loaded:b,total:_}=v,E=[],A={...fb(h),progress:0,status:na.InProgress};if(S==="download_loadstart"&&Object.assign(A,{progress:0}),S==="download_progress"){var w;const $=Math.floor(b/_*100);E.push(Cn({id:r,fileUrl:(w=h.file)===null||w===void 0?void 0:w.fileUrl,download:{progress:$}})),Object.assign(A,{progress:$})}else if(S==="download_load"){var O,I,V;const W=na.Success;Object.assign(A,{progress:100,status:W}),E.push(Cn({id:r,fileUrl:(O=h.file)===null||O===void 0?void 0:O.fileUrl,download:{progress:100,status:W}}));const z=(I=p.find(T=>T.userId===h.sender.userId))===null||I===void 0?void 0:I.zoomID,L=await async function(T,N,F){const P=Math.ceil(T.byteLength/Vn.DecodeBlockSize);try{const D=await Promise.all(Array.from({length:Math.max(P-1,1)},(K,J)=>({start:J*Vn.DecodeBlockSize,end:(J===P-2?J+2:J+1)*Vn.DecodeBlockSize})).map(async K=>{let{start:J,end:re}=K;try{const M=T.slice(J,re),{message:X}=await Rn.beginDecrypt({decryptedText:M,zoomId:F,type:Gn.CHAT_FILE});return X}catch(M){return Ya("decrypt file buffer error.",{name:N,size:T.byteLength},M),Promise.reject(M)}}));return new Blob(D,{type:A4(N)})}catch{return null}}(v.response,(V=h.file)===null||V===void 0?void 0:V.name,z);var U,x;L&&((U=h.file)!==null&&U!==void 0&&U.download.blob?Object.assign(A,{fileBlob:L}):function(T,N){const F=document.createElement("a"),P=window.URL.createObjectURL(T);F.href=P,F.download=N,F.click(),window.URL.revokeObjectURL(P)}(L,(x=h.file)===null||x===void 0?void 0:x.name))}return(A.progress>0||S==="download_loadstart")&&k(Jh,A),E}),qi(v=>(console.warn(v),Ya(`download file error. file url:${g}`,{name:void 0,size:void 0},v),k(Jh,{...fb(h),progress:0,status:na.Fail}),yt(Cn({id:r,fileUrl:g,download:{status:na.Fail,progress:0}})))))}return _e}(n.payload.id,e,t)))});function jc(e){const{meeting:{isMeetingReset:t,meetingId:n,meetingNumber:r,userName:a,userEmail:s,tid:l,userId:d},breakoutRoom:f}=e;let p="";var h;return p=t?f!=null&&(h=f.currentRoom)!==null&&h!==void 0&&h.boConfId?"join breakout room":"meeting failover":"join meeting",{label:p,payload:{meetingId:n,tid:l,userId:d,meetingNumber:fr(r),userName:fr(a),userEmail:fr(s)}}}function wi(e,t,n){return Ou(it(r=>{let a=!1;try{var s,l;const{logger:{options:d},meeting:{logConfig:f}}=t.value;a=(s=d==null?void 0:d.enable)!==null&&s!==void 0?s:(l=JSON.parse(f||"{}"))===null||l===void 0?void 0:l.enable}catch{}try{if(a){const{logger:{isLaplaceInitialized:d}}=t.value;if(!d)return e.pipe(ke(`${gg}`),ut(1),ue(f=>(f.payload&&n(r),_e)));n(r)}}catch(d){console.warn(d)}return _e}))}function ea(e,t,n,r){return $e(e,n).pipe(wi(e,t,r))}function sd(e,t,n,r){return Ce(e,n).pipe(wi(e,t,r))}function DE(e){var t,n;const{audio:{activeMicrophone:r,activeSpeaker:a,microphoneDevicesList:s,speakerDevicesList:l}}=e;return`microphone: [${r} - ${s==null||(t=s.find(d=>d.deviceId===r))===null||t===void 0?void 0:t.label}]; speaker: [${a} - ${l==null||(n=l.find(d=>d.deviceId===a))===null||n===void 0?void 0:n.label}]`}function TV(e){var t;const{video:{activeCamera:n,cameraDevicesList:r}}=e;return`camera: [${n} - ${r==null||(t=r.find(a=>a.deviceId===n))===null||t===void 0?void 0:t.label}]`}function Bc(e,t){return t?` ,${e}:${t}`:""}const{InitSuccessAudio:D4,InitFailedAudio:M4,InitSuccessVideo:k4,InitFailedVideo:N4,InitSuccessSharing:L4,InitFailedSharing:P4}=ce,{DecodeSuccess:L0,DecodeFailed:P0,EncodeSuccess:U0,EncodeFailed:V0}=gr,U4={[`${D4}`]:{name:"Audio",isException:!1},[`${M4}`]:{name:"Audio",isException:!0},[`${k4}`]:{name:"Video",isException:!1},[`${N4}`]:{name:"Video",isException:!0},[`${L4}`]:{name:"Sharing",isException:!1},[`${P4}`]:{name:"Sharing",isException:!0}},Qr=Er.getInstance(),hb=()=>{if("connection"in navigator){const{effectiveType:e,rtt:t,downlink:n}=navigator.connection;Qr.makeLogger(["Network Connection Type"]).info(`Network connection. ect:${e},rtt:${t},downlink:${n}`)}},Fa=Er.getInstance().makeLogger(["Remote Control"]),j0=Ar(qe.getInstance()),V4=[{event:ce.AudioBridgeReconnectStart,message:zs.AudioBridgeReconnectStart,logType:"info",additionalTags:["Audio Join Flow"]},{event:ce.AudioBridgeReconnectEnd,message:zs.AudioBridgeReconnectEnd,logType:"info",additionalTags:["Audio Join Flow"]},{event:ce.UserGrantCaptureAudio,message:e=>`${zs.DeviceAudioStreamCaptured},${DE(e)}`,logType:"info",additionalTags:["Audio Capture Flow"]},{event:ce.JoinComputerAudioComplete,message:zs.AudioJoinComplete,logType:"info",additionalTags:["Audio Join Flow"]},{event:ce.LeaveComputerAudioComplete,message:zs.AudioLeaveComplete,logType:"info",additionalTags:["Audio Join Flow"]},{event:ce.JoinSharingAudioComplete,message:zs.SharingAudioStartComplete,logType:"info",additionalTags:["Audio Sharing Flow"]},{event:ce.LeaveSharingAudioComplete,message:zs.SharingAudioStopComplete,logType:"info",additionalTags:["Audio Sharing Flow"]}],j4=[{event:ce.StartVideoCaptureSuccess,message:e=>`${Fs.StartCaptureVideoSuccess}, ${TV(e)}`,logType:"info",additionalTags:["Video Join Flow"]},{event:ce.StopVideoCaptureSuccess,message:Fs.StopCaptureVideoSuccess,logType:"info",additionalTags:["Video Join Flow"]},{event:ce.StartVideoStreamInVbSettingSuccess,message:Fs.VBSettingSuccess,logType:"info",additionalTags:["Video VB Flow"]},{event:ce.VbModelPreloadingOk,message:Fs.VBPreloadSuccess,logType:"info",additionalTags:["Video VB Flow"]},{event:ce.VbModelPreloading_3S,message:Fs.VBPreloading3S,logType:"warn",additionalTags:["Video VB Flow"]},{event:ce.VbModelPreloading_10S,message:Fs.VBPreloading10S,logType:"warn",additionalTags:["Video VB Flow"]},{event:ce.VbSettingParaError,message:Fs.VBSettingFailed,logType:"error",additionalTags:["Video VB Flow"]}],B0=V4.map(e=>({...e,tag:"Audio"})).concat(j4.map(e=>({...e,tag:"Video"}))),ao=Er.getInstance(),{InitSuccessVideo:B4,InitSuccessAudio:x4,InitSuccessSharing:H4,InitFailedVideo:z4,InitFailedAudio:F4,InitFailedSharing:G4,RecoverWebrtcAudio:q4,AudioBridgeFirstRecvData:x0,AudioBridgeCanSendData:$4,UserForbiddedCaptureAudio:H0,AudioWebsocketBroken:K4,AudioZeroData:z0,UserForbiddedCaptureVideo:F0,UserCameraIsTakenByOtherPrograms:G0,VideoWebsocketBroken:W4,StopVideoCaptureFailed:Q4,DesktopSharingPermissionDenied:Z4,DesktopSharingSystemError:q0,AudioSpeakerSetError:$0,VbSettingParaError:J4,MaskSettingParaError:Y4,WebglLostInMultiView:X4,VideoStreamFailed:K0,AudioStreamFailed:W0}=ce,Uh=Er.getInstance(),mb={options:void 0,isLaplaceInitialized:!1},e6=br({[`${zA}`]:B((e,t)=>{let{payload:n}=t;e.options=n}),[`${gg}`]:B((e,t)=>{let{payload:n}=t;e.isLaplaceInitialized=n}),[`${iU}`]:(e,t)=>{let{options:n}=e,{payload:r}=t;return r?{...mb,options:n}:{...mb}}},mb),t6={mlEpics0:(e,t)=>$e(e,[B4,x4,H4,z4,F4,G4]).pipe(wi(e,t,n=>{const{payload:{type:r,data:a}}=n,{meeting:{userId:s}}=t.value,l=function(d,f){const p=U4[`${d}`];if(p){const{name:h,isException:g}=p,v=[h,`${h} Init Flow`];g&&v.push(`${h} exception flow`);let S="";return[L0,P0].includes(f)&&(S=`${S} decode`.trim()),[U0,V0].includes(f)&&(S=`${S} encode`.trim()),[U0,L0].includes(f)&&(S=`${S} success`.trim()),[P0,V0].includes(f)&&(S=`${S} failed`.trim()),{message:`init ${h.toLowerCase()} ${S}`,tags:v,isException:g}}return null}(r,a);if(l){const{message:d,tags:f,isException:p}=l;p?ao.report(`${d}. userId:${s}`,f):ao.makeLogger(f).info(d)}})),mlEpics1:(e,t)=>ea(e,t,B0.map(n=>n.event),n=>{const{payload:{type:r}}=n,a=B0.find(s=>s.event===r);if(a){const{message:s,logType:l,additionalTags:d,tag:f}=a;let p=s;typeof s=="function"&&(p=s(t.value)),p&&ao.makeLogger([f])[l](p,d)}}),mlEpics2:(e,t)=>e.pipe(ke(`${gd}`),oe(n=>!n.payload),wi(e,t,()=>{ao.makeLogger(["Audio"]).warn(`Auto play audio failed,${DE(t.value)}`)})),mlEpics3:(e,t)=>ea(e,t,q4,()=>{ao.report("Audio bridge, recover audio failed, need to rejoin the audio",["Audio exception flow"])}),mlEpics4:(e,t)=>ea(e,t,[x0,$4],n=>{const{payload:{type:r}}=n;ao.makeLogger(["Audio"]).log("Audio bridge connection: "+(r===x0?"first receive data":"can send data"))}),mlEpics5:(e,t)=>ea(e,t,[H0,K4,z0,$0,W0],n=>{const{payload:{type:r}}=n;let a=`Audio error case:${r}`;r===H0?a="Audio capture is forbidden by the user":r===z0?t.value.audio.webrtcRestartCount<3&&(a="audio capture zero data, auto failover"):r===$0?a="audio change speaker error":r===W0&&(a="audio stream ended or muted, stop capture audio"),ao.report(`${a},${DE(t.value)}`,["Audio exception flow"])}),mlEpics6:(e,t)=>ea(e,t,[F0,G0,W4,Q4,K0],n=>{const{payload:{type:r}}=n;let a=`Video error case:${r}`;if(r===F0)a="Video capture is forbidden by the user";else if(r===G0)a="Camera is taken by other programs";else if(r===J4){var s;a=`VB setting error, param:${JSON.stringify((s=t.value.video.virtualBackground)!==null&&s!==void 0?s:{})}`}else if(r===Y4){var l;a=`Mask setting error, param:${JSON.stringify((l=t.value.video.mask)!==null&&l!==void 0?l:{})}`}else r===K0&&(a=`Video stream ended or muted, if it is on iOS platform, will stop capture video.platform:${Me.browser}`);ao.report(`${a},${TV(t.value)}`,["Video exception flow"])}),mlEpics7:(e,t)=>ea(e,t,[Z4,q0],n=>{const{payload:{type:r}}=n;let a="";r===q0?Me.isMacOS&&(a="Need to allow screen recording access in system setting on MacOS"):a="Need to allow the permission request",ao.report(`${a}`,["Sharing exception flow"])}),mlEpics8:(e,t)=>ea(e,t,X4,n=>{const{payload:{data:r}}=n,{video:{renderedVideoList:a}}=t.value;if(r!=null&&r.canvasId){const s=a.filter(l=>l.canvasId===r.canvasId);ao.report(`WebGl Context lost, canvas ID:${r.canvasId}, affected video node Ids:${s.map(l=>l.userId).join(",")}`,["Video exception flow"])}})},n6={rmclEpics0:(e,t)=>e.pipe(ke(`${DA}`),wi(e,t,n=>{const{payload:{isRemoteControlEnabled:r,isEnableAutoDeleteRcApp:a}}=n;Fa.log(`isRemoteControlEnabled:${r},auto delete:${a}`)})),rmclEpics1:(e,t)=>e.pipe(ke(`${vo}`),oe(n=>!!n.payload),wi(e,t,n=>{Fa.log(`Launch Remote control app, scheme:${n.payload}`)})),rmclEpics2:(e,t)=>e.pipe(ke(`${pf}`),oe(n=>!!n.payload),wi(e,t,n=>{Fa.log(`Remote control session starts, controlling ssrc:${n.payload}`)})),rmclEpics3:(e,t)=>sd(e,t,16430,()=>{Fa.log("Remote control app connected to rwg.")}),rmclEpics4:(e,t)=>sd(e,t,t_,()=>{Fa.log("Remote control app disconnected to rwg.")}),rmclEpics5:(e,t)=>sd(e,t,t_,n=>{const{share:{status:r,isRemoteControlEnabled:a}}=t.value;a&&r!==rt.End&&n.payload.body.bOn&&Fa.log(`Remote control sharing device info.${JSON.stringify(j0.getShareStreamInfo())}`)}),rmclEpics6:(e,t)=>ea(e,t,ce.CurrentDesktopSharingWidthHeight,()=>{const{share:{isRemoteControlEnabled:n}}=t.value;n&&Fa.log(`Remote control sharing device info changes.${JSON.stringify(j0.getShareStreamInfo())}`)}),rmclEpics7:(e,t)=>ea(e,t,ce.SendRemoteControlQrCode,n=>{const{share:{status:r}}=t.value,{payload:{data:a}}=n;Fa.log(`Remote control QR code result. sharing status:${r}, result${JSON.stringify(a)}`)})},r6={epics0:(e,t)=>e.pipe(ke(`${Di}`),ue(async n=>{const{meeting:{logConfig:r,logEncryptionPubKey:a,zlkJwtToken:s,accountId:l},logger:{options:d}}=t.value;let f=d||{};if(r)try{const{enable:p,enableReport:h}=JSON.parse(r);f={...f,enable:p,enableReport:h}}catch{}if(s){const{telemetry_tracking_id:p}=Kf(s),{payload:{meetingId:h}}=n;f={...f,enable:!0,enableReport:!0,trackingId:p??h}}return Qr.init({...f,logConfig:r,logEncryptionPubKey:a,accountId:l}).then(()=>[gg(!0),zA(f)]).catch(()=>[gg(!1)])}),ue(n=>ve(n))),epics1:(e,t)=>sd(e,t,qg,n=>{var r,a,s;const{payload:{body:l}}=n;if(l&&l.res===Zr.CONF_SUCCESS){Qr.makeLogger(["A/V Performance Info"]).info(`CPU cores:${navigator.hardwareConcurrency}, SharedArrayBuffer:${!!window.crossOriginIsolated}, browser:${Me.browser} ${Me.browserVersion}, OS:${Me.os} ${Me.osVersion}${Bc("wow64",Me.wow64)}${Bc("GPU",Me.gpu)}${Bc("architecture",Me.architecture)}${Bc("bitness",Me.bitness)}${Bc("model",Me.model)}${Je.get(lA.EnforceWebRTCAudio)?"; Enforce WebTRC audio":""}`,["CPU_CORES"]);const{media:{enforceMultipleVideos:E,enforceVirtualBackground:A,assetsPath:w},meeting:{stayAwake:O,quicklyLeave:I}}=t.value;Qr.makeLogger(["Init Option"]).info(`Init option:${JSON.stringify({enforceMultipleVideos:E,enforceVirtualBackground:A,assetsPath:w,stayAwake:O,leaveOnPageUnload:I})}`),"connection"in navigator&&(hb(),navigator.connection.addEventListener("change",hb))}else Qr.report(`join meeting failed, error:${JSON.stringify(Wc(l==null?void 0:l.res))}, rwg error code:${l==null?void 0:l.res}, rwg conID:${l==null?void 0:l.conID}, error message:${l==null?void 0:l.error_desc}, rwg url:${l==null?void 0:l.svcUrl},mid:${t.value.meeting.meetingId}`,"JOIN_MEETING_FAILED","error");const{meeting:{meetingInfoTimestamp:d,pingRWCTimestamp:f,tid:p,meetingId:h},socket:{rwgServerList:g,retryCount:v}}=t.value;let S=["conID","confID","mmrFeature","mmrFeatureEx","reportDomain","res","role","svcUrl","userID"].reduce((E,A)=>l[A]!==void 0?{...E,[`${A}`]:l[A]}:E,{});S=["jid","mn","participantID","zoomID"].reduce((E,A)=>l[A]!==void 0?{...E,[`${A}`]:fr(l[A])}:E,S);const b=["connection_info_map"];let _;if(l.res===Zr.CONF_SUCCESS&&b.push("Command Socket Event","User Info Map"),p){const E=p.match(/clid=(\S+);/);E&&E.length>1&&(_=E[1])}Qr.report(JSON.stringify({...S,tid:p,mid:h,userRegion:_,rwgUrl:g.length>0?(r=g[v])===null||r===void 0?void 0:r.rwg:void 0,hardwareConcurrency:navigator.hardwareConcurrency,sharedArrayBuffer:!!window.crossOriginIsolated,browser:`${Me.browser} ${Me.browserVersion}`,os:`${Me.os} ${Me.osVersion}`,gpu:Me.gpu,architecture:Me.architecture,model:Me.model,bitness:Me.bitness,totalDurationOfJoining:Math.floor(performance.now()-d),durationOfRWG:Math.floor(performance.now()-f)}),b,"info"),at.createAgent().sendRWGConnectionPerformance(`WCL_M, conId: ${l==null?void 0:l.conID}, trackingId: ${(a=t.value.logger)===null||a===void 0||(s=a.options)===null||s===void 0?void 0:s.trackingId}`)}),epics2:(e,t)=>e.pipe(ke(`${aA}`),Ie(t),oe(n=>{let[,r]=n;return r.meeting.encryptedRWC===void 0&&(r.meeting.encryptedGEORWC===void 0||r.meeting.encryptedGEORWC.length===0)}),wi(e,t,()=>{const{label:n,payload:r}=jc(t.value);Qr.report(`${n} ${JSON.stringify(r)}`,["Join Meeting Flow","Ping RWC Domain Empty"],"error")})),epics3:(e,t)=>e.pipe(ke(`${rr}`),oe(n=>n.payload===Tn.OnError||n.payload===Tn.Disconnect||n.payload===Tn.NoHeartbeat),wi(e,t,n=>{const{payload:r}=n,{socket:{rwgServerList:a,retryCount:s}}=t.value,{payload:l}=jc(t.value);Qr.report(`websocket unexpected disconnected,${JSON.stringify({code:r,rwgHost:a[s],...l})}`,["Join Meeting Flow","RWG Disconnect"])})),epics4:(e,t)=>e.pipe(ke(`${Nm}`),wi(e,t,n=>{const{payload:{reason:r,count:a,interval:s}}=n,{payload:l}=jc(t.value);Qr.report(`meeting failover,${JSON.stringify({reason:r,count:a,interval:s,...l})}`,["Join Meeting Flow","Failover"]),"connection"in navigator&&navigator.connection.removeEventListener("change",hb)})),epics5:(e,t)=>e.pipe(ke(`${Pl}`),oe(n=>n.payload.status===Ot.Connecting),wi(e,t,n=>{const{payload:{rwgUrl:r}}=n;let a=r.replace(/(\d+)\?/,`${fr("$1")}?`);a=["email","zoomid","participantID","dn2","customer_key","mpwd","topic"].reduce((l,d)=>l.indexOf(d)>-1?l.replace(new RegExp(`${d}=([^&]+)`,"g"),`${d}=${fr("$1")}`):l,a);const{payload:s}=jc(t.value);Qr.makeLogger(["Join Meeting Flow"]).info(`RWG URL,${JSON.stringify({rwgUrl:a,...s})}`,["RWG Url"])})),epics6:(e,t)=>e.pipe(ke(`${wo}`),oe(n=>{const{payload:r}=n;return r?r.retry:t.value.meeting.meetingStatus===Xt.Initial}),wi(e,t,()=>{const{meeting:{meetingStatus:n},socket:{rwgServerList:r,retryCount:a}}=t.value;if(n!==Xt.Joined){const{payload:s}=jc(t.value),l=(r==null?void 0:r.length)>0?r[a]:void 0;Qr.report(JSON.stringify({...s,rwc:l==null?void 0:l.rwc,rwg:l==null?void 0:l.rwg}),["meeting_connection_details"])}})),epics7:(e,t)=>sd(e,t,1,n=>{const{payload:{body:r}}=n;Qr.report(`join meeting failed, version blocked. Current version:${t.value.meeting.cv},upgrade version:${r==null?void 0:r.upgradeVersion}`,"JOIN_MEETING_FAILED","error")}),epics8:(e,t)=>sd(e,t,2,()=>{Qr.report(`join meeting with low version of SDK. Current version:${t.value.meeting.cv}.`,"Join Meeting Flow","warn")})},i6=_r(r6,n6,t6),o6=at.createAgent(),Q0={cmrStatus:gn.Stop,recordingEnable:!1,recordingIsoEnable:!1,allowStopAutoRecording:!1,automaticCloudRecordingEnable:!1,isZoomIQ:!1,zoomIQChanging:!1,localStatus:Af.Stop,supportLocalRecording:yr.None,localGrantPermissionOption:$x.None,localPermissionUserList:[]},a6=br({[`${UP}`]:B((e,t)=>{let{payload:n}=t;e.cmrStatus=n}),[`${VP}`]:B((e,t)=>{let{payload:n}=t;e.recordingEnable=n}),[`${jP}`]:B((e,t)=>{let{payload:n}=t;e.recordingIsoEnable=n}),[`${BP}`]:B((e,t)=>{let{payload:n}=t;e.allowStopAutoRecording=n}),[`${xP}`]:B((e,t)=>{let{payload:n}=t;e.automaticCloudRecordingEnable=n}),[`${BA}`]:B((e,t)=>{let{payload:n}=t;e.isZoomIQ=n}),[`${xA}`]:B((e,t)=>{let{payload:n}=t;e.zoomIQChanging=n}),[`${HA}`]:B((e,t)=>{let{payload:n}=t;e.localStatus=n}),[`${rE}`]:B((e,t)=>{let{payload:n}=t;e.supportLocalRecording=n}),[`${HP}`]:B((e,t)=>{let{payload:n}=t;e.localGrantPermissionOption=n}),[`${td}`]:B((e,t)=>{let{payload:n}=t;e.localPermissionUserList=n}),[`${zP}`]:()=>({...Q0})},Q0);var Z0,J0,Y0,X0,eD,tD,nD,rD,iD,Rt;const ji=at.createAgent(),xc=Mi("Recording");let s6=(Z0=Re("recording"),J0=Re("recording"),Y0=Re("recording"),X0=Re("recording"),eD=Re("recording"),tD=Re("recording"),nD=Re("recording"),rD=Re("recording"),iD=Re("recording"),Rt=class extends To{startRecording(){const e=this[Te](),{meeting:{bIbDisableRecording:t,recordingEnable:n},recording:{cmrStatus:r}}=e;return t?Promise.reject({type:ae,reason:"Rejected by Information Barrier"}):n?r===gn.Start?Promise.resolve(""):(ji.recordMeeting(!0,!1),Ge(uf,a=>a.cmrServerStatus===gn.Start)):Promise.reject({type:ae,reason:"The account of the meeting disabled the cloud recording"})}pauseRecording(){const e=this[Te](),{recording:{cmrStatus:t}}=e;return t===gn.Pause?Promise.resolve(""):t!==gn.Start?Promise.reject({type:ae,reason:"Recording is not started"}):(ji.recordMeeting(!1,!0),Ge(uf,n=>n.cmrServerStatus===gn.Pause))}stopRecording(){const e=this[Te](),{recording:{cmrStatus:t}}=e;return t===gn.Stop?Promise.resolve(""):(ji.recordMeeting(!1,!1),Ge(uf,n=>n.cmrServerStatus===gn.Stop))}accept(){const e=this[Te](),{recording:{cmrStatus:t,recordingIsoEnable:n}}=e,r=Ve(e);return n?t!==gn.Start&&t!==gn.Pause?Promise.reject({type:ae,reason:"Recording is not started"}):r!=null&&r.bAllowISORecord?Promise.resolve("You accepted ISO recording"):(ji.allowSelfRecord(!0),Ge(jm,a=>(a==null?void 0:a.userId)===(r==null?void 0:r.userId)&&(a==null?void 0:a.status)===Fi.Accept)):Promise.reject({type:ae,reason:"ISO Recording is not enabled"})}decline(){const e=this[Te](),{recording:{cmrStatus:t,recordingIsoEnable:n}}=e,r=Ve(e);return n?t!==gn.Start&&t!==gn.Pause?Promise.reject({type:ae,reason:"Recording is not started"}):(r==null?void 0:r.bAllowISORecord)===!0?Promise.reject({type:ae,reason:"You had accept ISO recording, cant change it"}):(ji.allowSelfRecord(!1),Promise.resolve("")):Promise.reject({type:ae,reason:"ISO Recording is not enabled"})}getRecordingStatus(){const e=this[Te](),{recording:{cmrStatus:t}}=e,n=gH(e);return t===gn.Start?Fi.Recording:t===gn.Pause?Fi.Paused:n?Fi.Recording:Fi.Stopped}isRecordingEnabled(){const e=this[Te](),{recording:{recordingEnable:t}}=e;return t}isAllowedToStopAutoRecording(){const e=this[Te](),{recording:{allowStopAutoRecording:t}}=e;return t}isAutomaticCloudRecordingEnabled(){const e=this[Te](),{recording:{automaticCloudRecordingEnable:t}}=e;return t}enableRecordingWithIQ(e){const{[Te]:t,[un]:n}=this,r=t(),{recording:{isZoomIQ:a,zoomIQChanging:s},meeting:{meetingOptions:l}}=t();return l.isEnableKiwiRecording?ei(r)?s?Promise.reject({type:ae,reason:"We are changing, please wait"}):e===a?Promise.reject({type:ae,reason:`You have ${e?"enable":"disable"} Zoom IQ, don't need change`}):(n(xA(!s)),n(BA(!a)),ji.enableZoomIQRecord(e),Ge(Xk,d=>d==null?void 0:d.success)):Promise.reject({type:ae,reason:"Only Host or co-host can enable/disable Zoom IQ"}):Promise.reject({type:ae,reason:"You not have zoom IQ license or not enable zoom IQ, please check and retry"})}isSupportLocalRecording(){const e=this[Te](),{meeting:{meetingOptions:t,isWebinar:n},breakoutRoom:r}=e;if((r==null?void 0:r.currentRoom.status)===Ue.InRoom)return!1;const a=Ve(e);return(!n||!Sn(a.userRole))&&(t==null?void 0:t.isLocalRecordingEnabled)}isSupportLocalRecordingPermission(){const e=this[Te](),{recording:{supportLocalRecording:t}}=e;if(!this.isSupportLocalRecording())return!1;const n=Ve(e);return!(n==null||!n.isHost)||t===yr.Allow}askLocalRecordingPermission(){const{[Te]:e}=this,{recording:{supportLocalRecording:t}}=e();return this.isSupportLocalRecording()?t===yr.None?(ji.localRecordingRequestPermission(),Promise.resolve("")):t===yr.Allow?Promise.resolve(""):Promise.reject("permission is denied"):Promise.reject("not support")}startLocalRecording(e){const{[Te]:t,[un]:n}=this,r=t(),{recording:{localStatus:a,supportLocalRecording:s},meeting:{userId:l}}=r;if(!(e in Af))return Promise.reject({type:ae,reason:"not support you parameter, only support type are 0(stop)/1(start)/2(pause)."});if(!this.isSupportLocalRecording())return Promise.reject({type:ae,reason:"not support local recording"});if(e===a)return Promise.resolve(`you currently status is ${a}, do nothing`);const d=Ve(r);return s===yr.Allow||d!=null&&d.isHost?(ji.localRecordingMeeting(e),Ge(Bm,f=>(f==null?void 0:f.userId)===l&&(n(HA(f.bLocalRecord)),f.bLocalRecord===e),1e3)):Promise.reject({type:ae,reason:"you not have local recording permission, please use askLocalRecordingPermission request it first"})}isSupportLocalRecordingGrantPermission(){const e=this[Te]();if(!this.isSupportLocalRecording())return!1;const t=Ve(e);return!(t==null||!t.isHost)&&!!Eh(t.caps)}grantLocalRecordingPermission(e,t,n){const{[Te]:r,[un]:a}=this,s=r(),{recording:{localPermissionUserList:l}}=s;if(!this.isSupportLocalRecording())return Promise.resolve(!1);const d=Ve(s);if(!Eh(d.caps))return Promise.reject({type:ae,reason:"you can not grant permission"});let f=!1;if(n&&(f=!0),l.filter(p=>p===e).length>0){if(t===yr.Allow)ji.localRecordingGrantPermission(e,!0,f);else{if(t!==yr.Deny)return Promise.reject({type:ae,reason:"only support DENY(1)/ALLOW(2)"});ji.localRecordingGrantPermission(e,!1,f)}return a(td(l.filter(p=>p!==e))),k(po,{type:"answer",value:t===yr.Allow}),Promise.resolve(!1)}return t!==yr.Deny?Promise.reject({type:ae,reason:"Direct grant only support DENY(1)"}):(ji.hostGrantPermission(e,!1),Ge(po,p=>(p==null?void 0:p.value)===e&&(t===yr.Allow?(a(td([...l,e])),(p==null?void 0:p.canRecord)===!0):(a(td(l.filter(h=>h!==e))),(p==null?void 0:p.canRecord)===!1)),1e3))}getLocalRecordingPermissionUserList(){const e=this[Te](),{recording:{localPermissionUserList:t}}=e;if(!this.isSupportLocalRecording())return Promise.resolve(!1);const n=Ve(e);return Eh(n.caps)?t:Promise.reject({type:ae,reason:"you can not grant permission"})}getLocalRecordingPermissionOperation(){const e=this[Te](),{recording:{localGrantPermissionOption:t}}=e;if(!this.isSupportLocalRecording())return null;const n=Ve(e);return Eh(n.caps)?t:null}},pe(Rt.prototype,"startRecording",[Ci,me,Z0,xc],Object.getOwnPropertyDescriptor(Rt.prototype,"startRecording"),Rt.prototype),pe(Rt.prototype,"pauseRecording",[Ci,me,J0,xc],Object.getOwnPropertyDescriptor(Rt.prototype,"pauseRecording"),Rt.prototype),pe(Rt.prototype,"stopRecording",[Ci,me,Y0,xc],Object.getOwnPropertyDescriptor(Rt.prototype,"stopRecording"),Rt.prototype),pe(Rt.prototype,"accept",[me,X0,xc],Object.getOwnPropertyDescriptor(Rt.prototype,"accept"),Rt.prototype),pe(Rt.prototype,"decline",[me,eD,xc],Object.getOwnPropertyDescriptor(Rt.prototype,"decline"),Rt.prototype),pe(Rt.prototype,"askLocalRecordingPermission",[me,tD],Object.getOwnPropertyDescriptor(Rt.prototype,"askLocalRecordingPermission"),Rt.prototype),pe(Rt.prototype,"startLocalRecording",[me,nD],Object.getOwnPropertyDescriptor(Rt.prototype,"startLocalRecording"),Rt.prototype),pe(Rt.prototype,"grantLocalRecordingPermission",[me,Kt,rD],Object.getOwnPropertyDescriptor(Rt.prototype,"grantLocalRecordingPermission"),Rt.prototype),pe(Rt.prototype,"getLocalRecordingPermissionUserList",[me,Kt,iD],Object.getOwnPropertyDescriptor(Rt.prototype,"getLocalRecordingPermissionUserList"),Rt.prototype),Rt);const u6={moduleEpics0:e=>e.pipe(ke(`${Di}`),Ae(t=>{const{payload:{recordingEnable:n}}=t;return VP(n)})),moduleEpics1:(e,t)=>Ce(e,ri).pipe(oe(n=>{var r,a,s;return((r=n.payload.body)===null||r===void 0?void 0:r.cmrServerStatus)!==void 0||((a=n.payload.body)===null||a===void 0?void 0:a.disAllowClientStopAutoCmr)!==void 0||((s=n.payload.body)===null||s===void 0?void 0:s.enableAutomicRecordingCloud)!==void 0}),Ie(t),ue(n=>{let[r,a]=n;const{cmrServerStatus:s,disAllowClientStopAutoCmr:l,enableAutomicRecordingCloud:d}=r.payload.body,f=[];return s!==void 0&&(s!==gn.Init&&(k(uf,{cmrServerStatus:s}),a.recording.recordingIsoEnable&&s===gn.Start&&k(jm,{status:Fi.Ask})),f.push(UP(s))),l!==void 0&&f.push(BP(!l)),d!==void 0&&f.push(xP(d)),ve(f)})),moduleEpics2:e=>Ce(e,ri).pipe(oe(t=>{var n;return((n=t.payload.body)===null||n===void 0?void 0:n.bCmrIsoEnble)!==void 0}),Ae(t=>{const{bCmrIsoEnble:n}=t.payload.body;return jP(n)})),moduleEpics3:(e,t)=>Ce(e,Pt).pipe(Ie(t),oe(n=>{let[r]=n;const{payload:{body:{update:a,add:s}}}=r;return(a==null?void 0:a.some(l=>l.bLocalRecordStatus!==void 0||l.canRecord!==void 0))||(s==null?void 0:s.some(l=>l.bLocalRecordStatus!==void 0||l.canRecord!==void 0))}),ue(n=>{let[r,a]=n;const{payload:{body:{update:s,add:l}}}=r,{meeting:{userId:d,isHost:f},recording:{supportLocalRecording:p},participants:{attendeesList:h}}=a,g=[];return s==null||s.concat(l||[]).filter(v=>v.bLocalRecordStatus!==void 0||v.canRecord!==void 0).forEach(v=>{if(v.canRecord!==void 0){const S=!!v.canRecord;if(d===v.id||f){const b=h.find(_=>_.userId===d);!S&&b!=null&&b.bLocalRecord&&(k(po,{type:"revoke",value:v.id,canRecord:S}),o6.localRecordingMeeting(Af.Stop)),!S||b!=null&&b.bLocalRecord||k(po,{type:"grant",value:v.id,canRecord:S})}d===v.id&&((p!==yr.None||S)&&g.push(rE(S?yr.Allow:yr.Deny)),S||g.push(HA(Af.Stop)))}else k(Bm,{userId:v.id,bLocalRecord:v.bLocalRecordStatus})}),ve(g)})),moduleEpics4:(e,t)=>Ce(e,Pt).pipe(Ae(n=>Rg(n.payload.body)),Ie(t),ue(n=>{let[r,a]=n;const s=[],{recording:{localPermissionUserList:l}}=a;return r.remove&&r.remove.forEach(d=>{l.filter(f=>f===(d==null?void 0:d.userId))&&(s.push(td(l.filter(f=>f!==(d==null?void 0:d.userId)))),k(po,{type:"remove",value:d==null?void 0:d.userId}))}),ve(s)})),moduleEpics5:e=>Ce(e,Pt).pipe(oe(t=>{const{payload:{body:{update:n}}}=t;return n==null?void 0:n.some(r=>r.bAllowISORecord!==void 0)}),De(t=>{const{payload:{body:{update:n}}}=t;n.filter(r=>r.bAllowISORecord!==void 0).forEach(r=>{k(jm,{userId:r.id,status:r.bAllowISORecord?Fi.Accept:Fi.Decline})})}),je(_e)),moduleEpics6:e=>Ce(e,ri).pipe(oe(t=>{var n;return((n=t.payload.body)===null||n===void 0?void 0:n.SalesRecordingAnalytics)!==void 0}),Ae(t=>{const{SalesRecordingAnalytics:n}=t.payload.body;return k(Yk,{isZoomIQ:n}),BA(n)})),moduleEpics7:(e,t)=>Ce(e,4319).pipe(Ie(t),oe(n=>{var r;let[a]=n;return((r=a.payload.body)===null||r===void 0?void 0:r.success)!==void 0}),ue(n=>{let[r,a]=n;const s=[],{success:l}=r.payload.body,{recording:{zoomIQChanging:d}}=a;return k(Xk,{success:l}),l&&s.push(xA(!d)),ve(s)})),moduleEpics8:(e,t)=>Ce(e,4344).pipe(Ie(t),oe(n=>{var r;let[a]=n;return((r=a.payload.body)===null||r===void 0?void 0:r.cmdType)!==void 0}),ue(n=>{var r;let[a,s]=n;const l=[],{cmdType:d}=a.payload.body,{recording:{localPermissionUserList:f},meeting:{isHost:p}}=s;var h,g,v,S;return d==="permission_req_option"&&(k(po,{type:"option",value:(h=a.payload.body)===null||h===void 0?void 0:h.option}),l.push(HP((g=a.payload.body)===null||g===void 0?void 0:g.option))),d==="request_permission"&&(r=a.payload.body)!==null&&r!==void 0&&r.userId&&(p&&k(po,{type:"request",value:(S=a.payload.body)===null||S===void 0?void 0:S.userId}),l.push(td([...f,(v=a.payload.body)===null||v===void 0?void 0:v.userId]))),d==="permission_request_answer"&&(k(po,{type:"answer",value:a.payload.body.agreed}),l.push(rE(a.payload.body.agreed?yr.Allow:yr.Deny))),ve(l)}))},l6=_r(u6);let Pg=function(e){return e[e.All=1]="All",e[e.Private=2]="Private",e}({}),RV=function(e){return e.SUCCESS="success",e}({}),Ug=function(e){return e.CustomizedKey="__zoom_internal_message_customized_key__@@",e.SpeakerOnly="__zoom_internal_message_speaker_only__@@",e}({});const oD=Lu.getInstance(),Vg=(e,t,n)=>{const{meeting:{encType:r}}=n,a=t,s=pk(e),l=a?Pg.Private:Pg.All;return r===Wf.AES_GCM?Rn.beginEncrypt({text:s,type:Gn.XMPP_CHAT}).then(d=>{oD.sendWebinarMseeage(d,a,l,!0)}):oD.sendWebinarMseeage(s,a,l,!1)};function IV(e,t){const{cmd:{jids:n}}=t;return Object.prototype.hasOwnProperty.call(n,e)?Promise.resolve():or(It(Xa).pipe(kM(r=>r.findIndex(a=>Number(a.userId)===e)===-1),ut(1),Sr(ha)))}function DV(e){const{cmd:{connectionStatus:t}}=e;return t===RV.SUCCESS?Promise.resolve(!0):or(It(hA,1)).then(n=>n===Vl.Connected||Promise.reject({type:ae,reason:"Cannot establish the command channel"}))}function ME(e,t){for(const[n,r]of Object.entries(e))if(r.jid===t)return n}const aD={connectionStatus:"initial",jids:{}},d6=br({[`${$P}`]:()=>({...aD}),[`${FP}`]:B((e,t)=>{let{payload:n}=t;const{data:r,attendees:a}=n;r.forEach(s=>{const{jid:l,node:d}=s;if(!e.jids[d]||e.jids[d].jid!==l){const f=a.find(p=>p.userId===Number(d));e.jids[d]={jid:l,userGuid:f==null?void 0:f.userGUID}}})}),[`${GP}`]:B((e,t)=>{let{payload:n}=t;n.forEach(r=>{const{jid:a}=r,s=ME(e.jids,a);s&&delete e.jids[s]})}),[`${qP}`]:B((e,t)=>{let{payload:n}=t;e.connectionStatus=n})},aD);var Hc;let c6=(Hc=class extends To{send(e,t){if(!e)return Promise.reject({type:Qe,reason:"Text is empty"});if(typeof e!="string")return Promise.reject({type:Qe,reason:"Text is not a string"});if(e.length>512)return Promise.reject({type:Qe,reason:"Text exceeds the max length(512)."});const{[Te]:n}=this,r=n(),{socket:{xmppSocketStatus:a},meeting:{userId:s}}=r;return a!==Ot.Connected?Promise.reject({type:Jl,reason:"Command channel is not ready"}):DV(r).then(()=>t?kt(n()).findIndex(l=>l.userId===t)!==-1?IV(t,r).then(()=>{const{cmd:{jids:l}}=n();return l[t]?(Vg(e,l[t].jid,n()),{timestamp:new Date().getTime(),text:e,receiverId:t,senderId:s}):Promise.reject({type:bo})}):Promise.reject({type:Qe,reason:"Cannot find the user"}):(Vg(e,"",r),{timestamp:new Date().getTime(),text:e,receiverId:0,senderId:s}))}getJids(){const{[Te]:e}=this,t=e(),{cmd:{jids:n}}=t;return n}},pe(Hc.prototype,"send",[me],Object.getOwnPropertyDescriptor(Hc.prototype,"send"),Hc.prototype),Hc);const f6={extraEpics0:(e,t)=>e.pipe(ke(`${OA}`),it(n=>{const{payload:{speakerOnly:r}}=n,a=Ve(t.value);return((a==null?void 0:a.audio)!==void 0?ve([a.audio]):It(kr).pipe(oe(s=>s.audio!==void 0),ut(1))).pipe(De(()=>{DV(t.value).then(()=>{Vg(`${Ug.SpeakerOnly}${r?1:0}`,"",t.value)})}),je(_e))})),extraEpics1:(e,t)=>Ce(e,Pt).pipe(oe(n=>{var r,a;const{payload:{body:s}}=n;return!!s.add&&!((r=t.value.audio)===null||r===void 0||(a=r.customizeAudioOption)===null||a===void 0||!a.speakerOnly)}),Sr(ha),De(async n=>{const{payload:{body:{add:r}}}=n,a=t.value,{meeting:{userId:s}}=a;for(let l=0;l<r.length;l++){const{id:d}=r[l];if(d!==s){await IV(d,t.value);const{cmd:{jids:f},participants:{attendeesList:p}}=t.value;f[d]&&setTimeout(()=>{Vg(`${Ug.SpeakerOnly}1`,f[d].jid,t.value)},Math.floor(Math.random()*Math.log10(p.length)*1e3))}}}),je(_e))},p6={epics0:(e,t)=>Kl(e,24577).pipe(Ie(t),Ae(n=>{let[r]=n;const{payload:{body:{status:a}}}=r;return a===RV.SUCCESS&&k(hA,Vl.Connected),qP(a)})),epics1:(e,t)=>Kl(e,24583).pipe(Ie(t),ue(n=>{let[r,a]=n;const{meeting:{userId:s,encType:l},cmd:{jids:d}}=a,{payload:{body:{senderName:f,senderJid:p,text:h,type:g,receiver:v,msgid:S,sn:b}}}=r,_=ME(d,v),E=l===Wf.AES_GCM,A=ME(d,p),w=new Date().getTime();let O=Promise.resolve({message:h});return E&&(O=Rn.beginDecrypt({decryptedText:h,type:Gn.XMPP_CHAT,zoomId:b})),O.then(I=>{let{message:V}=I;if(g===Pg.Private&&Number(_)===s||g===Pg.All){const x=Qi(V);if(x!=null&&x.startsWith(Ug.SpeakerOnly)){const $=x.substring(Ug.SpeakerOnly.length),W=Number($)===1;return Of({userId:Number(A),key:"isSpeakerOnly",value:W})}{var U;const $=A&&((U=d[A])===null||U===void 0?void 0:U.userGuid);k(Jk,{senderId:A,senderName:f,senderGuid:$,text:x,timestamp:w,msgid:S})}}return""})}),oe(n=>typeof n=="object"&&n!==null&&n.type!==void 0),De(n=>{const{payload:{userId:r,key:a,value:s}}=n;k(Oo,[{userId:r,[`${a}`]:s}])})),epics2:(e,t)=>Kl(e,24595).pipe(ue(n=>{const{payload:{body:{action:r,data:a}}}=n,s=[];if([ho.List,ho.Add,ho.update].includes(r)&&a){const{breakoutRoom:l,participants:{attendeesList:d}}=t.value,f=(l==null?void 0:l.currentRoom.status)===Ue.InRoom?d.concat(l.mainSessionAttendeeList):d;s.push(FP({data:a,attendees:f}))}return r===ho.Remove&&a&&s.push(GP(a)),ve(s)}))},h6=_r(p6,f6),sD=(e,t,n,r)=>{const{getState:a,dispatch:s}=n,l=a(),{participants:{attendeesList:d},audio:{localShareAudioUserMutedList:f},share:{isReceiveSharingFromMainSession:p},breakoutRoom:h}=l,g=(p?h==null?void 0:h.mainSessionAttendeeList:d).find(v=>v.userId==e);if(g){if(g.bShareAudioOn){const v=f.find(S=>S.userId===e);return v&&v.muted===!t&&s(jf(r,e,t,l)),Promise.resolve("")}return Promise.reject({type:ae,reason:`Cannot ${t?"mute":"unmute"} share audio when the user's share audio is not enable.`})}return Promise.reject({type:Qe,reason:"Cannot find the user"})},uD=(e,t)=>{const{store:{getState:n},rwgAgent:r}=e,{share:{sharePrivilege:a}}=n();return a===t?Promise.resolve(""):Object.values(Jr).includes(t)?(r.lockSharing(t),Ge(pA,s=>s.lockShare===t)):Promise.reject({type:Qe})},_m=en([kt],e=>e.filter(t=>t.bVideoOn)),gb=en([_m],e=>e.filter(t=>(t.caps&YR)===YR)),lD=(e,t)=>{const n=e.store.getState(),r=mu(n).find(a=>a.userId===t);if(r){const{caps:a}=r;return(s=>(512&s)==512)(a)}return!1};var dD,cD,fD,pD,hD,mD,gD,yD,vD,SD,bD,_D,ED,AD,CD,wD,OD,TD,RD,ID,DD,MD,kD,ND,LD,PD,UD,VD,jD,BD,xD,HD,zD,FD,GD,qD,$D,KD,WD,QD,ZD,JD,YD,XD,e1,t1,n1,r1,i1,o1,a1,s1,u1,l1,d1,c1,f1,p1,h1,m1,g1,y1,v1,S1,b1,_1,E1,A1,C1,w1,O1,T1,q;const Dr=Mi("Audio"),hn=Mi("Video"),Yn=Mi("Sharing"),Il=Mi("CameraControl"),Yo=Mi("Remote Control"),yb=Zg(HTMLCanvasElement,0),m6=Zg([HTMLCanvasElement,HTMLVideoElement],0),R1=Zg(HTMLCanvasElement,0,["id"]),I1=Zg([HTMLCanvasElement,HTMLVideoElement],0,["id"]);let g6=(dD=Re("audio"),cD=Re("audio"),fD=Re("audio"),pD=Re("audio"),hD=Re("audio"),mD=Mi("Audio",[1,2,3]),gD=Re("audio"),yD=Mi("Audio",[1,2]),vD=Re("audio"),SD=Re("audio"),bD=Re("audio"),_D=Re("audio"),ED=Re("share"),AD=Re("audio"),CD=Re("share"),wD=Re("audio"),OD=Re("audio"),TD=Re("audio"),RD=Re("audio"),ID=Re("audio"),DD=Re("video"),MD=Re("video"),kD=Re("video"),ND=Re("video"),LD=Re("video"),PD=Re("video"),UD=Re("video"),VD=Re("video"),jD=Re("video"),BD=Re("video"),xD=Re("video"),HD=Re("video"),zD=Re("video"),FD=Re("video"),GD=Re("video"),qD=Re("video"),$D=Re("video"),KD=Re("video"),WD=Re("video"),QD=Re("video"),ZD=Re("video"),JD=Re("video"),YD=Re("video"),XD=Re("video"),e1=Re("video"),t1=Re("video"),n1=Re("share"),r1=Re("share"),i1=Re("share"),o1=Re("share"),a1=Re("share"),s1=Re("share"),u1=Re("share"),l1=Re("share"),d1=O0("isShareOptionLocked"),c1=O0("isShareOptionLocked"),f1=Re("share"),p1=Re("share"),h1=Re("share"),m1=Re("share"),g1=Re("share"),y1=Re("share"),v1=Re("share"),S1=Re("share"),b1=Re("share"),_1=Re("share"),E1=Re("share"),A1=Re("share"),C1=Re("share"),w1=Re("share"),O1=Re("share"),T1=Re("share"),q=class extends To{constructor(e){super(e),this[zt].dispatch(ZE()),this[de]={store:e,mediaAgent:GA(Ar(qe.getInstance())),rwgAgent:at.createAgent()}}startAudio(e){return((t,n)=>{const{store:{getState:r,dispatch:a},rwgAgent:s,mediaAgent:l}=t,d=r(),f=Ve(d);if((f==null?void 0:f.audio)===bt.Computer)return Promise.resolve("");if((f==null?void 0:f.audio)===bt.Phone)return Promise.reject({type:ae,reason:"joined by phone"});{const{audio:{isAllowToTalk:p,isComputerAudioLoading:h,canPlayAudio:g,customizeAudioOption:{speakerOnly:v}},media:{audioDecodeStatus:S,audioEncodeStatus:b}}=d;if(h)return Promise.reject({type:ae,reason:"Computer audio has been loading, please wait."});const _=function(w){const O=w?{...w}:void 0;if(xI()||(O==null?void 0:O.backgroundNoiseSuppression)!==!0||(console.warn("Background noise suppression requires SharedArrayBuffer and is only supported on Chromium-like browser"),Object.assign(O,{backgroundNoiseSuppression:void 0})),(O==null?void 0:O.originalSound)!==void 0){O.backgroundNoiseSuppression&&O.originalSound&&(console.warn("Enabling original sound will disable background noise suppression."),Object.assign(O,{backgroundNoiseSuppression:!1}));const{originalSound:I}=O;typeof I=="object"&&I.stereo&&!HI()&&(console.warn("Cannot enable stereo audio on current platform due to the browser limitation"),Object.assign(I,{stereo:!1}))}return zI()||(O==null?void 0:O.syncButtonsOnHeadset)!==!0||(console.warn("Sync buttons on headset is not supported on the current platform"),Object.assign(O,{syncButtonsOnHeadset:void 0})),O!=null&&O.mediaFile&&!qe.isSupportMediaPlaybackAsVideoInput()&&(console.warn("Cannot use media file as audio input due to the browser limitation"),Object.assign(O,{mediaFile:void 0})),O}(n);a(OA(_??{}));const{speakerOnly:E,autoStartAudioInSafari:A}=_||{};if(!!v!=!!E&&a(Of({userId:d.meeting.userId,key:"isSpeakerOnly",value:!!E})),!f)return Promise.reject({type:ae,reason:"Please call `startAudio` method after the `join` has been resolved"});{const w=Sn(f.userRole)&&!p||E,{encodeInitStatus:O,decodeInitStatus:I}=CE(d,f,E);if(Mg()&&(I!=="success"||O!=="success"))return Promise.reject({type:ae,reason:"It is required to wait for the audio encoding and decoding to be ready before calling `startAudio` method"});a(eu(!0)),tr("audio",O,I).subscribe(V=>{let[U,x]=V;if(U&&x){let $=g||(Mg()||Me.isIOSMobile)&&!A?Promise.resolve():function(){const W=URL.createObjectURL(Wx),z=new Audio(W);return z.muted=!1,Me.isIOSMobile?new Promise((L,T)=>{var N;z.addEventListener("canplaythrough",()=>{z.play().then(()=>{L(!0)}).catch(F=>{T(F)}).finally(()=>{URL.revokeObjectURL(W)})}),(N=z.load)===null||N===void 0||N.call(z)}):Promise.race([z.play(),new Promise((L,T)=>{window.setTimeout(()=>{T()},3e3)})]).finally(()=>{URL.revokeObjectURL(W)})}();$===void 0&&($=Promise.resolve()),$.then(()=>QR("audio",r())).then(()=>{const W=r(),{audio:{isSharingAudio:z}}=W;kg(s,W,w),z&&!So()||id(l,W,!w),Sn(f.userRole)&&p&&a(k_(!0)),a(gd(!0))}).catch(()=>{a(gd(!1)),a(eu(!1))})}else a(eu(!1))})}return b==="failed"||S==="failed"?(a(eu(!1)),Promise.reject({type:bo,reason:"audio encode or decode error"})):new Promise((w,O)=>{Ri(It(bl.JoinComputerAudio.success,1),vn(...bl.JoinComputerAudio.fail.map(I=>It(I,1).pipe(ue(()=>lu({type:nr,reason:I}))))),On(45e3).pipe(ue(()=>lu({type:bA})))).subscribe({next:()=>{a(eu(!1)),w("")},error:I=>{qe.getInstance().leaveComputerAudio();const V=Ve(r());(V==null?void 0:V.audio)!==bt.Phone&&(a(Du(Cf.MicrophoneError)),s.joinOrLeaveVoip(!1)),a(eu(!1)),O(I)}})})}})(this[de],e)}stopAudio(){return(async e=>{const{store:{getState:t,dispatch:n},mediaAgent:r,rwgAgent:a}=e,s=t(),{audio:{isComputerAudioLoading:l,isShareAudioEnabled:d,isSharingAudio:f,isUsingMediaPlayback:p,customizeAudioOption:{speakerOnly:h}}}=s,g=Ve(s);if(l)return Promise.reject({type:ae,reason:"Computer audio has not finished joining, please wait."});if(d){if(f&&!So())return Promise.reject({type:ae,reason:"Cannot stop audio during sharing with audio"});n(yd(void 0)),n(fa(void 0))}return(g==null?void 0:g.audio)===bt.Computer?(n(Du(Cf.Active)),await r.leaveComputerAudio(),a.joinOrLeaveVoip(!1),h&&n(Of({userId:s.meeting.userId,key:"isSpeakerOnly",value:void 0})),p&&Yr.getInstance().stopAudioElement(),n(Yf(0)),Ge(wf)):Promise.resolve("")})(this[de])}muteAudio(e){return((t,n)=>{const{store:{getState:r,dispatch:a},rwgAgent:s,mediaAgent:l}=t,d=r(),f=Ve(d);if(n==null||n===(f==null?void 0:f.userId))return(f==null?void 0:f.audio)===""||(f==null?void 0:f.audio)===null?Promise.reject({type:ae,reason:"no audio joined"}):(f==null?void 0:f.muted)===!0?Promise.resolve(""):(a(ra(fo.Active)),s.mute(f.userId,!0),l.muteAudio(),d.audio.isShareAudioEnabled&&!So()&&a(fa(!0)),Ge(gA).then(()=>""));if(ei(d)){const{participants:{allowTalkAttendeesList:p,attendeesList:h}}=d,g=p.concat(h).find(v=>v.userId===n);return g?g.audio===""||g===null?Promise.reject({type:ae,reason:"no audio joined"}):g.muted===!1?(s.mute(n,!0),Ge(yN,v=>v.id===n&&v.muted==1)):Promise.resolve(""):Promise.reject({type:Qe,reason:"no matching user"})}return Promise.reject({type:nr})})(this[de],e)}unmuteAudio(e){return(async(t,n)=>{const{store:{getState:r,dispatch:a},rwgAgent:s,mediaAgent:l}=t,d=r(),f=Ve(d);if(n===void 0||n===(f==null?void 0:f.userId)){if((f==null?void 0:f.audio)===""||(f==null?void 0:f.audio)===null)return Promise.reject({type:ae,reason:"no audio joined"});if((f==null?void 0:f.muted)===!1)return Promise.resolve("");if(d.audio.isShareAudioEnabled&&!So()){if(d.audio.isSharingAudio)return Promise.reject({type:ae,reason:"Cannot unmute audio during sharing with audio"});a(fa(!1))}if(d.audio.bCanUnmute||f!=null&&f.isHost||f!=null&&f.bCoHost){if(Sn(f.userRole)){const{audio:{isAllowToTalk:p,isAllowToTalkAttendeeConnected:h}}=d;p?h||(await l.leaveComputerAudio(),await id(l,d,!0),a(k_(!0))):Promise.reject({type:ae,reason:"Webinar attendee cannot unmute self audio."})}return a(If(lf.Active)),s.mute(f.userId,!1),l.unmuteAudio(),Ge(yA).then(()=>"")}return Promise.reject({type:nr,reason:"host not allow unmute themselves"})}if(ei(d)){const{participants:{allowTalkAttendeesList:p,attendeesList:h}}=d,g=p.concat(h).find(v=>v.userId===n);return g?g.audio===""||g===null?Promise.reject({type:ae,reason:"no audio joined"}):(g.muted===!0&&s.mute(n,!1),Promise.resolve("")):Promise.reject({type:Qe,reason:"no matching user"})}return Promise.reject({type:nr})})(this[de],e)}dialOut(e,t,n,r){return((a,s,l,d,f)=>{const{store:{getState:p,dispatch:h},rwgAgent:g}=a,v=p(),{meeting:{callOutCountry:S,isSupportCallOut:b}}=v;if(b&&Array.isArray(S)&&S.findIndex(_=>_.code===s)>-1){const{seq:_}=g.audioDialout(s+l,d,!(f==null||!f.callMe),!(f==null||!f.pressingOne),!(f==null||!f.greeting));return h(CL({sequence:_,phoneNumber:s+l})),Ka(bl.JoinAudioByCallMe)}return Promise.reject({type:Qe,reason:"no matching country code"})})(this[de],e,t,n,r)}cancelDialOut(e,t,n){return((r,a,s,l)=>{const{rwgAgent:d}=r;return d.audioCancelDialout(a+s,!(l==null||!l.callMe)),Ka(bl.cancelDialOut)})(this[de],e,t,n)}hangup(){return(e=>{const{store:{getState:t},rwgAgent:n}=e,r=t(),a=Ve(r);return(a==null?void 0:a.audio)===bt.Phone&&a.userId!==null?(n.audioDrop(a.userId),Ka(bl.hangup)):Promise.reject({type:ae,reason:"not joined audio by phone"})})(this[de])}switchMicrophone(e){return((t,n)=>{const{store:{getState:r,dispatch:a},mediaAgent:s}=t,l=r(),{audio:{microphoneDevicesList:d,activeMicrophone:f,mediaPlaybackFile:p,isUsingMediaPlayback:h}}=l,g=d.find(v=>v.deviceId===n);if(n==="default"||typeof n!="string"||g){const v=Ve(l);if((v==null?void 0:v.audio)===bt.Computer){let S=!1;if(typeof n=="string")n!==f&&(s.changeMicrophone(n,g==null?void 0:g.label,!(v==null||!v.muted)),a(L_(void 0)),Yr.getInstance().stopAudioElement(),S=!0);else if(n&&(!h||(p==null?void 0:p.url)!==n.url)){const b=Yr.getInstance();b.setAudioElement(n).then(()=>{s.changeMicrophone(b.audioElement,void 0,!(v==null||!v.muted)),a(L_(n))}),S=!0}if(S)return Ka(bl.JoinComputerAudio)}else typeof n=="string"&&a(Rf(n));return Promise.resolve("")}return Promise.reject({type:HR})})(this[de],e)}switchSpeaker(e){return((t,n)=>{const{store:{getState:r,dispatch:a},mediaAgent:s}=t,{audio:{speakerDevicesList:l,activeSpeaker:d}}=r();if(n!=="default"&&l.findIndex(p=>p.deviceId===n)==-1)return Promise.reject({type:HR});var f;if(((f=Ve(r()))===null||f===void 0?void 0:f.audio)===bt.Computer){if(n!==d)return s.changeSpeaker(n),Ge(g_,p=>p)}else a(Kg(n));return Promise.resolve("")})(this[de],e)}muteShareAudio(e){return((t,n)=>{const{mediaAgent:r,rwgAgent:a,store:{getState:s,dispatch:l}}=t,d=s(),{meeting:{userId:f}}=d;if(n&&n!==f)return sD(n,!0,t.store,r);{const{audio:{isSharingAudio:h,isShareAudioEnabled:g,isShareAudioMuted:v}}=d;if(!g)return Promise.reject({type:ae,reason:"Cannot mute sharing audio when sharing audio is not enable"});if(v)return Promise.resolve("");{a.muteShareAudio(!0);let S=Promise.resolve();var p;return h&&(S=(p=r.leaveSharingAudio(!0))===null||p===void 0?void 0:p.then(()=>iC(r,a,d).then(b=>{b.forEach(_=>l(_))}))),jf(r,f,!0,d),Promise.all([Ge({event:kr,operations:[oe(b=>b.bShareAudioOn!==void 0),ut(1)]},b=>b.bShareAudioOn===!1),S]).then(()=>(l(Zm(!0)),h&&(l(vd(!1)),k(hd,{state:"off"})),""))}}})(this[de],e)}unmuteShareAudio(e){return((t,n)=>{const{mediaAgent:r,rwgAgent:a,store:{getState:s,dispatch:l}}=t,d=s(),{meeting:{userId:f}}=d;if(n&&n!==f)return sD(n,!1,t.store,r);{const{audio:{isSharingAudio:p,isShareAudioEnabled:h,isShareAudioMuted:g},share:{status:v}}=d;if(!h)return Promise.reject({type:ae,reason:"Cannot unmute sharing audio when sharing audio is not enable"});if(g===!1)return Promise.resolve("");{a.muteShareAudio(!1);let S=Promise.resolve();return p===!1&&v===rt.Sharing&&(S=AE(r,a,d).then(b=>{b.forEach(_=>l(_))})),jf(r,f,!1,d),Promise.all([Ge({event:kr,operations:[oe(b=>b.bShareAudioOn!==void 0),ut(1)]},b=>b.bShareAudioOn===!0),S]).then(()=>(l(Zm(!1)),p===!1&&v===rt.Sharing&&(l(vd(!0)),k(hd,{state:"on"})),""))}}})(this[de],e)}subscribeAudioStatisticData(e){return(async(t,n)=>{const{mediaAgent:r,store:{getState:a}}=t,s=a(),l=Ve(s),d=!n||n.decode,f=!n||n.encode;if(!l)return Promise.reject({type:ae,reason:"Call this function after the 'join' method resolved."});{const{encodeInitStatus:p,decodeInitStatus:h}=CE(s,l);tr("audio",p,h).subscribe(g=>{let[v,S]=g;v&&S&&(d&&r.subscribeToQos([jn.AudioDecode],Qa),f&&r.subscribeToQos([jn.AudioEncode],Qa))})}return""})(this[de],e)}unsubscribeAudioStatisticData(e){return(async(t,n)=>{const{mediaAgent:r,store:{dispatch:a}}=t,s=!n||n.decode,l=!n||n.encode;return s&&(r.unsubscribeFromQos([jn.AudioDecode]),a(Jm(xm))),l&&(r.unsubscribeFromQos([jn.AudioEncode]),a(Ym(xm))),null})(this[de],e)}enableBackgroundNoiseSuppression(e){return((t,n)=>{const{mediaAgent:r,store:{getState:a,dispatch:s}}=t,{audio:{isBackgroundNoiseSuppression:l,originalSound:d}}=a();let f=n;return f===!!l||(f&&!xI()?(console.warn("Background noise suppression requires SharedArrayBuffer and is only supported on Chromium-like browser"),f=!1):(f&&d&&(console.warn("Enabling noise suppression will disable original sound."),s(U_(!1))),s(N_(f)),r.changeAudioProfile(EE(a())))),Promise.resolve("")})(this[de],e)}enableSyncButtonsOnHeadset(e){return((t,n)=>{const{mediaAgent:r,store:{getState:a,dispatch:s}}=t,l=a(),{audio:{isHIDEnabled:d,microphoneDevicesList:f,activeMicrophone:p}}=l;if(n===!!d)return Promise.resolve("");{const g=Ve(l);var h;return g?(n&&!zI()?console.warn("Sync buttons on headset is not supported on the current platform"):(r.enableSyncButtonsOnHeadset(n,(h=f.find(v=>v.deviceId===p))===null||h===void 0?void 0:h.label,g.muted),s(VL(n))),Promise.resolve("")):Promise.reject({type:ae,reason:"Please call `enableSyncButtonsOnHeadset` method after the `join` has been resolved"})}})(this[de],e)}enableOriginalSound(e){return((t,n)=>{const{mediaAgent:r,store:{getState:a,dispatch:s}}=t,{audio:{isBackgroundNoiseSuppression:l,originalSound:d}}=a(),f=n;return f===d||typeof n=="object"&&$f(n,d)||(typeof f!="object"||(f==null?void 0:f.stereo)!==!0||HI()||(console.warn("Cannot enable stereo audio on current platform due to the browser limitation"),f.stereo=!1),l&&f&&(console.warn("Enabling original sound will disable background noise suppression."),s(N_(!1))),s(U_(f)),r.changeAudioProfile(EE(a()))),Promise.resolve("")})(this[de],e)}getMicList(){return(e=>{let{store:{getState:t}}=e;const n=t();return n.audio?[...n.audio.microphoneDevicesList]:[]})(this[de])}getSpeakerList(){return(e=>{let{store:{getState:t}}=e;const n=t();return n.audio?[...n.audio.speakerDevicesList]:[]})(this[de])}getAudioState(e){return((t,n)=>{let{store:{getState:r}}=t;const a=r(),{meeting:{isWebinar:s}}=a;let l=null;return n==null?l=Ve(a):(l=a.participants.attendeesList.find(d=>d.userId===n),s&&!l&&(l=a.participants.xmppAttendeeList.find(d=>d.userId===n))),l?l.audio:null})(this[de],e)}isAudioMuted(e){return((t,n)=>{let{store:{getState:r}}=t;const a=r(),{meeting:{isWebinar:s}}=a;let l=null;return n===void 0?l=Ve(a):(l=a.participants.attendeesList.find(d=>d.userId===n),s&&!l&&(l=a.participants.xmppAttendeeList.find(d=>d.userId===n))),!!l&&!!l.muted})(this[de],e)}getActiveMicrophone(){return(e=>{let{store:{getState:t}}=e;const n=t();return n.audio?n.audio.activeMicrophone:null})(this[de])}getActiveSpeaker(){return(e=>{let{store:{getState:t}}=e;const n=t();return n.audio?n.audio.activeSpeaker:null})(this[de])}isSupportCallOut(){return(e=>{let{store:{getState:t}}=e;const{meeting:{isSupportCallOut:n,callOutCountry:r}}=t();return n&&Array.isArray(r)&&(r==null?void 0:r.length)>0})(this[de])}getDialOutStatus(){return(e=>{let{store:{getState:t}}=e;const{audio:n}=t();return n==null?void 0:n.dialout[n.dialout.length-1].returnCode})(this[de])}getDialOutCountries(){return(e=>{let{store:{getState:t}}=e;const{meeting:{callOutCountry:n}}=t();return Array.isArray(n)?n:[]})(this[de])}getShareAudioStatus(){return(e=>{let{store:{getState:t}}=e;const{audio:{isShareAudioEnabled:n,isShareAudioMuted:r,isSharingAudio:a}}=t();return{isShareAudioEnabled:n,isShareAudioMuted:r,isSharingAudio:a}})(this[de])}isOthersShareAudioMutedLocally(e){return((t,n)=>{var r;let{store:{getState:a}}=t;const{audio:{localShareAudioUserMutedList:s}}=a();return(r=s.find(l=>l.userId===n))===null||r===void 0?void 0:r.muted})(this[de],e)}getAudioStatisticData(){return(e=>{let{store:{getState:t}}=e;const{audio:{statistic:n}}=t();return{...n}})(this[de])}getDialInInfo(){return(e=>{let{store:{getState:t}}=e;const{meeting:{meetingNumber:n,tollNumbers:r,participantID:a,h323Password:s}}=t();return r===void 0?null:{meetingId:n,participantId:a,password:s||"",tollNumbers:r.map(l=>({...l}))}})(this[de])}isSupportMicrophoneAndShareAudioSimultaneously(){return So()}startVideo(e){return((t,n)=>{const{store:{getState:r,dispatch:a},mediaAgent:s}=t,l=r(),{media:{videoDecodeStatus:d,videoEncodeStatus:f,enforceVirtualBackground:p},video:{isCaptureCameraLoading:h,isCurrentUserStartedVideo:g,isVideoMuted:v}}=l,S=n?{...n}:void 0;if(g)return Promise.reject({type:ae,reason:"Video is started"});if(h)return Promise.reject({type:ae,reason:"Camera is starting,please wait."});if(v&&!ei(l))return Promise.reject({type:ae,reason:"Video is muted by the host"});if(Pc(p)&&!((S==null?void 0:S.videoElement)instanceof HTMLVideoElement)){console.warn('Rendering self-view on Chromium browser, Android browser without SharedArrayBuffer or iOS browser requires video tag, Please pass a video element instead of a canvas element in the "renderVideo" method');let b=document.body.querySelector(`#${OS}`);if(!b){b=document.createElement("video");const _=Me.isSafari||Me.isIOSMobile?"position:fixed;top:-10000px;left:-10000px":"display:none";b.setAttribute("style",_),b.muted=!0,b.playsInline=!0,b.autoplay=!0,b.id=OS,document.body.appendChild(b)}S&&Object.assign(S,{videoElement:b})}return!cE(p)&&S!=null&&S.virtualBackground?Promise.reject({type:Qe,reason:"Virtual background only compatible with Chrome and Edge with SharedArrayBuffer enabled."}):(a(ef(!0)),tr("video",f,d).subscribe(b=>{let[_]=b;if(_){const E=r(),{video:{activeCamera:A,isSupportHDVideo:w,virtualBackground:{imageSrc:O},mask:{imageSrc:I}}}=E,{cameraId:V=A,captureWidth:U=0,captureHeight:x=0,mirrored:$,hd:W,fullHd:z,virtualBackground:L,mask:T}=S||{};$&&s.mirrorVideo($),(W||z)&&(console.log("HD support is currently limited, and comes with a number of restrictions and limitations. Please visit https://developers.zoom.us/docs/video-sdk/web/video/#720p-video for more details"),w&&qe.isCompatibleHardwareForEncode()&&qe.isSupportVideoEncodeHardwareAcceleration().then(D=>{D&&(s.enableHardwareAccelerationForVideoEncode(!0),a(Ml({encode:D})))}),w||console.warn("Cannot capture HD video due to either account restriction and/or hardware limitation"));const N=L||L===void 0&&!!O&&T===void 0,F=T||T===void 0&&!!I;let P=Promise.resolve({});if(N){const D=L||{imageUrl:void 0,cropped:void 0};P=gm({...D,captureWidth:U,captureHeight:x,cameraId:V,hd:W},s,E).then(()=>D)}else if(F){const D=T||{imageUrl:void 0,cropped:void 0,clip:void 0,rootWidth:void 0,rootHeight:void 0};D.rootWidth||Object.assign(D,{rootWidth:1280}),D.rootHeight||Object.assign(D,{rootHeight:720}),P=ym({...D,captureWidth:U,captureHeight:x,cameraId:V,hd:W},s,E).then(()=>D)}S!=null&&S.mediaFile&&!qe.isSupportMediaPlaybackAsVideoInput()&&(console.warn("Cannot use media file as video input due to the browser limitation."),Object.assign(S,{mediaFile:void 0})),P.then(D=>QR("video",r()).then(()=>D)).then(D=>{fV(s,E,S).forEach(K=>{a(K)}),N?a(om(D)):F&&a(am(D))}).catch(D=>{a(ef(!1)),k(oN,{reason:D})})}else a(ef(!1))}),Ka(xR.startCaptureVideo).then(()=>{a(og(!1)),a(ig(!1))}).finally(()=>{a(ef(!1))}))})(this[de],e)}stopVideo(){return(e=>{const{store:{getState:t},mediaAgent:n}=e,{video:{isCaptureCameraLoading:r,isCurrentUserStartedVideo:a,isUsingMediaPlayback:s}}=t();return r?Promise.reject({type:ae,reason:"Camera is starting,please wait."}):a?(n.stopCaptureVideo(),s&&Yr.getInstance().stopVideoElement(),Ge(bu,l=>(l==null?void 0:l.failed)!==!0)):Promise.reject({type:ae,reason:"camera is closed"})})(this[de])}switchCamera(e){return((t,n)=>{const{store:{getState:r,dispatch:a},mediaAgent:s}=t,l=r(),{video:{cameraDevicesList:d,isCurrentUserStartedVideo:f,virtualBackground:p,mask:h,mediaPlaybackFile:g,isUsingMediaPlayback:v,customizedVideoOption:S}}=l;if(typeof n=="string"&&!cV(n,d))return Promise.reject({type:Qe,reason:"Cannot find cameraDeviceId in camera devices list."});if(f||p!=null&&p.isVBConfigured||h.isMaskConfigured){if(typeof n=="string"){const{captureWidth:b,captureHeight:_}=aC(S);s.changeCamera(n,{width:b,height:_}),a(Q_(void 0)),Yr.getInstance().stopVideoElement()}else if(n&&(!v||(g==null?void 0:g.url)!==n.url)){const b=Yr.getInstance();b.setVideoElement(n).then(()=>{s.changeCamera(b.videoElement),a(Q_(n))})}return Ka(xR.switchCameraVideo).then(()=>{a(og(!1)),a(ig(!1))})}return Promise.resolve()})(this[de],e)}renderVideo(e,t,n,r,a,s,l,d,f){return((p,h,g,v,S,b,_,E,A,w)=>{const{store:{getState:O,dispatch:I},mediaAgent:V,rwgAgent:U}=p,x=O(),{meeting:{userId:$},media:{enforceMultipleVideos:W,enforceVirtualBackground:z},video:{subscribedVideoList:L,renderedVideoList:T}}=x,N=Ql(!!W),F=Pc(z)&&g===$;if(h instanceof HTMLCanvasElement&&!L.includes(g)&&L.length>=N&&new Set(T.map(K=>K.canvasId)).has(h.id))return Promise.reject({type:ae,reason:`subscribe video counts greater than maximum size (${N})`});if(_m(x).findIndex(K=>K.userId===g)===-1)return Promise.reject({type:Qe,reason:"user is not send video"});if(h.id||(h.id=sa("__ZOOM_SDK_VIDEO_CANVAS_@__")),F){if(h instanceof HTMLVideoElement){h.playsInline=!0,h.muted=!0,h.autoplay=!0,V.renderVideo(h,g,A||Js,v,S,b,_,E,!0,w||"",!1),I(im(g));const K=document.querySelector(`#${OS}`);return K&&K.remove(),Promise.resolve("")}return Promise.reject({type:Qe,reason:"You must use a <video> element to render self video for Chromium browser, Android browser without SharedArrayBuffer or iOS browser "})}const P=!!w,{media:{videoDecodeStatus:D}}=x;return tr("video","success",D).subscribe(async K=>{let[J,re]=K;if(re){const{video:{ensuredCanvas:M,renderedVideoList:X}}=O();let ye=h;M.includes(h.id)||(ye=fm(h),I(mP(h.id)));const Ee=g===$,[se,we]=h0(g,E,O()),Oe=A||Js,Ye=await async function(Le,Q){const{video:{prefetchedVideo:G}}=Q;return(G==null?void 0:G.userId)!==Le||G.loaded?"":or(Ri(It(pN,1),On(1e3).pipe(Lr(""))))}(g,O());X.some(Le=>Le.userId===g&&Le.key===Oe&&Le.canvasId===ye.id)||V.renderVideo(ye,g,Oe,v,S,b,_,we,Ee,w||"",P),g!==$&&U.subscribeVideo(g,we,!1),L.includes(g)||I(im(g)),Ye&&I(ed(void 0)),I(Xl({userId:g,key:Oe,canvasId:ye.id,videoQuality:se,aspectRatio:S?v/S:0}))}}),D==="failed"?Promise.reject({type:bo,reason:"Video  decode status is failed"}):Promise.resolve("")})(this[de],e,t,n,r,a,s,l,d,f)}stopRenderVideo(e,t,n,r){let a=arguments.length>4&&arguments[4]!==void 0&&arguments[4],s=arguments.length>5?arguments[5]:void 0;return function(l,d,f,p,h){let g=arguments.length>5&&arguments[5]!==void 0&&arguments[5],v=arguments.length>6?arguments[6]:void 0;const{store:{getState:S,dispatch:b},mediaAgent:_,rwgAgent:E}=l,A=S(),{video:{subscribedVideoList:w,renderedVideoList:O},meeting:{userId:I},media:{enforceVirtualBackground:V}}=A;if(w.includes(f)){const U=p||Js;if(Pc(V)&&f===I&&d instanceof HTMLVideoElement)return d.pause(),Promise.resolve("");if(O.find(x=>x.userId===f&&x.key===U&&x.canvasId===d.id)&&(_.stopRenderVideo(d.id,f,U,ob(h),g),O.filter(x=>x.userId===f).length==1&&(f!==I&&E.unsubscribeVideo(f),b(G_(f))),b(ag({userId:f,key:U,canvasId:d.id}))),v){const{video:{subscribedVideoList:x,prefetchedVideo:$}}=S();_m(A).find(W=>W.userId===v)&&!x.includes(v)&&($==null?void 0:$.userId)!==v&&b(ed({userId:v,lastCopy:$}))}}return Promise.resolve("")}(this[de],e,t,n,r,a,s)}updateVideoCanvasDimension(e,t,n){return((r,a,s,l)=>{const{mediaAgent:d}=r;return d.updateRenderedVideoCanvasDimension(a.id,s,l),Promise.resolve("")})(this[de],e,t,n)}adjustRenderedVideoPosition(e,t,n,r,a,s,l){return((d,f,p,h,g,v,S,b)=>{const{store:{getState:_,dispatch:E},mediaAgent:A}=d,{video:{subscribedVideoList:w}}=_();if(w.includes(p)){if(f instanceof HTMLVideoElement)return Promise.resolve("");const O=b||Js;A.adjustRenderedVideoPosition(f.id,p,O,v,S,h,g,ob("#000")),E(Xl({userId:p,key:O,canvasId:f.id,aspectRatio:g?h/g:0}))}else console.warn("Cannot adjust the size or position of the video as the video has not been rendered yet.");return Promise.resolve("")})(this[de],e,t,n,r,a,s,l)}clearVideoCanvas(e,t){return((n,r,a)=>{const{mediaAgent:s}=n;return s.clearVideoCanvas(r.id,ob(a)),Promise.resolve("")})(this[de],e,t)}mirrorVideo(e){return((t,n)=>{const{store:{getState:r},mediaAgent:a}=t,{video:{isCurrentUserStartedVideo:s,virtualBackground:l}}=r();return(s||l!=null&&l.isVBConfigured)&&a.mirrorVideo(n),Promise.resolve("")})(this[de],e)}enableHardwareAcceleration(e){return((t,n)=>{const{store:{getState:r,dispatch:a},mediaAgent:s}=t,{video:{isSupportHDVideo:l}}=r();if(typeof n=="boolean"||n.decode!==void 0){const d=typeof n=="boolean"?n:!!n.decode;return d?qe.isSupportVideoDecodeHardwareAcceleration().then(f=>(f&&s.enableHardwareAccelerationForVideoDecode(f),a(Ml({decode:f})),f)):(s.enableHardwareAccelerationForVideoDecode(d),a(Ml({decode:d})),Promise.resolve(!0))}if(typeof n=="boolean"||n.encode!==void 0){const d=typeof n=="boolean"?n:!!n.encode;if(l){if(!d)return s.enableHardwareAccelerationForVideoEncode(!1),a(Ml({encode:!1})),Promise.resolve(!0);if(qe.isCompatibleHardwareForEncode())return qe.isSupportVideoEncodeHardwareAcceleration().then(f=>(f&&s.enableHardwareAccelerationForVideoEncode(f),a(Ml({encode:f})),f));console.warn("Can not turn on hardware acceleration with your graphic card due to the technical limitation")}else typeof n!="boolean"&&n!=null&&n.encode&&console.warn("Can not use the hardware acceleration for video encoding due to the account restriction")}return Promise.resolve(!1)})(this[de],e)}subscribeVideoStatisticData(e){return(async(t,n)=>{const{mediaAgent:r,store:{getState:a,dispatch:s}}=t,{media:{videoDecodeStatus:l,videoEncodeStatus:d},video:{subscriptionStatus:f}}=a(),p=!n||n.decode,h=!n||n.encode;return tr("video",d,l).subscribe(g=>{let[v,S]=g;const b={};p&&S&&!f.decode&&(r.subscribeToQos([jn.VideoDecode],Qa),Object.assign(b,{decode:!0})),h&&v&&!f.encode&&(r.subscribeToQos([jn.VideoEncode],Qa),Object.assign(b,{encode:!0})),n!=null&&n.detailed&&S&&!f.detailed&&(r.enableVideoObserver(!0),Object.assign(b,{detailed:!0})),s(Z_(b))}),null})(this[de],e)}unsubscribeVideoStatisticData(e){return(async(t,n)=>{const{mediaAgent:r,store:{dispatch:a}}=t,s=!n||n.decode,l=!n||n.encode,d={};return s&&(r.unsubscribeFromQos([jn.VideoDecode]),a(ug(us)),Object.assign(d,{decode:!1})),l&&(r.unsubscribeFromQos([jn.VideoEncode]),a(lg(us)),Object.assign(d,{encode:!1})),n!=null&&n.detailed&&(r.enableVideoObserver(!1),Object.assign(d,{detailed:!1})),a(Z_(d)),null})(this[de],e)}previewVirtualBackground(e,t,n){return((r,a,s,l)=>{const{store:{getState:d,dispatch:f},mediaAgent:p}=r,h=d();return gm({imageUrl:s,cropped:l},p,h,a).then(g=>(typeof g=="object"&&g!=null&&g.type&&f(g),f(om({imageUrl:s,cropped:l})),!0)).catch(g=>Promise.reject({type:ae,reason:g}))})(this[de],e,t,n)}updateVirtualBackgroundImage(e,t){return((n,r,a)=>{const{store:{getState:s,dispatch:l},mediaAgent:d}=n,f=s(),{video:{virtualBackground:{imageSrc:p,cropped:h},backgroundMode:g}}=f;return r===p&&a===h?Promise.resolve(!0):g===Zi.Mask?Promise.reject({type:ae,reason:"Cannot update virtual background in the mask mode"}):gm({imageUrl:r,cropped:a},d,f).then(v=>(typeof v=="object"&&v!=null&&v.type&&l(v),l(om({imageUrl:r,cropped:a})),!0)).catch(v=>Promise.reject({type:ae,reason:v}))})(this[de],e,t)}stopPreviewVirtualBackground(){return(e=>{const{store:{getState:t},mediaAgent:n}=e,{video:{virtualBackground:{isVBConfigured:r}}}=t();return r?(n.stopVirtualBackgroundSetting(),Promise.resolve(!0)):Promise.reject({type:ae,reason:"Cannot stop preview virtual background before start"})})(this[de])}previewVideoMask(e,t){return((n,r,a)=>{const{store:{getState:s,dispatch:l},mediaAgent:d}=n,f=s();return a.rootWidth&&a.rootHeight||Object.assign(a,{rootWidth:r.width,rootHeight:r.height}),ym(a,d,f,r).then(p=>(typeof p=="object"&&p!=null&&p.type&&l(p),l(am(a)),!0)).catch(p=>Promise.reject({type:ae,reason:p}))})(this[de],e,t)}updateVideoMask(e){return((t,n)=>{const{store:{getState:r,dispatch:a},mediaAgent:s}=t,l=r(),{video:{mask:d,backgroundMode:f}}=l,{isMaskConfigured:p}=d;if(f===Zi.VirtualBackground)return Promise.reject({type:ae,reason:"Cannot update mask in the virtual background mode"});if(p){const h={...n};return["imageUrl","cropped","clip","rootHeight","rootWidth"].forEach(g=>{(n==null?void 0:n[g])===void 0&&(g==="imageUrl"?Object.assign(h,{imageUrl:d.imageSrc}):Object.assign(h,{[`${g}`]:d[g]}))}),ym(h,s,l).then(g=>(typeof g=="object"&&g!=null&&g.type&&a(g),a(am(h)),!0)).catch(g=>Promise.reject({type:ae,reason:g}))}return Promise.reject({type:ae,reason:"Cannot update mask"})})(this[de],e)}stopPreviewVideoMask(){return(e=>{const{store:{getState:t},mediaAgent:n}=e,{video:{mask:{isMaskConfigured:r}}}=t();return r?(n.stopMaskSetting(),Promise.resolve(!0)):Promise.reject({type:ae,reason:"Cannot stop preview mask before start"})})(this[de])}requestFarEndCameraControl(e){return((t,n)=>{const{store:{getState:r},rwgAgent:a}=t,s=r(),{meeting:{userId:l},video:{farEndCameraControlStatus:{controlledUserList:d}}}=s;return l===n?Promise.reject({type:ae,reason:'Using "stream.controlCamera" method to control self camera'}):gb(s).findIndex(f=>f.userId===n)!==-1?(d.includes(n)||a.sendFarEndCameraControl(dr.Request,n),Promise.resolve("")):Promise.reject({type:Qe,reason:"Cannot request control camera with video off"})})(this[de],e)}approveFarEndCameraControl(e){return((t,n)=>{const{store:{getState:r,dispatch:a},rwgAgent:s}=t,{video:{currentCameraControlStatus:{isRequested:l,isInControl:d,controllingUserId:f},ptz:p,activeCamera:h}}=r();if(l){if(d&&(!f||n===f))return Promise.resolve("");s.sendFarEndCameraControl(dr.Approve,n);const g=p==null?void 0:p[h];return g!==void 0&&s.sendCameraAblity({pan:!!g.pan,tilt:!!g.tilt,zoom:!!g.zoom}),a(dg(!1)),a(cg({isInControl:!0,userId:n})),k(Gm,{isControlled:!0,userId:n}),Promise.resolve("")}return Promise.reject({type:ae,reason:"Cannot approve before request"})})(this[de],e)}declineFarEndCameraControl(e){return((t,n)=>{const{store:{getState:r,dispatch:a},rwgAgent:s}=t,{video:{currentCameraControlStatus:{isInControl:l,isRequested:d}}}=r();return d||l?(s.sendFarEndCameraControl(dr.Decline,n),a(dg(!1)),a(cg({isInControl:!1,userId:0})),k(Gm,{isControlled:!1}),Promise.resolve("")):Promise.reject({type:ae,reason:"Cannot decline before request"})})(this[de],e)}giveUpFarEndCameraControl(e){return((t,n)=>{const{store:{getState:r,dispatch:a},rwgAgent:s}=t,{video:{farEndCameraControlStatus:{controlledUserList:l}}}=r();return l.includes(n)?(s.sendFarEndCameraControl(dr.GiveUp,n),a(fg(n)),Promise.resolve("")):Promise.reject({type:ae,reason:"Cannot give up control befire aquired"})})(this[de],e)}controlCamera(e){return((t,n)=>{const{store:{getState:r,dispatch:a},mediaAgent:s}=t,{video:{isCurrentUserStartedVideo:l,ptz:d,activeCamera:f}}=r();if(l){const{cmd:p,range:h,reset:g}=n,v=d[f];if(v){const S=sC(v)||{},{key:b,range:_}=hV(p,h);if(v[b])return Object.assign(S,{[b]:g?0:pV(v[b].capability,v[b].value,_)}),s.movePTZCamera(S).then(()=>{a(kA({constraints:S,deviceId:f}))}).catch(E=>Promise.reject({type:ae,reason:E}))}return Promise.resolve("")}return Promise.reject({type:ae,reason:"Cannot control the camera before it's started"})})(this[de],e)}controlFarEndCamera(e){return((t,n)=>{const{store:{getState:r,dispatch:a},rwgAgent:s}=t,l=r(),{video:{farEndCameraControlStatus:{controlledUserList:d,isControlling:f}}}=l,{userId:p,cmd:h,range:g}=n;if(f)return Promise.reject({type:ae,reason:"Cannot send new command while the previous control is not done"});if(d.includes(p)){if(h===Za.SwitchCamera)return s.sendFarEndCameraControl(dr.SwitchCamera,p,Za.SwitchCamera),Promise.resolve("");{const v=gb(l).find(S=>S.userId===p);if(v==null||!v.nFECC)return Promise.reject({type:ae,reason:"The far end camera does not support PTZ"});if(g&&g>0){const S=g/100*1e4;return s.sendFarEndCameraControl(dr.StartControl,p,h),a(W_(!0)),du(200).pipe(Ll(On(S-100))).subscribe(()=>{s.sendFarEndCameraControl(dr.ContinueControl,p,h)}),or(On(S).pipe(De(()=>{s.sendFarEndCameraControl(dr.StopControl,p,h),a(W_(!1))}))).then(()=>"")}return Promise.reject({type:Qe,reason:"Range cannot be negative or 0"})}}return Promise.reject({type:ae,reason:"Cannot control before request granted"})})(this[de],e)}attachVideo(e,t,n){return((r,a,s,l)=>{const{store:{getState:d,dispatch:f},rwgAgent:p}=r,h=d(),{meeting:{userId:g},media:{enforceMultipleVideos:v,alternativeNameForVideoPlayer:S,enforceVirtualBackground:b},video:{videoAttachments:_,subscribedVideoList:E}}=h,A=Ql(!!v);if(A>1&&E.length>A)throw Promise.reject({type:ae,reason:`subscribe video counts greater than maximum size (${A})`});if(_m(h).findIndex(W=>W.userId===a)===-1)return Promise.reject({type:Qe,reason:"user is not send video"});const{media:{videoDecodeStatus:w}}=h;let O;const I=S??"video-player";if(l){var V,U,x;if(typeof l=="string"){if(O=document.querySelector(l),!O)return Promise.reject({type:"INVALID_PARAMETERS",reason:"Cannot find the element"})}else O=l;if(((V=O)===null||V===void 0||(U=V.tagName)===null||U===void 0?void 0:U.toUpperCase())!==I.toUpperCase())return Promise.reject({type:"INVALID_PARAMETERS",reason:"Invalid element type"});const W=Number((x=O.getAttribute("node-id"))!==null&&x!==void 0?x:"0");if(W!==a&&Pc(b)&&[W,a].includes(g)){var $;const z=document.createElement(I);for(const L of O.attributes)z.setAttribute(L.name,L.value);W&&(O.setAttribute("node-id","0"),f(sm({userId:W,element:O}))),($=O.parentElement)===null||$===void 0||$.replaceChild(z,O),O=z}}else O=document.createElement(I);return tr("video","success",w).subscribe(async W=>{let[z,L]=W;if(L){const[N,F]=h0(a,s,d()),P=_[`${a}`];var T;O&&P&&P.indexOf(O)!==-1?O.setAttribute("video-quality",`${F}`):(T=O)===null||T===void 0||T.setAttribute("node-id",`${a}`),f(yP({userId:a,element:O})),a!==g&&p.subscribeVideo(a,F,!1),E.includes(a)||f(im(a)),f(Xl({userId:a,key:Js,canvasId:df,videoQuality:N,aspectRatio:16/9}))}}),Promise.resolve(O)})(this[de],e,t,n)}detachVideo(e,t){return((n,r,a)=>{const{store:{getState:s,dispatch:l},rwgAgent:d}=n,f=s(),{video:{subscribedVideoList:p,videoAttachments:h},meeting:{userId:g},media:{alternativeNameForVideoPlayer:v}}=f;if(p.includes(r)){let E;const A=v??"video-player";var S,b;a&&(E=typeof a=="string"?document.querySelector(a):a,((S=E)===null||S===void 0||(b=S.tagName)===null||b===void 0?void 0:b.toUpperCase())!==A.toUpperCase()&&(E=void 0));const w=h[`${r}`];let O;if(w&&w.length!==0){var _;E?w.indexOf(E)!==-1?(O=E,O.setAttribute("node-id","0"),l(sm({userId:r,element:O}))):console.warn(`${a} has not been attached with userID:${r}`):(O=[...w],O.forEach(U=>{U.setAttribute("node-id","0")}),l(sm({userId:r,element:O})));const{video:{videoAttachments:I,renderedVideoList:V}}=s();((_=I[`${r}`])===null||_===void 0?void 0:_.length)===0&&(V.filter(U=>U.userId===r&&U.canvasId!==df).length===0&&(r!==g&&d.unsubscribeVideo(r),l(G_(r))),l(ag({userId:r,key:Js,canvasId:df})))}else console.warn(`UserId:${r} has not been attached.`);return Promise.resolve(O)}return Promise.resolve(void 0)})(this[de],e,t)}isCapturingVideo(){return(e=>{const{store:{getState:t}}=e,n=t();return!!n.video&&n.video.isCurrentUserStartedVideo})(this[de])}isCameraTaken(){return(e=>{const{store:{getState:t}}=e,n=t();return!!n.video&&n.video.isCameraTaken})(this[de])}isCaptureForbidden(){return(e=>{const{store:{getState:t}}=e,n=t();return!!n.video&&n.video.isCaptureForbidden})(this[de])}getCameraList(){return(e=>{const{store:{getState:t}}=e,n=t();if(!n.video)return[];const{video:{cameraDevicesList:r}}=n;return r.map(a=>Object.assign({},a))})(this[de])}getActiveCamera(){return(e=>{const{store:{getState:t}}=e,n=t();return n.video?n.video.activeCamera:""})(this[de])}getActiveVideoId(){return(e=>{const{store:{getState:t}}=e,n=t();return n.video?n.video.activeVideoId:0})(this[de])}getVideoMaxQuality(){return(e=>{const{store:{getState:t}}=e,n=t();return n.video?n.video.receivedVideoMaxQuality:Ai.Video_90P})(this[de])}getReceivedVideoDimension(){return(e=>{const{store:{getState:t}}=e,n=t();return n.video?n.video.receivedVideoDimension:null})(this[de])}getCapturedVideoResolution(){return(e=>{const{store:{getState:t}}=e;return{...t().video.capturedVideoDimension}})(this[de])}isSupportMultipleVideos(){return(e=>{const{store:{getState:t}}=e,{media:{enforceMultipleVideos:n}}=t();return Gg()||!!n&&!window.crossOriginIsolated&&Ql(n)>1})(this[de])}isSupportHDVideo(){return(e=>{var t;const{store:{getState:n}}=e;return(t=n().video)===null||t===void 0?void 0:t.isSupportHDVideo})(this[de])}getHardwareAccelerationStatus(){return(e=>{var t;const{store:{getState:n}}=e;return(t=n().video)===null||t===void 0?void 0:t.hardwareAcceleration})(this[de])}getVideoStatisticData(){return(e=>{let{store:{getState:t}}=e;const{video:{statistic:n}}=t();return{...n}})(this[de])}isSupportVirtualBackground(){return(e=>{const{store:{getState:t}}=e;return cE(t().media.enforceVirtualBackground)})(this[de])}getVirtualbackgroundStatus(){return(e=>{const{store:{getState:t}}=e;return{...t().video.virtualBackground}})(this[de])}isRenderSelfViewWithVideoElement(){return Pc(this[zt].getState().media.enforceVirtualBackground)}getNetworkQuality(e){return((t,n)=>{var r;const{store:{getState:a}}=t,s=a(),{video:l,meeting:{userId:d}}=s,f=n??d,p=l==null||(r=l.networkQuality)===null||r===void 0?void 0:r[`${f}`];if(p){const h={};return p.uplink&&Object.assign(h,{uplink:p.uplink.level}),p.downlink&&Object.assign(h,{downlink:p.downlink.level}),h}return null})(this[de],e)}getFarEndCameraPTZCapability(e){return((t,n)=>{const{store:{getState:r}}=t,a=gb(r()).find(s=>s.userId===n);return(a==null?void 0:a.nFECC)!==void 0?mV(a==null?void 0:a.nFECC):{pan:!1,tilt:!1,zoom:!1}})(this[de],e)}getCameraPTZCapability(e){return((t,n)=>{const{store:{getState:r}}=t,{video:{ptz:a,activeCamera:s}}=r(),l=a[n??s];return{pan:!(l==null||!l.pan),tilt:!(l==null||!l.tilt),zoom:!(l==null||!l.zoom)}})(this[de],e)}isBrowserSupportPTZ(){const{pan:e,tilt:t,zoom:n}=qe.getPTZCapability();return e||t||n}getVideoMaskStatus(){return(e=>{var t;const{store:{getState:n}}=e,r=n(),{isMaskConfigured:a,imageSrc:s,...l}=((t=r.video)===null||t===void 0?void 0:t.mask)||{};return{...l,imageUrl:s}})(this[de])}startShareView(e,t,n){return((r,a,s,l)=>{const{store:{getState:d,dispatch:f},mediaAgent:p,rwgAgent:h}=r,{share:{isReceiveSharing:g,isRemoteSharingActive:v,activeNodeId:S,activeSsrc:b,status:_,renderedEnsuredCanvas:E,isReceiveSharingFromMainSession:A},media:{sharingDecodeStatus:w}}=d();if(!a||s!==S)return Promise.reject({type:Qe,reason:""});if(!v||g||_!==rt.End)return Promise.reject({type:ae,reason:""});a.id||(a.id=sa("__ZOOM_SDK_SHARE_CANVAS_@__"));const O=!!l;return tr("sharing","success",w).subscribe(I=>{let[,V]=I;if(V){let U=a;E.includes(a.id)||(U=fm(a),f(KL(a.id))),f(tg(!0)),nd(h,d(),s),p.renderSharing(b,U,O,l,A);const{audio:x}=d();if(x!=null&&x.localShareAudioUserMutedList){const $=x.localShareAudioUserMutedList.find(W=>W.userId===s);$&&p.setSharingAudioVolume(s,$.muted,$.isFromMainSession)}}}),w==="failed"?Promise.reject({type:bo,reason:""}):Ge(qm,I=>!!I,6e4)})(this[de],e,t,n)}stopShareView(){return(e=>{const{store:{dispatch:t,getState:n},rwgAgent:r,mediaAgent:a}=e,{share:{isReceiveSharing:s,activeNodeId:l},breakoutRoom:d}=n();if(!s)return Promise.resolve("");let f=!1;return(d==null?void 0:d.currentRoom.status)===Ue.InRoom&&d.mainSessionAttendeeList.length>0&&(f=d.mainSessionAttendeeList.findIndex(p=>p.userId===l)>-1),a.stopRenderSharing(),r.unsubscribeSharing(l,f),t(tg(!1)),Promise.resolve("")})(this[de])}switchShareView(e){return((t,n)=>{const{store:{getState:r,dispatch:a},rwgAgent:s,mediaAgent:l}=t,d=r(),{share:{isReceiveSharing:f,activeNodeId:p,isReceiveSharingFromMainSession:h,remoteControlledUserList:g,isGrabRemoteControl:v},audio:S,breakoutRoom:b}=d;if(!f)return Promise.reject({type:ae});if(n===p)return Promise.resolve("");let _=[];return _=h?b.mainSessionAttendeeList.filter(E=>E.bShareToBORooms&&E.sharerOn):mu(d),_.findIndex(E=>E.userId===p)>-1?(g.includes(p)&&(v&&s.subscribeGrabRemoteControl(p,!1),l.updateRemoteControlProperties({isControllerNow:!1})),s.unsubscribeSharing(p,h),nd(s,r(),n),l.switchSharingSource(n,h),g.includes(n)&&dI(n,void 0,d,s,l),S==null||S.localShareAudioUserMutedList.forEach(E=>{l.setSharingAudioVolume(n,E.userId!==n||E.muted,E.isFromMainSession)}),a(eg({bStatus:1,activeNodeID:n,ssrc:n})),k($m,{userId:n}),Promise.resolve("")):Promise.reject({type:Qe,reason:"no matching user id"})})(this[de],e)}updateSharingCanvasDimension(e,t){return((n,r,a)=>{const{store:{getState:s},mediaAgent:l}=n,d=s(),{share:{isReceiveSharing:f,isGrabRemoteControl:p,remoteControlViewportDomSelector:h}}=d;if(f&&(l.updateRenderedSharingDimension(r,a),p&&h)){const g=document.querySelector(h);l.updateRemoteControlProperties({dimension:g&&lE(g)})}return Promise.resolve("")})(this[de],e,t)}startShareScreen(e,t){return((n,r,a)=>{var s;const{store:{getState:l,dispatch:d},mediaAgent:f}=n,p=l(),{meeting:{bIbDisableShare:h,meetingOptions:g},share:{sharePrivilege:v,ssrc:S,isChromeExtensionInstalled:b,capturedEnsuredCanvas:_,isReceiveSharingFromMainSession:E},media:{sharingEncodeStatus:A},breakoutRoom:w}=p,{isSupportMediaStreamTrackProcessor:O,isLegacyChrome:I}=Me;if(h)return Promise.reject({type:ae,reason:"information barrier"});if(typeof((s=navigator.mediaDevices)===null||s===void 0?void 0:s.getDisplayMedia)!="function")return Promise.reject({type:ae,reason:"Unable to share your screen due to the technical limitation"});if(E)return Promise.reject({type:ae,reason:"Unable to share your screen while someone is sharing from the main session"});var V;if(O){if(!(r instanceof HTMLVideoElement))return Promise.reject({type:Qe,reason:"Use Video element instead of Canvas element when WebCodecs enabled"})}else if(!(r instanceof HTMLCanvasElement))return Promise.reject({type:Qe,reason:`Expected to accept HTMLCanvasElement, but actual it is ${typeof r=="object"&&r!==null?(V=Object.getPrototypeOf(r))===null||V===void 0?void 0:V.constructor.name:r}`});const U=ei(p);if(a!=null&&a.broadcastToBreakoutRoom){if(!U||(w==null?void 0:w.currentRoom.status)===Ue.InRoom)return U?Promise.reject({type:ae,reason:"Unable to share screen to breakout room when in the room"}):Promise.reject({type:nr});d(Xc(!0))}else d(Xc(!1));(a==null?void 0:a.requestReadReceipt)!==void 0&&d(qL(a==null?void 0:a.requestReadReceipt)),(a==null?void 0:a.optimizedForSharedVideo)!==void 0&&v!==Jr.MultipleShare&&d(ng((a==null?void 0:a.optimizedForSharedVideo)&&qe.isSupportVideoShareSend()));const x=mu(p);if(v===Jr.OnlyHost&&!U)return Promise.reject({type:nr,reason:"only host can start screen share"});if(v===Jr.HostGrab&&!U&&x.length>0)return Promise.reject({type:nr,reason:"only host can grab screen share"});const $=Ve(p);if(($==null?void 0:$.sharerOn)===!0)return Promise.reject({type:ae,reason:"you have already started screen share."});let W=yt(!0);return I&&!b&&(f.checkChromeSharingExtension(),W=It(v_,1)),r.id||(r.id=sa("__ZOOM_SDK_SELF_SHARE_CANVAS_@__")),Hg([tr("sharing",A,"success"),W]).subscribe(z=>{let[L,T]=z;const[N]=L;if(N&&T){_.includes(r.id)||(fm(r),d($L(r.id)));let F=document.querySelector(`#${wS}`);F&&F.tagName==="VIDEO"||(F=document.createElement("video"),F.id=wS,F.style.display="none",document.body.appendChild(F));const P=a!=null&&a.secondaryCameraId?{cameraId:a.secondaryCameraId,width:a.captureWidth,height:a.captureHeight}:void 0,D=!(a!=null&&a.hideShareAudioOption);f.startDesktopSharing(S,r.id,wS,P,g!=null&&g.isDisableShareAudioIntoBo?D&&!(a!=null&&a.broadcastToBreakoutRoom):D,a==null?void 0:a.displaySurface,a==null?void 0:a.sourceId,a==null?void 0:a.controls),d(FL(!!P))}}),new Promise((z,L)=>{Ri(It(kr).pipe(oe(T=>T.sharerOn!==void 0),ut(1)),It(v_).pipe(oe(T=>!T),ut(1),je(lu({reason:"required extension",extensionUrl:"https://chrome.google.com/webstore/detail/zoom-scheduler/kgjfgplpablkjnlkjmjdecgdpfankdle"}))),It(IN,1).pipe(ue(T=>lu({reason:T.reason||"user deny screen share"})))).subscribe(T=>{if(T.sharerOn===!0){const{share:{isSharingToBreakoutRoom:N},meeting:{meetingOptions:F}}=l(),P=!(F!=null&&F.isDisableShareAudioIntoBo||!N);f.enableShareAudioToBreakoutRoom(P),z("")}else L({type:bo})},T=>{L({type:ae,...T})})})})(this[de],e,t)}stopShareScreen(){return(e=>{const{store:{getState:t,dispatch:n},rwgAgent:r,mediaAgent:a}=e,{share:{status:s},meeting:{userId:l}}=t();return s===rt.End?Promise.resolve(""):(n(ti(rt.End)),r.stopSharing(l),a.stopDesktopSharing(),Ge(kr,d=>d.sharerOn===!1))})(this[de])}pauseShareScreen(){return(e=>{const{store:{getState:t,dispatch:n},rwgAgent:r,mediaAgent:a}=e,{share:{status:s}}=t();return s===rt.Sharing?(r.pauseSharing(),a.pauseDesktopSharing(),Ge(kr,l=>l.sharerPause===!0).then(()=>(n(ti(rt.Paused)),""))):Promise.reject({type:ae})})(this[de])}resumeShareScreen(){return(e=>{const{store:{getState:t,dispatch:n},rwgAgent:r,mediaAgent:a}=e,{share:{status:s}}=t();return s===rt.Paused?(r.resumeSharing(),a.resumeDesktopSharing(),Ge(kr,l=>l.sharerOn===!0&&l.sharerPause===!1).then(()=>(n(ti(rt.Sharing)),""))):Promise.reject({type:ae})})(this[de])}setSharePrivilege(e){return uD(this[de],e)}lockShare(e){return((t,n)=>uD(t,n?Jr.OnlyHost:Jr.HostGrab))(this[de],e)}shareToBreakoutRoom(){return(e=>{const{store:{getState:t,dispatch:n},rwgAgent:r,mediaAgent:a}=e,{meeting:{userId:s},breakoutRoom:l,share:{isSharingToBreakoutRoom:d,status:f}}=t();return f===rt.End?Promise.reject({type:ae,reason:"Invalid sharing status"}):d?Promise.resolve(""):l.currentRoom.status===Ue.InRoom?Promise.reject({type:ae,reason:"Unable to share screen to breakout room when in the room"}):(r.startShareToBreakoutRoom(s),n(Xc(!0)),a.enableShareAudioToBreakoutRoom(!0),Promise.resolve(""))})(this[de])}stopShareToBreakoutRoom(){return(e=>{const{store:{getState:t,dispatch:n},rwgAgent:r,mediaAgent:a}=e,{meeting:{userId:s},share:{isSharingToBreakoutRoom:l}}=t();return l&&(r.stopShareToBreakoutRoom(s),n(Xc(!1)),a.enableShareAudioToBreakoutRoom(!1)),Promise.resolve("")})(this[de])}muteOthersScreenShare(e){return((t,n)=>{const{store:{getState:r},rwgAgent:a}=t,s=r(),{meeting:{userId:l}}=s,d=mu(s);return n===l?Promise.reject({type:ae,reason:"Cannot mute self share, use 'stopScreenShare' instead"}):d.findIndex(f=>f.userId===n)===-1?Promise.reject({type:Qe,reason:"Target user is not sharing"}):(a.stopSharing(n),Ge(Oo,f=>f.some(p=>p.userId===n&&p.sharerOn===!1)))})(this[de],e)}enableOptimizeForSharedVideo(e){return((t,n)=>{const{store:{getState:r,dispatch:a},mediaAgent:s,rwgAgent:l}=t,{share:{status:d,isOptimizedForSharedVideo:f,isSharingToBreakoutRoom:p,sharePrivilege:h},audio:{isSharingAudio:g},meeting:{userId:v}}=r();return d!==rt.End?f===n?Promise.resolve(""):h!==Jr.MultipleShare?n&&!qe.isSupportVideoShareSend()?Promise.reject({type:ae,reason:"Cannot enable optimize for shared video due to the platform is not supported "}):(l.startSharing(v,{bShareAudio:g,bShareToBO:p,bShareVideo:n}),s.switchSharingMode(n?cf.VideoMode:cf.Normal),Ge({event:kr,operations:[oe(S=>S.bVideoShare!==void 0),ut(1)]},S=>S.bVideoShare===n).then(()=>(a(ng(n)),""))):Promise.reject({type:ae,reason:"Cannot enable optimize for shared video when enabling multiple screen shares"}):Promise.reject({type:ae,reason:"Cannot enable optimize for shared video when screen share is not started"})})(this[de],e)}updateSharedVideoQuality(e){return((t,n)=>{const{store:{getState:r,dispatch:a},rwgAgent:s}=t,l=r(),{share:{shareQuality:d,activeNodeId:f,isReceiveSharing:p}}=l,h=gU(l);return p&&f!==0?(h&&d!==n&&(nd(s,l,f,n),a(IA(n))),Promise.resolve("")):Promise.reject({type:ae,reason:"Cannot update shared video quality when screen share is not started"})})(this[de],e)}subscribeShareStatisticData(e){return(async(t,n)=>{const{mediaAgent:r,store:{getState:a}}=t,s=a(),{media:{sharingEncodeStatus:l,sharingDecodeStatus:d}}=a(),f=Ve(s),p=!n||n.decode,h=!n||n.encode;if(!f)return Promise.reject({type:ae,reason:"Call this function after the 'join' method resolved."});{const g=Sn(f.userRole)||!Me.isSupportSendScreenSharing?"failed":l;tr("sharing",g,d).subscribe(v=>{let[S,b]=v;S&&b&&(p&&r.subscribeToQos([jn.SharingDecode],Qa),h&&r.subscribeToQos([jn.SharingEncode],Qa))})}return""})(this[de],e)}unsubscribeShareStatisticData(e){return(async(t,n)=>{const{mediaAgent:r,store:{dispatch:a}}=t,s=!n||n.decode,l=!n||n.encode;return s&&(r.unsubscribeFromQos([jn.SharingDecode]),a(Df(us))),l&&(r.unsubscribeFromQos([jn.SharingEncode]),a(Df(us))),null})(this[de],e)}getShareUserList(){return(e=>{const{store:{getState:t}}=e,n=t();if(!n.share)return[];const{share:{isReceiveSharingFromMainSession:r}}=n;if(r){const{breakoutRoom:{mainSessionAttendeeList:a}}=n;return a.filter(s=>s.bShareToBORooms&&(s.sharerOn||s.sharerPause)).map(s=>ad(s))}return mu(n).map(a=>ad(a))})(this[de])}getActiveShareUserId(){return(e=>{const{store:{getState:t}}=e,n=t();return n.share&&n.share.isRemoteSharingActive?n.share.activeNodeId:0})(this[de])}isReceiveSharing(){return(e=>{const{store:{getState:t}}=e,n=t();return!!n.share&&n.share.isReceiveSharing})(this[de])}getShareViewDimension(){return(e=>{const{store:{getState:t}}=e,n=t();if(n.share){if(n.share.status!==rt.End)return{...n.share.shareDimension};{const{share:{receivedShareDimension:r}}=n;return{width:r.width,height:r.height}}}return null})(this[de])}getShareStatus(){return(e=>{const{store:{getState:t}}=e,n=t();return n.share?n.share.status:null})(this[de])}isShareLocked(){return(e=>{const{store:{getState:t}}=e,n=t();return!!n.share&&n.share.sharePrivilege===Jr.OnlyHost})(this[de])}isReceiveSharingFromMainSession(){return(e=>{const{store:{getState:t}}=e,n=t();return!!n.share&&n.share.isReceiveSharingFromMainSession})(this[de])}getSharePrivilege(){return(e=>{const{store:{getState:t}}=e,n=t();return n.share?n.share.sharePrivilege:null})(this[de])}isStartShareScreenWithVideoElement(){return Me.isSupportMediaStreamTrackProcessor}isOptimizeForSharedVideoEnabled(){return(e=>{const{store:{getState:t}}=e,n=t();return!!n.share&&n.share.isOptimizedForSharedVideo})(this[de])}isSupportOptimizedForSharedVideo(){return qe.isSupportVideoShareSend()}getShareStatisticData(){return(e=>{let{store:{getState:t}}=e;const{share:{statistic:n}}=t();return{...n}})(this[de])}requestRemoteControl(){return(e=>{const{store:{getState:t},rwgAgent:n}=e,{share:{isReceiveSharing:r,activeNodeId:a,isRemoteControlEnabled:s}}=t();return s?lD(e,a)?r?tu(t())?Promise.reject({type:ae,reason:"Already get the approval"}):(n.sharingRequestRemoteControl(a,!0),new Promise(l=>{It(Km,1).subscribe(d=>{l(d)})})):Promise.reject({type:ae,reason:"Cannot request control due to no sharing available"}):Promise.reject({type:Qe}):Promise.reject({type:ae,reason:"Cannot request control due to the feature is not enabled."})})(this[de])}giveUpRemoteControl(){return(e=>{const{store:{getState:t},rwgAgent:n}=e,{share:{isGrabRemoteControl:r,activeNodeId:a}}=t();return tu(t())?(r&&n.subscribeGrabRemoteControl(a,!1),n.sharingRequestRemoteControl(a,!1),Ge(Km,s=>s===!1)):Promise.reject({type:ae})})(this[de])}startRemoteControl(e){return(async(t,n)=>{const{store:{getState:r,dispatch:a},mediaAgent:s,rwgAgent:l}=t,{share:{isSDKGrabControl:d,activeNodeId:f}}=r();return tu(r())?(await dI(f,n,r(),l,s),n.dataset.zmrvId||n.setAttribute("data-zmrv-id",sa("__ZOOM_SDK_RC_VIEWPORT_DATA_ID_@__")),a(ZL(`${n.tagName}[data-zmrv-id="${n.dataset.zmrvId}"]`)),d?Ge(_u,p=>!!p):Ka({success:UN,fail:[VN]})):Promise.reject({type:ae,reason:"required to be approved"})})(this[de],e)}grabRemotoControl(){return(e=>{const{store:{getState:t},rwgAgent:n}=e,{share:{isGrabRemoteControl:r,activeNodeId:a}}=t();return tu(t())?r?Promise.resolve(""):(n.subscribeGrabRemoteControl(a,!0),Ge(_u,s=>!!s)):Promise.reject({type:ae,reason:"should be approved before grab"})})(this[de])}updateRemoteControlViewportDimension(e){return((t,n)=>{const{store:{getState:r},mediaAgent:a}=t;return tu(r())&&a.updateRemoteControlProperties({dimension:{scaleWidth:n.width,scaleHeight:n.height,srcOffsetX:n.left,srcOffsetY:n.top}}),Promise.resolve("")})(this[de],e)}approveRemoteControl(e){return((t,n)=>{const{store:{getState:r,dispatch:a},rwgAgent:s,mediaAgent:l}=t,d=r(),{share:{status:f,isEnableAutoDeleteRcApp:p,remoteControllingSsrc:h,userSsrcMapping:g},meeting:{userId:v}}=d;if(f===rt.End)return Promise.reject({type:ae,reason:"Cannot approve remote control when sharing is not ongoing."});if(f===rt.Paused&&(s.resumeSharing(),l.resumeDesktopSharing(),a(ti(rt.Sharing))),l.isSharingEntireScreen()){var S;h&&!Nr(h,n)&&(Ag(d,s),a(vo("")));const b=(S=g[`${n}`])!==null&&S!==void 0?S:n;return s.remoteControlConsent(Hm.Approve,b,v,{...l.getShareStreamInfo(),platform:Me.isMacOS?"mac":"win"},p),a(Yl(b)),Ge(HN)}return Promise.reject({type:ae,reason:"Cannot approve remote control when not sharing entire screen."})})(this[de],e)}declineRemoteControl(e){return((t,n)=>{var r;const{store:{getState:a},rwgAgent:s,mediaAgent:l}=t,d=a(),{meeting:{userId:f},share:{isEnableAutoDeleteRcApp:p,userSsrcMapping:h}}=d,g=(r=h[`${n}`])!==null&&r!==void 0?r:n;return s.remoteControlConsent(Hm.Decline,g,f,{...l.getShareStreamInfo(),platform:Me.isMacOS?"mac":"win"},p),Promise.resolve("")})(this[de],e)}stopRemoteControl(){return(e=>{const{store:{getState:t,dispatch:n},rwgAgent:r}=e;return Ag(t(),r),n(vo("")),n(Yl(0)),Promise.resolve("")})(this[de])}launchRemoteControlApp(e){return((t,n)=>{const{store:{getState:r,dispatch:a}}=t,s=r(),{share:{remoteControlAppLaunchSheme:l}}=s;return l?(a(vo(n?`${l}&bAutoDelete=1`:l)),a(au(Bn.Unknown)),Promise.resolve("")):Promise.reject({type:ae,reason:"Cannot launch app due to no permission"})})(this[de],e)}isRemoteControlEnabled(){return(e=>{var t;const{store:{getState:n}}=e;return!((t=n().share)===null||t===void 0||!t.isRemoteControlEnabled)})(this[de])}getRemoteControlAppDownloadUrl(){return(e=>{const{store:{getState:t}}=e,n=t();return n.share?n.share.remoteControlAppDownloadUrl:null})(this[de])}isTargetShareSupportRemoteControl(e){return lD(this[de],e)}isRemotelyControlApproved(){return(e=>{const{store:{getState:t}}=e,n=t();return!!n.share&&tu(n)})(this[de])}isControllingUserRemotely(){return(e=>{const{store:{getState:t}}=e,n=t();return!!n.share&&n.share.isGrabRemoteControl})(this[de])}getRemotelyControllingUser(){return(e=>{const{store:{getState:t}}=e,n=t();if(n.share){const{remoteControllingSsrc:r}=n.share;if(r)return kt(n).find(a=>Nr(a.userId,r))}return null})(this[de])}},pe(q.prototype,"startAudio",[me,dD,Dr],Object.getOwnPropertyDescriptor(q.prototype,"startAudio"),q.prototype),pe(q.prototype,"stopAudio",[me,cD,Dr],Object.getOwnPropertyDescriptor(q.prototype,"stopAudio"),q.prototype),pe(q.prototype,"muteAudio",[me,fD,Dr],Object.getOwnPropertyDescriptor(q.prototype,"muteAudio"),q.prototype),pe(q.prototype,"unmuteAudio",[me,pD,Dr],Object.getOwnPropertyDescriptor(q.prototype,"unmuteAudio"),q.prototype),pe(q.prototype,"dialOut",[me,hD,mD],Object.getOwnPropertyDescriptor(q.prototype,"dialOut"),q.prototype),pe(q.prototype,"cancelDialOut",[me,gD,yD],Object.getOwnPropertyDescriptor(q.prototype,"cancelDialOut"),q.prototype),pe(q.prototype,"hangup",[me,vD,Dr],Object.getOwnPropertyDescriptor(q.prototype,"hangup"),q.prototype),pe(q.prototype,"switchMicrophone",[me,SD,Dr],Object.getOwnPropertyDescriptor(q.prototype,"switchMicrophone"),q.prototype),pe(q.prototype,"switchSpeaker",[me,bD,Dr],Object.getOwnPropertyDescriptor(q.prototype,"switchSpeaker"),q.prototype),pe(q.prototype,"muteShareAudio",[me,_D,ED,Dr],Object.getOwnPropertyDescriptor(q.prototype,"muteShareAudio"),q.prototype),pe(q.prototype,"unmuteShareAudio",[me,AD,CD,Dr],Object.getOwnPropertyDescriptor(q.prototype,"unmuteShareAudio"),q.prototype),pe(q.prototype,"subscribeAudioStatisticData",[me,wD,Dr],Object.getOwnPropertyDescriptor(q.prototype,"subscribeAudioStatisticData"),q.prototype),pe(q.prototype,"unsubscribeAudioStatisticData",[me,OD,Dr],Object.getOwnPropertyDescriptor(q.prototype,"unsubscribeAudioStatisticData"),q.prototype),pe(q.prototype,"enableBackgroundNoiseSuppression",[me,TD,Dr],Object.getOwnPropertyDescriptor(q.prototype,"enableBackgroundNoiseSuppression"),q.prototype),pe(q.prototype,"enableSyncButtonsOnHeadset",[me,RD,Dr],Object.getOwnPropertyDescriptor(q.prototype,"enableSyncButtonsOnHeadset"),q.prototype),pe(q.prototype,"enableOriginalSound",[me,ID,Dr],Object.getOwnPropertyDescriptor(q.prototype,"enableOriginalSound"),q.prototype),pe(q.prototype,"startVideo",[me,DD,hn],Object.getOwnPropertyDescriptor(q.prototype,"startVideo"),q.prototype),pe(q.prototype,"stopVideo",[me,MD,hn],Object.getOwnPropertyDescriptor(q.prototype,"stopVideo"),q.prototype),pe(q.prototype,"switchCamera",[me,kD,hn],Object.getOwnPropertyDescriptor(q.prototype,"switchCamera"),q.prototype),pe(q.prototype,"renderVideo",[m6,me,ND,hn],Object.getOwnPropertyDescriptor(q.prototype,"renderVideo"),q.prototype),pe(q.prototype,"stopRenderVideo",[I1,me,LD,hn],Object.getOwnPropertyDescriptor(q.prototype,"stopRenderVideo"),q.prototype),pe(q.prototype,"updateVideoCanvasDimension",[R1,me,PD,hn],Object.getOwnPropertyDescriptor(q.prototype,"updateVideoCanvasDimension"),q.prototype),pe(q.prototype,"adjustRenderedVideoPosition",[I1,me,UD,hn],Object.getOwnPropertyDescriptor(q.prototype,"adjustRenderedVideoPosition"),q.prototype),pe(q.prototype,"clearVideoCanvas",[R1,me,VD,hn],Object.getOwnPropertyDescriptor(q.prototype,"clearVideoCanvas"),q.prototype),pe(q.prototype,"mirrorVideo",[me,jD,hn],Object.getOwnPropertyDescriptor(q.prototype,"mirrorVideo"),q.prototype),pe(q.prototype,"enableHardwareAcceleration",[me,BD,hn],Object.getOwnPropertyDescriptor(q.prototype,"enableHardwareAcceleration"),q.prototype),pe(q.prototype,"subscribeVideoStatisticData",[me,xD,hn],Object.getOwnPropertyDescriptor(q.prototype,"subscribeVideoStatisticData"),q.prototype),pe(q.prototype,"unsubscribeVideoStatisticData",[me,HD,hn],Object.getOwnPropertyDescriptor(q.prototype,"unsubscribeVideoStatisticData"),q.prototype),pe(q.prototype,"previewVirtualBackground",[yb,me,zD,hn],Object.getOwnPropertyDescriptor(q.prototype,"previewVirtualBackground"),q.prototype),pe(q.prototype,"updateVirtualBackgroundImage",[me,FD,hn],Object.getOwnPropertyDescriptor(q.prototype,"updateVirtualBackgroundImage"),q.prototype),pe(q.prototype,"stopPreviewVirtualBackground",[me,GD,hn],Object.getOwnPropertyDescriptor(q.prototype,"stopPreviewVirtualBackground"),q.prototype),pe(q.prototype,"previewVideoMask",[yb,me,qD,hn],Object.getOwnPropertyDescriptor(q.prototype,"previewVideoMask"),q.prototype),pe(q.prototype,"updateVideoMask",[me,$D,hn],Object.getOwnPropertyDescriptor(q.prototype,"updateVideoMask"),q.prototype),pe(q.prototype,"stopPreviewVideoMask",[me,KD,hn],Object.getOwnPropertyDescriptor(q.prototype,"stopPreviewVideoMask"),q.prototype),pe(q.prototype,"requestFarEndCameraControl",[me,WD,Il],Object.getOwnPropertyDescriptor(q.prototype,"requestFarEndCameraControl"),q.prototype),pe(q.prototype,"approveFarEndCameraControl",[me,QD,Il],Object.getOwnPropertyDescriptor(q.prototype,"approveFarEndCameraControl"),q.prototype),pe(q.prototype,"declineFarEndCameraControl",[me,ZD,Il],Object.getOwnPropertyDescriptor(q.prototype,"declineFarEndCameraControl"),q.prototype),pe(q.prototype,"giveUpFarEndCameraControl",[me,JD,Il],Object.getOwnPropertyDescriptor(q.prototype,"giveUpFarEndCameraControl"),q.prototype),pe(q.prototype,"controlCamera",[me,YD,Il],Object.getOwnPropertyDescriptor(q.prototype,"controlCamera"),q.prototype),pe(q.prototype,"controlFarEndCamera",[me,XD,Il],Object.getOwnPropertyDescriptor(q.prototype,"controlFarEndCamera"),q.prototype),pe(q.prototype,"attachVideo",[me,e1,hn],Object.getOwnPropertyDescriptor(q.prototype,"attachVideo"),q.prototype),pe(q.prototype,"detachVideo",[me,t1,hn],Object.getOwnPropertyDescriptor(q.prototype,"detachVideo"),q.prototype),pe(q.prototype,"startShareView",[yb,me,n1,Yn],Object.getOwnPropertyDescriptor(q.prototype,"startShareView"),q.prototype),pe(q.prototype,"stopShareView",[me,r1,Yn],Object.getOwnPropertyDescriptor(q.prototype,"stopShareView"),q.prototype),pe(q.prototype,"switchShareView",[me,i1,Yn],Object.getOwnPropertyDescriptor(q.prototype,"switchShareView"),q.prototype),pe(q.prototype,"updateSharingCanvasDimension",[me,o1,Yn],Object.getOwnPropertyDescriptor(q.prototype,"updateSharingCanvasDimension"),q.prototype),pe(q.prototype,"startShareScreen",[me,a1,Yn],Object.getOwnPropertyDescriptor(q.prototype,"startShareScreen"),q.prototype),pe(q.prototype,"stopShareScreen",[me,s1,Yn],Object.getOwnPropertyDescriptor(q.prototype,"stopShareScreen"),q.prototype),pe(q.prototype,"pauseShareScreen",[me,u1,Yn],Object.getOwnPropertyDescriptor(q.prototype,"pauseShareScreen"),q.prototype),pe(q.prototype,"resumeShareScreen",[me,l1,Yn],Object.getOwnPropertyDescriptor(q.prototype,"resumeShareScreen"),q.prototype),pe(q.prototype,"setSharePrivilege",[Ci,d1,me,Yn],Object.getOwnPropertyDescriptor(q.prototype,"setSharePrivilege"),q.prototype),pe(q.prototype,"lockShare",[Ci,c1,me,Yn],Object.getOwnPropertyDescriptor(q.prototype,"lockShare"),q.prototype),pe(q.prototype,"shareToBreakoutRoom",[me,Ci,f1,Yn],Object.getOwnPropertyDescriptor(q.prototype,"shareToBreakoutRoom"),q.prototype),pe(q.prototype,"stopShareToBreakoutRoom",[me,Ci,p1,Yn],Object.getOwnPropertyDescriptor(q.prototype,"stopShareToBreakoutRoom"),q.prototype),pe(q.prototype,"muteOthersScreenShare",[me,Ci,h1,Yn],Object.getOwnPropertyDescriptor(q.prototype,"muteOthersScreenShare"),q.prototype),pe(q.prototype,"enableOptimizeForSharedVideo",[me,m1,Yn],Object.getOwnPropertyDescriptor(q.prototype,"enableOptimizeForSharedVideo"),q.prototype),pe(q.prototype,"updateSharedVideoQuality",[me,g1,Yn],Object.getOwnPropertyDescriptor(q.prototype,"updateSharedVideoQuality"),q.prototype),pe(q.prototype,"subscribeShareStatisticData",[me,y1,Yn],Object.getOwnPropertyDescriptor(q.prototype,"subscribeShareStatisticData"),q.prototype),pe(q.prototype,"unsubscribeShareStatisticData",[me,v1,Yn],Object.getOwnPropertyDescriptor(q.prototype,"unsubscribeShareStatisticData"),q.prototype),pe(q.prototype,"requestRemoteControl",[me,S1,Yo],Object.getOwnPropertyDescriptor(q.prototype,"requestRemoteControl"),q.prototype),pe(q.prototype,"giveUpRemoteControl",[me,b1,Yo],Object.getOwnPropertyDescriptor(q.prototype,"giveUpRemoteControl"),q.prototype),pe(q.prototype,"startRemoteControl",[me,_1,Yo],Object.getOwnPropertyDescriptor(q.prototype,"startRemoteControl"),q.prototype),pe(q.prototype,"grabRemotoControl",[me,E1,Yo],Object.getOwnPropertyDescriptor(q.prototype,"grabRemotoControl"),q.prototype),pe(q.prototype,"updateRemoteControlViewportDimension",[me,A1,Yo],Object.getOwnPropertyDescriptor(q.prototype,"updateRemoteControlViewportDimension"),q.prototype),pe(q.prototype,"approveRemoteControl",[me,C1,Yo],Object.getOwnPropertyDescriptor(q.prototype,"approveRemoteControl"),q.prototype),pe(q.prototype,"declineRemoteControl",[me,w1,Yo],Object.getOwnPropertyDescriptor(q.prototype,"declineRemoteControl"),q.prototype),pe(q.prototype,"stopRemoteControl",[me,O1,Yo],Object.getOwnPropertyDescriptor(q.prototype,"stopRemoteControl"),q.prototype),pe(q.prototype,"launchRemoteControlApp",[me,T1,Yo],Object.getOwnPropertyDescriptor(q.prototype,"launchRemoteControlApp"),q.prototype),q);var D1,M1,k1,N1,L1,P1,mn;const zc=Mi("Audio"),y6=Mi("Sharing");let v6=(D1=Re("share"),M1=Re("audio"),k1=Re("audio"),N1=Re("audio"),L1=Re("audio"),P1=Re("audio"),mn=class extends g6{switchSharingSecondaryCamera(e){return((t,n)=>{const{store:{getState:r,dispatch:a},mediaAgent:s}=t,l=r(),{video:{cameraDevicesList:d},share:{status:f,isSharingWithSecondCamera:p}}=l;return n!=="default"&&d.map(h=>h.deviceId).indexOf(n)===-1?Promise.reject({type:Qe,reason:"Cannot find cameraDeviceId in camera devices list."}):(f===rt.Sharing&&p&&s.changeSharingSecondCamera(n),a(GL(n)),Promise.resolve())})(this[de],e)}muteUserAudioLocally(e){return((t,n)=>{const{mediaAgent:r,store:{getState:a,dispatch:s}}=t,l=a(),{audio:{locallyMutedAudioList:d}}=l,f=kt(l).filter(p=>p.audio===bt.Computer);return d.includes(n)||f.findIndex(p=>p.userId===n)===-1||(r.muteOrUnmuteOtherAudio(n,!0),s(LL(n))),Promise.resolve("")})(this[de],e)}unmuteUserAudioLocally(e){return((t,n)=>{const{mediaAgent:r,store:{getState:a,dispatch:s}}=t,{audio:{locallyMutedAudioList:l}}=a();return l.includes(n)&&(r.muteOrUnmuteOtherAudio(n,!1),s(Xm(n))),Promise.resolve("")})(this[de],e)}adjustUserAudioVolumeLocally(e,t){return((n,r,a)=>{const{mediaAgent:s,store:{getState:l,dispatch:d}}=n,f=l();return kt(f).findIndex(p=>p.userId===r)!==-1&&(s.adjustOtherAudioVolume(r,a),d(PL({userId:r,volume:a}))),Promise.resolve("")})(this[de],e,t)}muteAllUserAudioLocally(){return(e=>{const{mediaAgent:t,store:{getState:n,dispatch:r}}=e,{audio:{isStopAllImcomingAudio:a}}=n();return a||(t.stopAllIncomingAudio(!0),r(P_(!0))),Promise.resolve("")})(this[de])}unmuteAllUserAudioLocally(){return(e=>{const{mediaAgent:t,store:{getState:n,dispatch:r}}=e,{audio:{isStopAllImcomingAudio:a,locallyMutedAudioList:s}}=n();return a&&(t.stopAllIncomingAudio(!1),r(P_(!1)),s.length>0&&s.forEach(l=>{t.muteOrUnmuteOtherAudio(l,!1),r(Xm(l))})),Promise.resolve("")})(this[de])}isUserAudioMutedLocally(e){return((t,n)=>{let{store:{getState:r}}=t;const{audio:{locallyMutedAudioList:a}}=r();return a.includes(n)})(this[de],e)}getUserVolumeLocally(e){return((t,n)=>{var r,a;let{store:{getState:s}}=t;const{audio:{localUserAudioVolumeList:l,locallyMutedAudioList:d}}=s();return(r=(a=l.find(f=>f.userId===n))===null||a===void 0?void 0:a.volume)!==null&&r!==void 0?r:d.includes(n)?0:100})(this[de],e)}},pe(mn.prototype,"switchSharingSecondaryCamera",[me,D1,y6],Object.getOwnPropertyDescriptor(mn.prototype,"switchSharingSecondaryCamera"),mn.prototype),pe(mn.prototype,"muteUserAudioLocally",[me,M1,zc],Object.getOwnPropertyDescriptor(mn.prototype,"muteUserAudioLocally"),mn.prototype),pe(mn.prototype,"unmuteUserAudioLocally",[me,k1,zc],Object.getOwnPropertyDescriptor(mn.prototype,"unmuteUserAudioLocally"),mn.prototype),pe(mn.prototype,"adjustUserAudioVolumeLocally",[me,N1,zc],Object.getOwnPropertyDescriptor(mn.prototype,"adjustUserAudioVolumeLocally"),mn.prototype),pe(mn.prototype,"muteAllUserAudioLocally",[me,L1,zc],Object.getOwnPropertyDescriptor(mn.prototype,"muteAllUserAudioLocally"),mn.prototype),pe(mn.prototype,"unmuteAllUserAudioLocally",[me,P1,zc],Object.getOwnPropertyDescriptor(mn.prototype,"unmuteAllUserAudioLocally"),mn.prototype),mn);const Vh={controlStatus:tt.NotStarted,sequenceId:1,rooms:[],isHugeBO:!1,allocationPattern:Tf.Automatically,currentRoom:{status:Ue.Initial,boStatus:_L.NoToken,boConfId:"",boId:"",name:"",boToken:""},options:{isAutoJoinRoom:!1,isBackToMainSessionEnabled:!0,isTimerEnabled:!1,timerDuration:1800,isTimerAutoEnabled:!1,waitSeconds:60},mainSessionAttendeeList:[],preAssignedRooms:[],meetingElapsedTime:0,startRoomElapsedTime:0,closingRoomTime:0,broadcastMessage:"",hostReplyToQuestionerType:void 0,hostReplyToRequestId:void 0,isUserRoleUpdated:!1,mainSessionConfId:"",isEnableBOBroadcast:!1,isEnableBreakoutRoom:!1},S6=br({[`${wP}`]:B((e,t)=>{let{payload:n}=t;Array.isArray(n)?e.rooms.push(...n):e.rooms.push(n)}),[`${OP}`]:B((e,t)=>{let{payload:n}=t;e.allocationPattern=n}),[`${VA}`]:B((e,t)=>{let{payload:n}=t;e.sequenceId=n}),[`${J_}`]:B((e,t)=>{let{payload:n}=t;e.meetingElapsedTime=n}),[`${TP}`]:B((e,t)=>{let{payload:n}=t;e.startRoomElapsedTime=n}),[`${RP}`]:B((e,t)=>{let{payload:n}=t;const{options:r}=e;Object.assign(r,n)}),[`${IP}`]:B((e,t)=>{let{payload:n}=t;e.controlStatus=n}),[`${lm}`]:B((e,t)=>{let{payload:n}=t;e.rooms=n}),[`${hg}`]:B((e,t)=>{let{payload:n}=t;const{currentRoom:r}=e;Object.assign(r,n)}),[`${Eu}`]:B((e,t)=>{let{payload:n}=t;const{currentRoom:r}=e;r.status=n}),[`${Y_}`]:B((e,t)=>{let{payload:n}=t;const{currentRoom:r}=e;r.boConfId=n}),[`${X_}`]:B((e,t)=>{let{payload:n}=t;const{currentRoom:r}=e;r.boToken=n}),[`${eE}`]:B((e,t)=>{let{payload:n}=t;e.closingRoomTime=n}),[`${MP}`]:B((e,t)=>{let{payload:n}=t;e.broadcastMessage=n}),[`${jA}`]:B((e,t)=>{let{payload:n}=t;e.hostReplyToQuestionerType=n}),[`${kP}`]:B((e,t)=>{let{payload:n}=t;e.hostReplyToRequestId=n}),[`${NP}`]:B((e,t)=>{let{payload:n}=t;n.add!==void 0&&n.add.length>0&&n.add.forEach(r=>{const a=e.mainSessionAttendeeList.find(s=>s.userId===r.userId);a!==void 0?Object.assign(a,r):Qm(r.userRole)||e.mainSessionAttendeeList.push(r)}),n.update!==void 0&&n.update.length>0&&n.update.forEach(r=>{const a=e.mainSessionAttendeeList.find(s=>s.userId===r.userId);a!==void 0&&Object.assign(a,r)}),n.remove!==void 0&&n.remove.length>0&&n.remove.forEach(r=>{const a=e.mainSessionAttendeeList.findIndex(s=>s.userId===r.userId);a!==-1&&e.mainSessionAttendeeList.splice(a,1)})}),[`${LP}`]:B((e,t)=>{let{payload:n}=t;e.isHugeBO=n}),[`${nE}`]:B((e,t)=>{let{payload:n}=t;e.isUserRoleUpdated=n}),[`${tE}`]:B((e,t)=>{let{payload:n}=t;e.preAssignedRooms=n}),[`${PP}`]:B((e,t)=>{let{payload:n}=t;e.isEnableBreakoutRoom=n.isEnableBreakoutRoom,e.isEnableBOBroadcast=n.isEnableBOBroadcast}),[`${DP}`]:e=>{const{currentRoom:{status:t}}=e;return t===Ue.Joining?{...Vh,preAssignedRooms:e.preAssignedRooms,currentRoom:e.currentRoom,closingRoomTime:e.closingRoomTime}:t===Ue.Leaving?{...Vh,preAssignedRooms:e.preAssignedRooms,closingRoomTime:e.closingRoomTime}:{...Vh,preAssignedRooms:e.preAssignedRooms}}},Vh);var Hn=Uint8Array,Ur=Uint16Array,Jg=Uint32Array,Yg=new Hn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Xg=new Hn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),kE=new Hn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),MV=function(e,t){for(var n=new Ur(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var a=new Jg(n[30]);for(r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)a[s]=s-n[r]<<5|r;return[n,a]},kV=MV(Yg,2),NV=kV[0],NE=kV[1];NV[28]=258,NE[258]=28;for(var U1=MV(Xg,0),b6=U1[0],V1=U1[1],LE=new Ur(32768),Gt=0;Gt<32768;++Gt){var Ws=(43690&Gt)>>>1|(21845&Gt)<<1;Ws=(61680&(Ws=(52428&Ws)>>>2|(13107&Ws)<<2))>>>4|(3855&Ws)<<4,LE[Gt]=((65280&Ws)>>>8|(255&Ws)<<8)>>>1}var Ao=function(e,t,n){for(var r=e.length,a=0,s=new Ur(t);a<r;++a)e[a]&&++s[e[a]-1];var l,d=new Ur(t);for(a=0;a<t;++a)d[a]=d[a-1]+s[a-1]<<1;if(n){l=new Ur(1<<t);var f=15-t;for(a=0;a<r;++a)if(e[a])for(var p=a<<4|e[a],h=t-e[a],g=d[e[a]-1]++<<h,v=g|(1<<h)-1;g<=v;++g)l[LE[g]>>>f]=p}else for(l=new Ur(r),a=0;a<r;++a)e[a]&&(l[a]=LE[d[e[a]-1]++]>>>15-e[a]);return l},gs=new Hn(288);for(Gt=0;Gt<144;++Gt)gs[Gt]=8;for(Gt=144;Gt<256;++Gt)gs[Gt]=9;for(Gt=256;Gt<280;++Gt)gs[Gt]=7;for(Gt=280;Gt<288;++Gt)gs[Gt]=8;var zf=new Hn(32);for(Gt=0;Gt<32;++Gt)zf[Gt]=5;var _6=Ao(gs,9,0),E6=Ao(gs,9,1),A6=Ao(zf,5,0),C6=Ao(zf,5,1),vb=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Bi=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},Sb=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},lC=function(e){return(e+7)/8|0},jg=function(e,t,n){(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length);var r=new(e.BYTES_PER_ELEMENT==2?Ur:e.BYTES_PER_ELEMENT==4?Jg:Hn)(n-t);return r.set(e.subarray(t,n)),r},w6=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],co=function(e,t,n){var r=new Error(t||w6[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,co),!n)throw r;return r},Xo=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8},Fc=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},bb=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var a=n.length,s=n.slice();if(!a)return[PV,0];if(a==1){var l=new Hn(n[0].s+1);return l[n[0].s]=1,[l,1]}n.sort(function(V,U){return V.f-U.f}),n.push({s:-1,f:25001});var d=n[0],f=n[1],p=0,h=1,g=2;for(n[0]={s:-1,f:d.f+f.f,l:d,r:f};h!=a-1;)d=n[n[p].f<n[g].f?p++:g++],f=n[p!=h&&n[p].f<n[g].f?p++:g++],n[h++]={s:-1,f:d.f+f.f,l:d,r:f};var v=s[0].s;for(r=1;r<a;++r)s[r].s>v&&(v=s[r].s);var S=new Ur(v+1),b=PE(n[h-1],S,0);if(b>t){r=0;var _=0,E=b-t,A=1<<E;for(s.sort(function(V,U){return S[U.s]-S[V.s]||V.f-U.f});r<a;++r){var w=s[r].s;if(!(S[w]>t))break;_+=A-(1<<b-S[w]),S[w]=t}for(_>>>=E;_>0;){var O=s[r].s;S[O]<t?_-=1<<t-S[O]++-1:++r}for(;r>=0&&_;--r){var I=s[r].s;S[I]==t&&(--S[I],++_)}b=t}return[new Hn(S),b]},PE=function(e,t,n){return e.s==-1?Math.max(PE(e.l,t,n+1),PE(e.r,t,n+1)):t[e.s]=n},j1=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ur(++t),r=0,a=e[0],s=1,l=function(f){n[r++]=f},d=1;d<=t;++d)if(e[d]==a&&d!=t)++s;else{if(!a&&s>2){for(;s>138;s-=138)l(32754);s>2&&(l(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(l(a),--s;s>6;s-=6)l(8304);s>2&&(l(s-3<<5|8208),s=0)}for(;s--;)l(a);s=1,a=e[d]}return[n.subarray(0,r),t]},Gc=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},LV=function(e,t,n){var r=n.length,a=lC(t+2);e[a]=255&r,e[a+1]=r>>>8,e[a+2]=255^e[a],e[a+3]=255^e[a+1];for(var s=0;s<r;++s)e[a+s+4]=n[s];return 8*(a+4+r)},B1=function(e,t,n,r,a,s,l,d,f,p,h){Xo(t,h++,n),++a[256];for(var g=bb(a,15),v=g[0],S=g[1],b=bb(s,15),_=b[0],E=b[1],A=j1(v),w=A[0],O=A[1],I=j1(_),V=I[0],U=I[1],x=new Ur(19),$=0;$<w.length;++$)x[31&w[$]]++;for($=0;$<V.length;++$)x[31&V[$]]++;for(var W=bb(x,7),z=W[0],L=W[1],T=19;T>4&&!z[kE[T-1]];--T);var N,F,P,D,K=p+5<<3,J=Gc(a,gs)+Gc(s,zf)+l,re=Gc(a,v)+Gc(s,_)+l+14+3*T+Gc(x,z)+(2*x[16]+3*x[17]+7*x[18]);if(K<=J&&K<=re)return LV(t,h,e.subarray(f,f+p));if(Xo(t,h,1+(re<J)),h+=2,re<J){N=Ao(v,S,0),F=v,P=Ao(_,E,0),D=_;var M=Ao(z,L,0);for(Xo(t,h,O-257),Xo(t,h+5,U-1),Xo(t,h+10,T-4),h+=14,$=0;$<T;++$)Xo(t,h+3*$,z[kE[$]]);h+=3*T;for(var X=[w,V],ye=0;ye<2;++ye){var Ee=X[ye];for($=0;$<Ee.length;++$){var se=31&Ee[$];Xo(t,h,M[se]),h+=z[se],se>15&&(Xo(t,h,Ee[$]>>>5&127),h+=Ee[$]>>>12)}}}else N=_6,F=gs,P=A6,D=zf;for($=0;$<d;++$)if(r[$]>255){se=r[$]>>>18&31,Fc(t,h,N[se+257]),h+=F[se+257],se>7&&(Xo(t,h,r[$]>>>23&31),h+=Yg[se]);var we=31&r[$];Fc(t,h,P[we]),h+=D[we],we>3&&(Fc(t,h,r[$]>>>5&8191),h+=Xg[we])}else Fc(t,h,N[r[$]]),h+=F[r[$]];return Fc(t,h,N[256]),h+F[256]},O6=new Jg([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),PV=new Hn(0),T6=function(){for(var e=new Int32Array(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&-306674912)^n>>>1;e[t]=n}return e}(),_b=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8};function R6(e,t){t||(t={});var n=function(){var l=-1;return{p:function(d){for(var f=l,p=0;p<d.length;++p)f=T6[255&f^d[p]]^f>>>8;l=f},d:function(){return~l}}}(),r=e.length;n.p(e);var a=function(l,d,f,p,h){return function(g,v,S,b,_,E){var A=g.length,w=new Hn(b+A+5*(1+Math.ceil(A/7e3))+_),O=w.subarray(b,w.length-_),I=0;if(!v||A<8)for(var V=0;V<=A;V+=65535){var U=V+65535;U>=A&&(O[I>>3]=E),I=LV(O,I+1,g.subarray(V,U))}else{for(var x=O6[v-1],$=x>>>13,W=8191&x,z=(1<<S)-1,L=new Ur(32768),T=new Ur(z+1),N=Math.ceil(S/3),F=2*N,P=function(dt){return(g[dt]^g[dt+1]<<N^g[dt+2]<<F)&z},D=new Jg(25e3),K=new Ur(288),J=new Ur(32),re=0,M=0,X=(V=0,0),ye=0,Ee=0;V<A;++V){var se=P(V),we=32767&V,Oe=T[se];if(L[we]=Oe,T[se]=we,ye<=V){var Ye=A-V;if((re>7e3||X>24576)&&Ye>423){I=B1(g,O,0,D,K,J,M,X,Ee,V-Ee,I),X=re=M=0,Ee=V;for(var Le=0;Le<286;++Le)K[Le]=0;for(Le=0;Le<30;++Le)J[Le]=0}var Q=2,G=0,j=W,ie=we-Oe&32767;if(Ye>2&&se==P(V-ie))for(var Se=Math.min($,Ye)-1,Ne=Math.min(32767,V),Pe=Math.min(258,Ye);ie<=Ne&&--j&&we!=Oe;){if(g[V+Q]==g[V+Q-ie]){for(var xe=0;xe<Pe&&g[V+xe]==g[V+xe-ie];++xe);if(xe>Q){if(Q=xe,G=ie,xe>Se)break;var ze=Math.min(ie,xe-2),Ze=0;for(Le=0;Le<ze;++Le){var Ke=V-ie+Le+32768&32767,We=Ke-L[Ke]+32768&32767;We>Ze&&(Ze=We,Oe=Ke)}}}ie+=(we=Oe)-(Oe=L[we])+32768&32767}if(G){D[X++]=268435456|NE[Q]<<18|V1[G];var lt=31&NE[Q],pt=31&V1[G];M+=Yg[lt]+Xg[pt],++K[257+lt],++J[pt],ye=V+Q,++re}else D[X++]=g[V],++K[g[V]]}}I=B1(g,O,E,D,K,J,M,X,Ee,V-Ee,I)}return jg(w,0,b+lC(I)+_)}(l,d.level==null?6:d.level,d.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(l.length)))):12+d.mem,f,p,!0)}(e,t,function(l){return 10+(l.filename&&l.filename.length+1||0)}(t),8),s=a.length;return function(l,d){var f=d.filename;if(l[0]=31,l[1]=139,l[2]=8,l[8]=d.level<2?4:d.level==9?2:0,l[9]=3,d.mtime!=0&&_b(l,4,Math.floor(new Date(d.mtime||Date.now())/1e3)),f){l[3]=8;for(var p=0;p<=f.length;++p)l[p+10]=f.charCodeAt(p)}}(a,t),_b(a,s-8,n.d()),_b(a,s-4,r),a}var x1=typeof TextEncoder<"u"&&new TextEncoder,UE=typeof TextDecoder<"u"&&new TextDecoder;try{UE.decode(PV,{stream:!0})}catch{}const{WebclientBreakoutRoomAttendeeStatus:dC,WebclientBreakoutRoomCommand:I6}=Ct,Eb=Ar(qe.getInstance());function ta(e,t){let n=0;for(;n<e.length;n++){const r=e[n],{attendeeGuidList:a}=r;if(a!=null&&a.includes(t))break}return n<e.length?e[n]:void 0}function kl(){Je.remove(dC),Je.remove(I6)}function VE(){return at.createAgent().leaveBO(1),k(vr,{reason:zn.BackToMainSession}),kl(),[Eu(Ue.Leaving),rr(Tn.NormalCase)]}function Ab(e,t){return k(vr,{reason:zn.JoinBreakoutRoom,roomName:e}),t===Ue.InRoom&&at.createAgent().leaveBO(1),[Eu(Ue.Joining),rr(Tn.NormalCase)]}function H1(e){return k(vr,{reason:zn.MoveToBreakoutRoom,roomName:e}),at.createAgent().leaveBO(1),[Eu(Ue.Joining),rr(Tn.NormalCase)]}function jh(e){const t=arguments.length>1&&arguments[1]!==void 0&&arguments[1]?Ue.InRoom:Ue.Invited;return Je.set(dC,JSON.stringify({status:t,boId:e.boId}),ft.SessionStorage),hg({status:t,boId:e.boId,name:e.name,boStatus:e.boStatus})}function Cb(e){const{breakoutRoom:{isUserRoleUpdated:t,currentRoom:{boConfId:n}}}=e.value,r=Ve(e.value);return r&&(!n||n&&t)?yt(r.isHost):(n?It(C_,1):It(Qf,2).pipe(qn(function(s,l){var d=[];s.subscribe(ln(l,function(f){d.push(f),1<d.length&&d.shift()},function(){var f,p;try{for(var h=ud(d),g=h.next();!g.done;g=h.next()){var v=g.value;l.next(v)}}catch(S){f={error:S}}finally{try{g&&!g.done&&(p=h.return)&&p.call(h)}finally{if(f)throw f.error}}l.complete()},void 0,function(){d=null}))}))).pipe(Sr(qf),Ie(e),Ae(s=>{let[,l]=s;return Ve(l).isHost}))}function UV(e){return Hg({boIdList:It(rL).pipe(QB((t,n)=>[...t,n],[]),ut(e))}).pipe(IM(1e4))}const xi=at.createAgent(),z1=["userRole","bCoHost","bCCEditor","bHold"],D6=at.createAgent(),M6=Ar(qe.getInstance());var mt;const vi=at.createAgent(),so=Mi("Breakout Room");let k6=(mt=class extends To{createRooms(e,t){const n=this[Te](),r=this[un],{breakoutRoom:{isHugeBO:a,sequenceId:s,rooms:l,controlStatus:d,isEnableBreakoutRoom:f}}=n;if(!f)return Promise.reject({type:ae,reason:"Breakout room feature is not enabled."});if(d===tt.InProgress||d===tt.Closing)return Promise.resolve({type:ae,reason:"breakout room has started!"});let p;p=typeof e=="string"?[e]:typeof e=="number"?Array.from({length:e}).map((g,v)=>`Subsession ${v+s}`):e;const h=a?100:50;return p.length<1||l.length+p.length>h?Promise.reject({type:Qe,reason:"exceed maximum size"}):(vi.batchCreateBOToken(p),new Promise((g,v)=>{UV(p.length).subscribe(S=>{let{boIdList:b}=S,_=b.map((A,w)=>({boId:A,name:p[w]}));if(t===Tf.Automatically){const A=pb(n),w=_.length,O=A.length;_=_.map((I,V)=>{const U=[];let x=V;for(;x<O;)U.push(A[x]),x+=w;return{...I,attendeeList:U}})}const E=_.map(A=>{let{boId:w,name:O,attendeeList:I}=A;return{boId:w,name:O,attendeeGuidList:I&&I.map(V=>V.userGUID)}});if(r(wP(E)),r(OP(t)),r(VA(s+_.length)),t===Tf.Automatically){const A=_.map(w=>({roomId:w.boId,name:w.name,attendeeList:w.attendeeList.map(O=>({userId:O.userId,avatar:O.avatar,displayName:O.displayName}))}));g(A)}else g(_.map(A=>({roomId:A.boId,name:A.name,attendeeList:[]})))},()=>{v({type:bo})})}))}openRooms(e,t){const n=this[Te](),r={isAutoJoinRoom:!1,isBackToMainSessionEnabled:!0,isTimerEnabled:!1,timerDuration:1800,isTimerAutoEnabled:!1,waitSeconds:60},{breakoutRoom:{controlStatus:a,rooms:s,sequenceId:l,isHugeBO:d}}=n;if(a===tt.InProgress||a===tt.Closing)return Promise.resolve({type:ae,reason:"breakout room has started!"});if(e.some(S=>s.findIndex(b=>b.boId===S.roomId)===-1))return Promise.reject({type:Qe,reason:"roomId is wrong"});const f=kt(n);if(e.reduce((S,b)=>S.concat(b.attendeeList),[]).some(S=>f.findIndex(b=>b.userId===S.userId)===-1))return Promise.reject({type:Qe,reason:"bad user"});const p=e.map(S=>{const{attendeeList:b}=S,_=b.map(E=>{const A=f.find(w=>w.userId===E.userId);return A==null?void 0:A.userGUID});return{BID:S.roomId,MeetingTitle:S.name,MeetingToken:void 0,Status:_L.Started,HostID:"",ParticipantList:_}}),h=t?{...r,...t}:r,g={ControlStatus:tt.InProgress,NameIndex:l,IsAutoJoinEnabled:+h.isAutoJoinRoom,IsBackToMainSessionEnabled:+h.isBackToMainSessionEnabled,IsTimerEnabled:+h.isTimerEnabled,TimerDuration:h.timerDuration,IsTimerAutoEndEnabled:+h.isTimerAutoEnabled,WaitSeconds:h.waitSeconds<0?0:h.waitSeconds,StartTimeOnMMR:void 0,ItemList:p};let v=pk(JSON.stringify(g));return d&&(v=(S=>Fg.fromUint8Array(R6(function(b,_){var E;if(x1)return x1.encode(b);var A=b.length,w=new Hn(b.length+(b.length>>1)),O=0,I=function(x){w[O++]=x};for(E=0;E<A;++E){if(O+5>w.length){var V=new Hn(O+8+(A-E<<1));V.set(w),w=V}var U=b.charCodeAt(E);U<128?I(U):U<2048?(I(192|U>>6),I(128|63&U)):U>55295&&U<57344?(I(240|(U=65536+(1047552&U)|1023&b.charCodeAt(++E))>>18),I(128|U>>12&63),I(128|U>>6&63),I(128|63&U)):(I(224|U>>12),I(128|U>>6&63),I(128|63&U))}return jg(w,0,O)}(S))))(v)),vi.startBO(v),Ge(xl,S=>S.controlStatus===tt.InProgress)}joinRoom(e){const t=this[Te](),n=Ve(t),{breakoutRoom:{controlStatus:r,rooms:a,mainSessionAttendeeList:s,currentRoom:{status:l,boId:d}},meeting:{userGUID:f}}=t;if(r!==tt.InProgress)return Promise.reject({type:Jl,reason:"breakout room is not started"});if(n!=null&&n.isHost){const p=a.find(h=>h.boId===e);if(!p)return Promise.reject({type:Qe,reason:"room id is not correct"});vi.joinBO(p.boId)}else if(n!=null&&n.bCoHost&&l===Ue.InRoom){if(!a.find(p=>p.boId===e))return Promise.reject({type:Qe,reason:"room id is not correct"});{const p=s.find(h=>h.isHost);p&&vi.wantJoinBO(p==null?void 0:p.userId,e)}}else{if(l===Ue.InRoom&&d===e)return Promise.reject({type:ae,reason:"You are in room"});{const p=ta(a,f);if(!p||p.boId!==e)return Promise.reject({type:Qe,reason:"room id is not correct"});vi.joinBO(p.boId)}}return Ge(aL,p=>p.boId===e)}leaveRoom(){const e=this[Te](),t=this[un],{breakoutRoom:{controlStatus:n,options:r,currentRoom:{status:a}}}=e;if(n!==tt.InProgress&&n!==tt.Closing||a!==Ue.InRoom)return Promise.reject({type:ae});{const s=ei(e);if(!r.isBackToMainSessionEnabled&&!s)return Promise.reject({type:nr,reason:"can not return main session during the breakout room"});VE().forEach(l=>t(l))}return Promise.resolve("")}askForHelp(){const e=this[Te](),{breakoutRoom:{controlStatus:t,mainSessionAttendeeList:n,currentRoom:{status:r}},participants:{attendeesList:a}}=e,s=ei(e);if(t!==tt.InProgress||r!==Ue.InRoom)return Promise.reject({type:ae,reason:"you are not in breakout room"});if(s)return Promise.reject({type:ae,reason:"host or co-host can not ask for help"});{const l=n.find(d=>d.isHost);if(l){if(a.findIndex(d=>d.zoomID===l.zoomID)>-1)return Promise.reject({type:ae,reason:"host is in room"});vi.askForHelpBO(l.userId)}}return Ge(_A,l=>l.result===ns.Received)}postponeHelping(e){const t=this[Te](),n=this[un],{breakoutRoom:{mainSessionAttendeeList:r,currentRoom:{status:a}},participants:{attendeesList:s}}=t;let l=s;return a===Ue.InRoom&&(l=r),l.findIndex(d=>d.userId===e)>-1?(vi.askForHelpResultBO(e,ns.Ignore),n(jA(ns.Ignore)),Promise.resolve("")):Promise.reject({type:Qe,reason:"user id is not correct"})}broadcast(e){const{breakoutRoom:{isEnableBOBroadcast:t}}=this[Te]();return t?e?Rn.beginEncrypt({text:e,type:Gn.BO_BROADCAST}).then(n=>(vi.broadcastBO(n),Promise.resolve(""))):Promise.reject({type:Qe,reason:"content empty"}):Promise.reject({type:ae,reason:"Cannot broadcast message due to the feature is not enable"})}assignUserToRoom(e,t){const n=this[Te](),{breakoutRoom:{rooms:r}}=n,a=pb(n).find(s=>s.userId===e);return a&&r.findIndex(s=>s.boId===t)>-1?(vi.assignToBO(e,t),Ge(xl,s=>{const{controlStatus:l,roomList:d}=s,f=d.find(p=>p.boId===t);return l===tt.InProgress&&f&&f.attendeeGuidList.includes(a.userGUID)})):Promise.reject({type:Qe,reason:""})}moveUserToRoom(e,t){const n=this[Te](),{breakoutRoom:{rooms:r,mainSessionAttendeeList:a},participants:{attendeesList:s}}=n,l=(uC(n)?a:s).find(d=>d.userId===e);if(!l)return Promise.reject({type:Qe,reason:"user id not correct"});{const d=ta(r,l.userGUID);if(!d)return Promise.reject({type:ae,reason:"user not in a room"});if(d.boId===t)return Promise.reject({type:ae,reason:"user already in the target room"});{const f=r.find(p=>p.boId===t);if(!f)return Promise.reject({type:Qe,reason:"invalid room id"});vi.switchBO(e,f.boId)}}return Ge(xl,d=>{const{controlStatus:f,roomList:p}=d,h=p.find(g=>g.boId===t);return f===tt.InProgress&&h&&h.attendeeGuidList.includes(l.userGUID)})}closeRoom(){const e=this[Te](),{breakoutRoom:{controlStatus:t}}=e;return t!==tt.InProgress?Promise.reject({type:ae,reason:"room is not started"}):(vi.stopBO(tt.Closing),Ge(xl,n=>n.controlStatus===tt.Closing))}loadPreAssignedRooms(){const e=this[Te](),{meeting:{meetingOptions:t},breakoutRoom:{controlStatus:n}}=e;return!t.isAllowBreakoutRoomPreAssign||n!==tt.NotStarted&&n!==tt.Closed?Promise.reject({type:ae}):(vi.preAssignBreakoutRoom(),Ge(uL))}getUnassignedAttendeeList(){const e=this[Te](),{meeting:{isHost:t}}=e;return t?pb(e).map(n=>ad(n)):[]}getRoomList(){const e=this[Te](),{breakoutRoom:{rooms:t,currentRoom:{status:n,boId:r},mainSessionAttendeeList:a},participants:{attendeesList:s}}=e,l=Ve(e);if(l&&(l.isHost||n===Ue.InRoom&&l.bCoHost)){const d=n===Ue.InRoom,f=d?a:s;return t.map(p=>{const{attendeeGuidList:h,boId:g,name:v}=p,S=(h||[]).map(b=>f.find(_=>_.userGUID===b)).filter(b=>!!b&&b.userGUID!==l.userGUID);return d&&l.isHost&&g===r&&S.unshift(l),{roomId:g,name:v,attendeeList:S.filter(b=>!!b).map(b=>({userId:b.userId,displayName:b.displayName,avatar:b.avatar,isInRoom:b.bid===g,userGuid:b.userGUID}))}})}return e.breakoutRoom.rooms.map(d=>{const{boId:f,name:p}=d;return{roomId:f,name:p,attendeeList:[]}})}getAttendeeStatus(){return this[Te]().breakoutRoom.currentRoom.status}getRoomStatus(){return this[Te]().breakoutRoom.controlStatus}getCurrentRoom(){const e=this[Te](),{breakoutRoom:{currentRoom:{status:t,name:n,boId:r}}}=e;return{attendeeStatus:t,name:n,roomId:r}}getRoomOptions(){const e=this[Te](),{breakoutRoom:{options:t}}=e;return{...t}}},pe(mt.prototype,"createRooms",[me,Kt,so],Object.getOwnPropertyDescriptor(mt.prototype,"createRooms"),mt.prototype),pe(mt.prototype,"openRooms",[me,Kt,so],Object.getOwnPropertyDescriptor(mt.prototype,"openRooms"),mt.prototype),pe(mt.prototype,"joinRoom",[me,so],Object.getOwnPropertyDescriptor(mt.prototype,"joinRoom"),mt.prototype),pe(mt.prototype,"leaveRoom",[me,so],Object.getOwnPropertyDescriptor(mt.prototype,"leaveRoom"),mt.prototype),pe(mt.prototype,"askForHelp",[me,so],Object.getOwnPropertyDescriptor(mt.prototype,"askForHelp"),mt.prototype),pe(mt.prototype,"postponeHelping",[Kt,me,so],Object.getOwnPropertyDescriptor(mt.prototype,"postponeHelping"),mt.prototype),pe(mt.prototype,"broadcast",[Kt,me],Object.getOwnPropertyDescriptor(mt.prototype,"broadcast"),mt.prototype),pe(mt.prototype,"assignUserToRoom",[Kt,me,so],Object.getOwnPropertyDescriptor(mt.prototype,"assignUserToRoom"),mt.prototype),pe(mt.prototype,"moveUserToRoom",[Kt,me,so],Object.getOwnPropertyDescriptor(mt.prototype,"moveUserToRoom"),mt.prototype),pe(mt.prototype,"closeRoom",[Kt,me,so],Object.getOwnPropertyDescriptor(mt.prototype,"closeRoom"),mt.prototype),pe(mt.prototype,"loadPreAssignedRooms",[Kt,me,so],Object.getOwnPropertyDescriptor(mt.prototype,"loadPreAssignedRooms"),mt.prototype),mt);const N6={breakoutRoomSharingEpics0:(e,t)=>$l(e,Pt).pipe(oe(n=>{var r;const{payload:{body:a}}=n;return a==null||(r=a.update)===null||r===void 0?void 0:r.some(s=>s.bShareToBORooms!==void 0||s.bShareOn!==void 0)}),Ie(t),Ae(n=>{let[r,a]=n;const{payload:{body:{update:s}}}=r,{breakoutRoom:{mainSessionAttendeeList:l}}=a,d=s.filter(h=>h.bShareOn&&h.bShareToBORooms),f=s.filter(h=>!h.bShareOn||!h.bShareToBORooms),p=l.filter(h=>h.sharerOn&&h.bShareToBORooms);return d.length>0&&d.forEach(h=>{p.findIndex(g=>g.userId===h.id)===-1&&k(vA,{...h,isFromMainSession:!0})}),f.length>0&&f.forEach(h=>{k(SA,{...h,isFromMainSession:!0})}),s.map(h=>{if(h.bShareOn&&h.bShareToBORooms){if(l.filter(g=>g.sharerOn&&g.bShareToBORooms&&g.userId!==h.id).length===0)return{activeNodeID:h.id,bStatus:1,ssrc:h.shareSsrc};{const g=l.find(v=>v.userId===h.id);if(g!=null&&g.isHost)return{activeNodeID:h.id,bStatus:1,ssrc:h.shareSsrc}}}else if(!h.bShareOn||!h.bShareToBORooms){const g=l.filter(v=>v.bShareToBORooms&&v.sharerOn);if(g.length===1&&g[0].userId===h.id)return{activeNodeID:h.id,bStatus:0,ssrc:0};{const v=g.filter(b=>b.userId!==h.id),S=v.find(b=>b.isHost);if(S)return{activeNodeID:S.userId,bStatus:1,ssrc:S.shareSsrc};{const b=v[0];if(b)return{activeNodeID:b.userId,bStatus:1,ssrc:b.shareSsrc}}}}}).filter(Boolean)}),ue(n=>{const{share:{status:r},meeting:{userId:a}}=t.value,s=[];return n.map(l=>{const{activeNodeID:d,bStatus:f,ssrc:p}=l,h=f===1;s.push(zL(h)),h&&r!==rt.End&&(D6.stopSharing(a),M6.stopDesktopSharing(),s.push(ti(rt.End)),k(NN));let g={activeNodeID:d,bStatus:f,ssrc:p,fromMainSession:!0};if(!h){const{participants:{attendeesList:v}}=t.value,S=v.filter(b=>b.sharerOn);if(S.length>0){const b=S[0];g={activeNodeID:b.userId,bStatus:1,ssrc:b.shareSsrc||0}}}s.push(Nu({evt:Xb,body:g}))}),ve(s)})),breakoutRoomSharingEpics1:(e,t)=>$l(e,qg).pipe(it(n=>{const{payload:{body:{userID:r,confID:a}}}=n;return vn(...["sharing","audio"].map(s=>function(l,d,f,p,h){return $l(d,l==="audio"?e_:dA).pipe(ut(1),De(g=>{const{payload:{body:{encryptKey:v,additionalType:S}}}=g,{media:{sharingDecodeStatus:b,audioDecodeStatus:_},meeting:{svcUrl:E,meetingNumber:A,conId:w,zoomId:O,meetingId:I}}=f.value;tr(l,"success",l==="audio"?_:b).subscribe(V=>{let[,U]=V;if(U){const x=`wss://${E}/wc/media/${A}?type=${l==="audio"?"ma":"ms"}&cid=${w}&mode=1`;Eb.createMainSessionChannel(l,x),Eb.updateMediaParams({iVType:l==="audio"?yn.AUDIO_DECODE:yn.SHARING_DECODE,isFromMainSession:!0,updateParams:{userId:p,sn:ni(O),confId:h,encryptType:S,encryptKey:ni(v),meetingId:I,meetingNumber:A}});const{breakoutRoom:{mainSessionAttendeeList:$}}=f.value;if(($==null?void 0:$.length)>0){const W=$.map(z=>({userid:z.userId,sn:z.zoomID&&ni(z.zoomID)}));Eb.updateUserMediaSN({added:W,isFromMainSession:!0,iVType:l==="audio"?yn.AUDIO_DECODE:yn.SHARING_DECODE})}}})}),je(_e))}(s,e,t,r,a)))}))},L6={epics0:(e,t)=>e.pipe(ke(`${pa}`),it(n=>{const{breakoutRoom:r,meeting:{meetingOptions:a}}=t.value,{payload:{hugeBO:s,elapsed:l}}=n,d=[];return r&&(a&&(d.push(LP(s&&a.isBO100Enabled===!0)),d.push(PP({isEnableBreakoutRoom:a.isEnableBreakoutRoom,isEnableBOBroadcast:a.isEnableBOBroadcast}))),r.currentRoom.boConfId&&d.push(xb()),l!==void 0&&d.push(J_(l))),ve(d)})),epics1:e=>Ce(e,4174).pipe(De(t=>{k(rL,t.payload.body.bid)}),je(_e)),epics2:(e,t)=>Ki(e,7950).pipe(Ie(t),it(n=>{let[r,a]=n;const{payload:{body:{proto:s}}}=r,{breakoutRoom:{isHugeBO:l,currentRoom:{status:d,boId:f}},meeting:{userGUID:p}}=a;let h=s;l&&(h=function(S,b){if(UE)return UE.decode(S);var _=function(A){for(var w="",O=0;;){var I=A[O++],V=(I>127)+(I>223)+(I>239);if(O+V>A.length)return[w,jg(A,O-1)];V?V==3?(I=((15&I)<<18|(63&A[O++])<<12|(63&A[O++])<<6|63&A[O++])-65536,w+=String.fromCharCode(55296|I>>10,56320|1023&I)):w+=1&V?String.fromCharCode((31&I)<<6|63&A[O++]):String.fromCharCode((15&I)<<12|(63&A[O++])<<6|63&A[O++]):w+=String.fromCharCode(I)}}(S),E=_[0];return _[1].length&&co(8),E}(function(S,b){return function(_,E,A){var w=_.length;if(!w||A&&A.f&&!A.l)return E||new Hn(0);var O=!E||A,I=!A||A.i;A||(A={}),E||(E=new Hn(3*w));var V=function(lt){var pt=E.length;if(lt>pt){var dt=new Hn(Math.max(2*pt,lt));dt.set(E),E=dt}},U=A.f||0,x=A.p||0,$=A.b||0,W=A.l,z=A.d,L=A.m,T=A.n,N=8*w;do{if(!W){U=Bi(_,x,1);var F=Bi(_,x+1,3);if(x+=3,!F){var P=_[(Oe=lC(x)+4)-4]|_[Oe-3]<<8,D=Oe+P;if(D>w){I&&co(0);break}O&&V($+P),E.set(_.subarray(Oe,D),$),A.b=$+=P,A.p=x=8*D,A.f=U;continue}if(F==1)W=E6,z=C6,L=9,T=5;else if(F==2){var K=Bi(_,x,31)+257,J=Bi(_,x+10,15)+4,re=K+Bi(_,x+5,31)+1;x+=14;for(var M=new Hn(re),X=new Hn(19),ye=0;ye<J;++ye)X[kE[ye]]=Bi(_,x+3*ye,7);x+=3*J;var Ee=vb(X),se=(1<<Ee)-1,we=Ao(X,Ee,1);for(ye=0;ye<re;){var Oe,Ye=we[Bi(_,x,se)];if(x+=15&Ye,(Oe=Ye>>>4)<16)M[ye++]=Oe;else{var Le=0,Q=0;for(Oe==16?(Q=3+Bi(_,x,3),x+=2,Le=M[ye-1]):Oe==17?(Q=3+Bi(_,x,7),x+=3):Oe==18&&(Q=11+Bi(_,x,127),x+=7);Q--;)M[ye++]=Le}}var G=M.subarray(0,K),j=M.subarray(K);L=vb(G),T=vb(j),W=Ao(G,L,1),z=Ao(j,T,1)}else co(1);if(x>N){I&&co(0);break}}O&&V($+131072);for(var ie=(1<<L)-1,Se=(1<<T)-1,Ne=x;;Ne=x){var Pe=(Le=W[Sb(_,x)&ie])>>>4;if((x+=15&Le)>N){I&&co(0);break}if(Le||co(2),Pe<256)E[$++]=Pe;else{if(Pe==256){Ne=x,W=null;break}var xe=Pe-254;if(Pe>264){var ze=Yg[ye=Pe-257];xe=Bi(_,x,(1<<ze)-1)+NV[ye],x+=ze}var Ze=z[Sb(_,x)&Se],Ke=Ze>>>4;if(Ze||co(3),x+=15&Ze,j=b6[Ke],Ke>3&&(ze=Xg[Ke],j+=Sb(_,x)&(1<<ze)-1,x+=ze),x>N){I&&co(0);break}O&&V($+131072);for(var We=$+xe;$<We;$+=4)E[$]=E[$-j],E[$+1]=E[$+1-j],E[$+2]=E[$+2-j],E[$+3]=E[$+3-j];$=We}}A.l=W,A.p=Ne,A.b=$,A.f=U,W&&(U=1,A.m=L,A.d=z,A.n=T)}while(!U);return $==E.length?E:jg(E,0,$)}(S.subarray(function(_){_[0]==31&&_[1]==139&&_[2]==8||co(6,"invalid gzip data");var E=_[3],A=10;4&E&&(A+=_[10]|2+(_[11]<<8));for(var w=(E>>3&1)+(E>>4&1);w>0;w-=!_[A++]);return A+(2&E)}(S),-8),new Hn(function(_){var E=_.length;return(_[E-4]|_[E-3]<<8|_[E-2]<<16|_[E-1]<<24)>>>0}(S)))}(ni(s))));const g=[];let v;try{const S=JSON.parse(Qi(h)),{ControlStatus:b,NameIndex:_,IsAutoJoinEnabled:E,IsBackToMainSessionEnabled:A,IsTimerEnabled:w,TimerDuration:O,IsTimerAutoEndEnabled:I,WaitSeconds:V,StartTimeOnMMR:U,ItemList:x}=S,$={isAutoJoinRoom:E,isBackToMainSessionEnabled:A,isTimerEnabled:w,timerDuration:O,isTimerAutoEnabled:I,waitSeconds:V};g.push(RP($)),g.push(TP(U)),g.push(VA(_)),g.push(IP(b));const W=x&&x.map(z=>({boId:z.BID,name:z.MeetingTitle,boStatus:z.Status,hostId:z.HostID,attendeeGuidList:z.ParticipantList||[]}))||[];switch(g.push(lm(W)),k(xl,{controlStatus:b,roomList:W}),b){case tt.InProgress:if(d!==Ue.InRoom&&d!==Ue.Joining){const z=function(L,T){const{meeting:{isHost:N,userGUID:F}}=T.value,P=Je.get(dC),D=[];if(P)try{const{status:K,boId:J}=JSON.parse(P);if(K===Ue.Invited)if(N)kl();else{const re=ta(L,F);re&&(D.push(jh(re)),k(nm,{roomId:re.boId,name:re.name}))}else if(K===Ue.InRoom){let re;if(re=N?L.find(M=>M.boId===J):ta(L,F),re){D.push(jh(re));const M=re.boId;Mu(T).subscribe(()=>{at.createAgent().joinBO(M)})}kl()}}catch(K){console.error(K)}return D}(W,t);if(z.length===0){const L=ta(W,p);L&&g.push(jh(L))}else g.push(...z)}else if(d===Ue.InRoom&&r.type===`${da}`){const z=ta(W,p);z&&Cb(t).subscribe(L=>{f===z.boId||L||xi.joinBO(z.boId)})}$.isTimerEnabled&&$.timerDuration>0&&(v=function(z,L,T){return Cb(z).pipe(Ie(z),it(N=>{let[F,P]=N;const{breakoutRoom:{currentRoom:{status:D},meetingElapsedTime:K},meeting:{joinMeetingTimeStamp:J}}=P,re=J-1e3*K+1e3*T+1e3*L;if(performance.now()<re){if(F)return du(1e3).pipe(Ae(()=>Math.floor((re-performance.now())/1e3)),Ie(z),cu(M=>{let[X,ye]=M;const{breakoutRoom:{controlStatus:Ee,currentRoom:{status:se}},socket:{zoomSocketStatus:we},meeting:{isHost:Oe}}=ye;return X>=0&&Oe&&Ee===tt.InProgress&&(se===Ue.InRoom||se===Ue.MainSession||se===Ue.Initial)&&we===Ot.Connected}),De(M=>{let[X]=M;k(A_,{countdown:X})}),oe(M=>{let[X]=M;return X===0}),De(M=>{let[,X]=M;const{breakoutRoom:{options:ye}}=X;ye.isTimerAutoEnabled?at.createAgent().stopBO(tt.Closing):k(sL)}),je(_e));if(D===Ue.InRoom)return du(1e3).pipe(Ae(()=>Math.floor((re-performance.now())/1e3)),Ie(z),cu(M=>{let[X,ye]=M;const{breakoutRoom:{currentRoom:{status:Ee}},meeting:{isHost:se},socket:{zoomSocketStatus:we}}=ye;return X>=0&&Ee===Ue.InRoom&&!se&&we===Ot.Connected}),De(M=>{let[X]=M;k(A_,{countdown:X})}),je(_e))}return _e}))}(t,$.timerDuration,U));break;case tt.Closing:v=Cb(t).pipe(oe(z=>z),ue(()=>{const z=[],{breakoutRoom:{closingRoomTime:L,currentRoom:{status:T}},participants:{attendeesList:N}}=a;let F=$.waitSeconds;if(L!==0&&$.waitSeconds>0){const P=Math.floor((performance.now()-L)/1e3);F=Math.max($.waitSeconds-P,0)}if(F===0)return xi.stopBO(tt.Closed),_e;{if(T!==Ue.InRoom&&N.length>1&&N.every(D=>!D.bid))return xi.stopBO(tt.Closed),_e;L||z.push(eE(performance.now()));const P=performance.now()+1e3*F;return vn(ve(z),du(1e3).pipe(Ae(()=>Math.floor((P-performance.now())/1e3)),Ie(t),cu(D=>{let[K,J]=D;const{breakoutRoom:{controlStatus:re},meeting:{isHost:M},socket:{zoomSocketStatus:X}}=J;return K>=0&&re===tt.Closing&&X===Ot.Connected&&M}),De(D=>{let[K]=D;K>=0&&k(E_,{countdown:K})}),oe(D=>{let[K]=D;return K===0}),De(()=>{xi.stopBO(tt.Closed)}),je(_e)))}}));break;case tt.Closed:g.push(eE(0)),d===Ue.Leaving?g.push(Eu(Ue.MainSession)):d===Ue.Invited?g.push(Eu(Ue.Initial)):d!==Ue.InRoom&&d!==Ue.Joining||g.push(...VE()),kl()}}catch(S){console.error(S)}return v?vn(ve(g),v):ve(g)})),epics3:(e,t)=>Ki(e,4194).pipe(Ie(t),it(n=>{let[r,a]=n;const{payload:{body:{bid:s,botoken:l,confID:d}}}=r,{meeting:{isHost:f},breakoutRoom:{rooms:p,currentRoom:{status:h}}}=a,g=[],v=p.find(S=>S.boId===s);return v&&(g.push(jh(v,f)),g.push(Y_(d)),g.push(X_(l)),f||h!==Ue.InRoom?g.push(...Ab(v.name,h)):g.push(...H1(v.name))),k(aL,{boId:s}),ve(g)})),epics4:(e,t)=>e.pipe(ke(`${Nu}`,`${da}`),oe(n=>n.payload.evt===7949),Ie(t),ue(n=>{let[r,a]=n;const{payload:{body:s}}=r,{meeting:{userGUID:l},breakoutRoom:{rooms:d,options:{isAutoJoinRoom:f},currentRoom:{status:p}}}=a,{commandType:h}=s,g=[];let v;switch(h){case _l.Join:{const{targetBID:b,botoken:_,confID:E}=s,A=ta(d,l);A&&A.boId===b&&(g.push(Y_(E)),g.push(X_(_)),f?g.push(...Ab(A.name)):(Je.set(Ct.WebclientBreakoutRoomCommand,h,ft.SessionStorage),k(nm,{roomId:b,name:A.name})));break}case _l.Switch:{const{targetBID:b,botoken:_,confID:E}=s,A=ta(d,l);A&&A.boId===b&&(g.push(hg({boId:A.boId,boToken:_,boConfId:E,name:A.name})),p===Ue.Invited?(Je.set(Ct.WebclientBreakoutRoomCommand,h,ft.SessionStorage),f?g.push(...Ab(A.name)):k(nm,{roomId:b,name:A.name})):g.push(...H1(A.name)));break}case _l.Leave:{const{waitTime:b}=s;if((S=p)!==Ue.InRoom&&S!==Ue.Joining&&S!==Ue.Leaving)g.push(hg({boId:"",boToken:"",boConfId:"",status:Ue.Initial}));else{const _=Number(b);if(_>0){const E=performance.now()+1e3*_;v=du(1e3).pipe(Ae(()=>Math.floor((E-performance.now())/1e3)),Ie(t),cu(A=>{let[w,O]=A;const{breakoutRoom:{controlStatus:I,currentRoom:{status:V}},meeting:{isHost:U},socket:{zoomSocketStatus:x}}=O;return w>=0&&x===Ot.Connected&&I===tt.Closing&&V===Ue.InRoom&&!U}),De(A=>{let[w]=A;w>=0&&k(E_,{countdown:w})}),je(_e))}else g.push(...VE());kl()}break}case _l.Broadcast:{const{textContent:b}=s;if(b){const{meeting:{encType:_},participants:{attendeesList:E},breakoutRoom:{mainSessionAttendeeList:A}}=a;let w="";if(_===Wf.AES_GCM){const O=E.concat(A).find(I=>AA(I.userRole));O&&(w=O.zoomID)}v=ve(Rn.beginDecrypt({decryptedText:b,type:Gn.BO_BROADCAST,zoomId:w}).then(O=>{let{message:I}=O;return k(iL,{message:I}),MP(I)}))}break}case _l.HelpReq:{const{requestID:b}=s,{breakoutRoom:{mainSessionAttendeeList:_,rooms:E,currentRoom:{boId:A},hostReplyToQuestionerType:w,hostReplyToRequestId:O},participants:{attendeesList:I}}=a;if(b){if(p===Ue.InRoom){const V=_.find(U=>U.userId===b);if(V&&V.bid===A){xi.askForHelpResultBO(b,ns.AlreadyInRoom);break}}if(w===ns.Received&&O!==b)xi.askForHelpResultBO(b,ns.Busy);else{xi.askForHelpResultBO(b,ns.Received),g.push(jA(ns.Received),kP(b));const V=(p===Ue.InRoom?_:I).find(U=>U.userId===b);if(V){const U=V.bid,x=E.find($=>$.boId===U);x&&k(oL,{userId:b,userGuid:V.userGUID,displayName:V.displayName,roomName:x.name,roomId:x.boId})}}}break}case _l.HelpRes:{const{helpResult:b}=s;k(_A,{result:Number(b)});break}}var S;return v?vn(ve(g),v):ve(g)})),epics5:(e,t)=>$l(e,qg).pipe(Ie(t),it(n=>{let[r,a]=n;const{payload:{body:{res:s,elapsed:l}}}=r,d=[];return s===Zr.CONF_FAIL_MEETING_HAS_CLOSED||s===Zr.CONF_FAIL_HAS_BEEN_REMOVED?(kl(),d.push(...Hl(a,!1))):s===Zr.CONF_SUCCESS&&(d.push(J_(l)),d.push(Eu(Ue.InRoom)),Je.set(Ct.WebclientBreakoutRoomAttendeeStatus,JSON.stringify({status:Ue.InRoom,boId:a.breakoutRoom.currentRoom.boId}),ft.SessionStorage)),ve(d)})),epics6:(e,t)=>$l(e,Pt).pipe(Ae(n=>Rg(n.payload.body)),Ie(t),ue(n=>{let[r,a]=n;const s=[NP(r)],{participants:{attendeesList:l},breakoutRoom:{mainSessionAttendeeList:d,isUserRoleUpdated:f},meeting:{userId:p}}=a;let h=[];return["add","update"].forEach(g=>r[g]&&h.push(...r[g])),h=h.filter(g=>z1.some(v=>g[v]!==void 0)).map(g=>{const v=d.find(S=>S.userId===g.userId);if(v){const S=l.find(b=>b.zoomID===v.zoomID);if(S)return g.userRole===void 0||f||S.userId!==p||(s.push(nE(!0)),k(C_,g)),g.bCCEditor!==void 0&&s.push(CP({editorId:g.bCCEditor?S.userId:"",isEditor:!!g.bCCEditor,editorZoomId:g.bCCEditor?S.zoomID:""})),delete g.bRaiseHand,delete g.bCapsPinMultiVideo,{...g,userId:S.userId}}return null}).filter(g=>!!g),h.length>0&&(k(Oo,h),s.push(Wm({update:h}))),k(lL),ve(s)})),epics7:e=>$l(e,ri).pipe(oe(t=>{const{payload:{body:n}}=t;return(n==null?void 0:n.bAllowAttendeeRename)!==void 0||(n==null?void 0:n.chatPriviledge)!==void 0||(n==null?void 0:n.lockShare)!==void 0}),Ae(t=>{const{payload:{body:n}}=t;return n.bAllowAttendeeRename!==void 0?sA(t.payload.body):n.chatPriviledge!==void 0?NA(n.chatPriviledge):n.lockShare!==void 0?RA(n.lockShare):void 0})),epics8:(e,t)=>Ce(e,Pt).pipe(Ie(t),oe(n=>{let[,r]=n;const{meeting:{isHost:a},breakoutRoom:{controlStatus:s,currentRoom:{status:l}}}=r;return a&&s===tt.Closing&&l!==Ue.InRoom}),Sr(qf),De(()=>{const{participants:{attendeesList:n}}=t.value;n.every(r=>!r.bid)&&n.length>1&&xi.stopBO(tt.Closed)}),je(_e)),epics9:(e,t)=>Ce(e,4214).pipe(Ie(t),it(n=>{let[r,a]=n;const{payload:{body:{proto:s}}}=r,{breakoutRoom:{rooms:l,isHugeBO:d}}=a;try{const f=JSON.parse(Qi(s)),p=[];if(f&&f.PreAssignBoList&&Array.isArray(f.PreAssignBoList)){const h=f.PreAssignBoList.map(v=>({name:v.BoName,emails:v.email}));p.push(tE(h));const g=d?100:50;if(l.length+h.length<g){const v=h.map(S=>S.name);return xi.batchCreateBOToken(v),vn(ve(p),UV(v.length).pipe(Ie(t),ue(S=>{let[{boIdList:b},_]=S;const E=kt(_),A=h.map((O,I)=>{const{emails:V,name:U}=O;let x=[];return V&&Array.isArray(V)&&(x=V.map($=>E.filter(W=>W.userEmail===$).map(W=>W.userGUID)).reduce(($,W)=>[...$,...W],[])),{boId:b[I],name:U,attendeeGuidList:x}}),w=A.map((O,I)=>({roomId:O.boId,name:O.name,emails:h[I].emails}));return k(uL,{rooms:w}),ve([lm(A),tE(w)])})))}return ve(p)}}catch{console.error("pre assign proto is not valid")}return _e})),epics10:(e,t)=>Ki(e,Pt).pipe(Ie(t),oe(n=>{let[r,a]=n;const{meeting:{isHost:s,meetingStatus:l,meetingOptions:d},breakoutRoom:{controlStatus:f}}=a,{payload:{body:p}}=r;return l===Xt.Joined&&(d==null?void 0:d.isAllowBreakoutRoomPreAssign)&&s&&(f===tt.NotStarted||f===tt.InProgress)&&Array.isArray(p.add)}),ue(n=>{let[r,a]=n;const{breakoutRoom:{controlStatus:s,rooms:l,preAssignedRooms:d,currentRoom:{status:f}},participants:{failoverAttendeesList:p}}=a,h=d==null?void 0:d.filter(S=>l.findIndex(b=>b.boId===S.roomId)>-1),{payload:{body:{add:g}}}=r,v=[];return h.length>0&&g.filter(S=>S.userEmail&&S.userGUID).filter(S=>p.findIndex(b=>b.zoomID===S.zoomID)===-1).forEach(S=>{if(!ta(l,S.userGUID))for(let b=0;b<(h==null?void 0:h.length);b++){const _=h[b];if(_.emails.includes(S.userEmail)){if(s===tt.NotStarted){const E=B(l,A=>{const w=A.find(O=>O.boId===_.roomId);w==null||w.attendeeGuidList.push(S.userGUID)});v.push(lm(E))}else s===tt.InProgress&&(f===Ue.InRoom&&r.type===`${da}`?xi.assignToBO(S.id,String(_.roomId)):f!==Ue.Initial&&f!==Ue.MainSession||xi.assignToBO(S.id,String(_.roomId)));break}}}),ve(v)})),epics11:(e,t)=>Ce(e,Pt).pipe(oe(n=>{const{breakoutRoom:{mainSessionAttendeeList:r}}=t.value,{payload:{body:a}}=n;return r.length>0&&(a.add!==void 0||a.update!==void 0)}),Sr(ha),Ae(n=>Rg(n.payload.body)),ue(n=>{const{breakoutRoom:{mainSessionAttendeeList:r,isUserRoleUpdated:a},participants:{attendeesList:s}}=t.value;let l=[];const d=[];["add","update"].forEach(h=>n[h]&&l.push(...n[h]));const f=[...z1,"isHost"];l=l.filter(h=>f.some(g=>h[g]!==void 0));const p=l.filter(h=>h.zoomID!==void 0);return l=l.map(h=>{var g,v,S,b;const _=(g=(v=h.zoomID)!==null&&v!==void 0?v:(S=p.find(E=>E.userId===h.userId))===null||S===void 0?void 0:S.zoomID)!==null&&g!==void 0?g:(b=s.find(E=>E.userId===h.userId))===null||b===void 0?void 0:b.zoomID;if(_){const E=r.find(A=>A.zoomID===_);if(E)return a||(d.push(nE(!0)),k(C_,E)),Object.keys(h).filter(A=>Object.prototype.hasOwnProperty.call(h,A)).filter(A=>f.includes(A)).reduce((A,w)=>{const O=E[w];if(O!==void 0||w==="bCoHost"){const I=typeof h[w]=="boolean"?!!O:O;Object.assign(A,{[w]:I})}return A},{userId:h.userId})}}).filter(Boolean),l.length>0&&(k(Oo,l),d.push(Wm({update:l}))),ve(d)}))},P6=_r(L6,N6);let Bh=function(e){return e[e.Ready=0]="Ready",e[e.UserSub=1]="UserSub",e[e.ManualCaptionerEnabled=2]="ManualCaptionerEnabled",e[e.ManualCaptionerDisabled=3]="ManualCaptionerDisabled",e}({}),Oi=function(e){return e[e.Unspecified=-1]="Unspecified",e[e.English=0]="English",e[e["Chinese (Simplified)"]=1]="Chinese (Simplified)",e[e.Japanese=2]="Japanese",e[e.German=3]="German",e[e.French=4]="French",e[e.Russian=5]="Russian",e[e.Portuguese=6]="Portuguese",e[e.Spanish=7]="Spanish",e[e.Korean=8]="Korean",e[e.Italian=9]="Italian",e[e.Reserved=10]="Reserved",e[e.Vietnamese=11]="Vietnamese",e[e.Dutch=12]="Dutch",e[e.Ukrainian=13]="Ukrainian",e[e.Arabic=14]="Arabic",e[e.Bengali=15]="Bengali",e[e["Chinese (Traditional)"]=16]="Chinese (Traditional)",e[e.Czech=17]="Czech",e[e.Estonian=18]="Estonian",e[e.Finnish=19]="Finnish",e[e.Greek=20]="Greek",e[e.Hebrew=21]="Hebrew",e[e.Hindi=22]="Hindi",e[e.Hungarian=23]="Hungarian",e[e.Indonesian=24]="Indonesian",e[e.Malay=25]="Malay",e[e.Persian=26]="Persian",e[e.Polish=27]="Polish",e[e.Romanian=28]="Romanian",e[e.Swedish=29]="Swedish",e[e.Tamil=30]="Tamil",e[e.Telugu=31]="Telugu",e[e.Tagalog=32]="Tagalog",e[e.Turkish=33]="Turkish",e[e.NoTranslation=400]="NoTranslation",e[e.DefaultManualInput=401]="DefaultManualInput",e[e.Customized=500]="Customized",e}({}),Ga=function(e){return e[e.Unknown=0]="Unknown",e[e.Close=1]="Close",e[e.New=2]="New",e[e.Insert=3]="Insert",e[e.Delete=4]="Delete",e[e.Reset=5]="Reset",e[e.Audiodesc=6]="Audiodesc",e[e.Speaker=7]="Speaker",e[e.Error=8]="Error",e}({}),F1=function(e){return e[e.TranslateNotSupport=1]="TranslateNotSupport",e}({}),Wa=function(e){return e[e.Unspecified=0]="Unspecified",e[e.InMeetingManual=1]="InMeetingManual",e[e.ExternalCaptioner=2]="ExternalCaptioner",e[e.ASR=4]="ASR",e}({});const yf={en:0,zh:1,ja:2,de:3,fr:4,ru:5,pt:6,es:7,ko:8,it:9,en1:10,vi:11,nl:12,uk:13,ar:14,bn:15,"zh-hant":16,cs:17,et:18,fi:19,el:20,he:21,hi:22,hu:23,id:24,ms:25,fa:26,pl:27,ro:28,sv:29,ta:30,te:31,tl:32,tr:33},vf=Object.keys(Oi).filter(e=>/\d+/.test(Oi[e])).reduce((e,t)=>({...e,[`${Oi[t]}`]:t}),{}),G1=Object.keys(yf).reduce((e,t)=>(Object.assign(e,{[`${yf[`${t}`]}`]:t}),e),{}),Em="zoom-sdk-live-trasncription",ia="live-trasncription";(function(e){return e[e.English=0]="English",e[e.Chinese=1]="Chinese",e[e.Japanese=2]="Japanese",e[e.German=3]="German",e[e.French=4]="French",e[e.Russian=5]="Russian",e[e.Portuguese=6]="Portuguese",e[e.Spanish=7]="Spanish",e[e.Korean=8]="Korean",e[e.Italian=9]="Italian",e[e.Reserved=10]="Reserved",e[e.Vietnamese=11]="Vietnamese",e[e.Dutch=12]="Dutch",e[e.Ukrainian=13]="Ukrainian",e[e.Arabic=14]="Arabic",e[e.Bengali=15]="Bengali",e[e["Chinese (Traditional)"]=16]="Chinese (Traditional)",e[e.Czech=17]="Czech",e[e.Estonian=18]="Estonian",e[e.Finnish=19]="Finnish",e[e.Greek=20]="Greek",e[e.Hebrew=21]="Hebrew",e[e.Hindi=22]="Hindi",e[e.Hungarian=23]="Hungarian",e[e.Indonesian=24]="Indonesian",e[e.Malay=25]="Malay",e[e.Persian=26]="Persian",e[e.Polish=27]="Polish",e[e.Romanian=28]="Romanian",e[e.Swedish=29]="Swedish",e[e.Tamil=30]="Tamil",e[e.Telugu=31]="Telugu",e[e.Tagalog=32]="Tagalog",e[e.Turkish=33]="Turkish",e[e.NoTranslation=400]="NoTranslation",e[e.DefaultManualInput=401]="DefaultManualInput",e})({});(function(e){return e.English="en",e["Chinese (Simplified)"]="zh",e.Japanese="ja",e.German="de",e.French="fr",e.Russian="ru",e.Portuguese="pt",e.Spanish="es",e.Korean="ko",e.Italian="it",e.Reserved="en1",e.Vietnamese="vi",e.Dutch="nl",e.Ukrainian="uk",e.Arabic="ar",e.Bengali="bn",e["Chinese (Traditional)"]="zh-hant",e.Czech="cs",e.Estonian="et",e.Finnish="fi",e.Greek="el",e.Hebrew="he",e.Hindi="hi",e.Hungarian="hu",e.Indonesian="id",e.Malay="ms",e.Persian="fa",e.Polish="pl",e.Romanian="ro",e.Swedish="sv",e.Tamil="ta",e.Telugu="te",e.Tagalog="tl",e.Turkish="tr",e})({});function Sf(e){const t=e===Oi.Unspecified?Oi.Reserved:e;qe.getInstance().selectLanguageChannelForNewLTT(t)}const U6=SL(vL,function(e,t){return dV(e,t)})([kt,e=>{let{meeting:{gatewayUserList:t}}=e;return t}],(e,t)=>{const n={};return e.forEach(r=>{Object.assign(n,{[`${r.userId}`]:r.zoomID})}),t==null||t.forEach(r=>{Object.assign(n,{[`${r.userId}`]:r.sn})}),n}),q1=en([kt],e=>e.find(t=>t.bCCEditor===!0)),V6=en([kt,bL],(e,t)=>e.some(n=>n.bCCEditor===!0&&n.userId===t)),$1=at.createAgent(),wb={isEnableTranslatedCaptions:!1,isHostLockSpeakingLanguage:!1,transcriptionLang:[],isEnableAutomatedCaptions:!1,supportedTranscriptionLanguage:[],isLiveTranscriptionEnabled:!1,isHostDisableCaptions:!1,isManualCaptionerEnabled:!1,gatewayId:void 0,isLiveTranscriptionSubscribed:!1,messageRecords:[],isRecordsReduced:!1,reducedRecordsCount:0},j6=br({[`${KP}`]:B((e,t)=>{let{payload:n}=t;e.isLiveTranscriptionEnabled=n}),[`${WP}`]:B((e,t)=>{let{payload:n}=t;const{transcriptionLang:r,translatedSetting:a,...s}=n;r&&(e.transcriptionLang=r.split(";").map(l=>{const d=l&&yf[l];return d!==void 0?{lang:l,code:d}:null}).filter(Boolean)),a&&(e.translatedSetting=Object.keys(a).map(l=>{const d=a[l];if(d){const f=d.split(";").map(p=>{const h=p&&yf[p];return h!==void 0?{lang:p,code:h}:null}).filter(Boolean);return{lang:l,code:yf[l],translatedToLanguage:f}}return null}).filter(Boolean)),Object.assign(e,s)}),[`${iE}`]:B((e,t)=>{let{payload:n}=t;e.isManualCaptionerEnabled=n}),[`${QP}`]:B((e,t)=>{let{payload:n}=t;e.gatewayId=n}),[`${rU}`]:B((e,t)=>{let{payload:n}=t;e.isHostDisableCaptions=n}),[`${ZP}`]:B((e,t)=>{let{payload:n}=t;e.supportedTranscriptionLanguage=n}),[`${hu}`]:B((e,t)=>{let{payload:n}=t;e.currentTranscriptionLang=n}),[`${mg}`]:B((e,t)=>{let{payload:n}=t;e.currentTranslationLang=n}),[`${aE}`]:B((e,t)=>{let{payload:n}=t;e.messageRecords.push(n)}),[`${JP}`]:B((e,t)=>{let{payload:n}=t;const r=e.messageRecords.find(a=>a.msgId===n.msgId);r&&Object.assign(r,n)}),[`${YP}`]:B((e,t)=>{let{payload:n}=t;const{remains:r,reducedRecordsCount:a}=n,s=e.messageRecords.length-r;e.isRecordsReduced=!0,e.reducedRecordsCount=a,e.messageRecords.splice(0,s)}),[`${oE}`]:B((e,t)=>{let{payload:n}=t;e.isLiveTranscriptionSubscribed=n}),[`${XP}`]:B((e,t)=>{let{payload:n}=t;e.liveTransEngineType=n}),[`${eU}`]:B(e=>{e.stateBeforeFailover=void 0}),[`${tU}`]:B((e,t)=>{let{payload:n}=t;e.lastManualCaption=n}),[`${nU}`]:(e,t)=>{let{payload:n}=t;return n?{...wb,stateBeforeFailover:{currentTranscriptionLang:e.currentTranscriptionLang,currentTranslationLang:e.currentTranslationLang,isLiveTranscriptionSubscribed:e.isLiveTranscriptionSubscribed},messageRecords:e.messageRecords,isRecordsReduced:e.isRecordsReduced,reducedRecordsCount:e.reducedRecordsCount}:{...wb}}},wb);var jt;const Si=at.createAgent(),qa=Mi("Live transcription");let B6=(jt=class extends To{startLiveTranscription(){const{[Te]:e,[un]:t}=this,{liveTranscription:{isLiveTranscriptionEnabled:n,isEnableTranslatedCaptions:r,isLiveTranscriptionSubscribed:a,isHostLockSpeakingLanguage:s,isHostDisableCaptions:l}}=e();return a?Promise.resolve(""):l?Promise.reject({type:ae,reason:"Captions has been disabled by host."}):n?(Si.enableNewLLT(),Ge(yo).then(()=>{s?Si.setSpokenLanguage(Oi.English):Sf(Oi.Unspecified),t(hu(Oi.English)),r&&Si.setTranslationLanguage()})):Promise.reject({type:ae,reason:"Live transcription is not enabled."})}disableCaptions(e){const{[Te]:t}=this,{liveTranscription:{isHostDisableCaptions:n}}=t();return e?n?Promise.resolve():(Si.disableCaptions(!0),Ge(Um)):n?(Si.disableCaptions(!1),Ge(Um)):Promise.resolve()}setSpeakingLanguage(e){const{[Te]:t,[un]:n}=this,{liveTranscription:{isLiveTranscriptionSubscribed:r,isHostLockSpeakingLanguage:a,transcriptionLang:s}}=t(),l=s.find(d=>d.lang===e);if(l){const{code:d}=l;return r?(a?Si.setSpokenLanguage(d):Sf(d),n(hu(d)),Promise.resolve("")):Promise.reject({type:ae,reason:"Cannot set speaking language before starting live transcription"})}return Promise.reject({type:Qe,reason:"Unsupported transcription language"})}setTranslationLanguage(e){const{[Te]:t,[un]:n}=this,r=t(),{liveTranscription:{isEnableTranslatedCaptions:a,isLiveTranscriptionSubscribed:s,translatedSetting:l,currentTranscriptionLang:d}}=r;if(!a)return Promise.reject({type:ae,reason:"Live translation is not enabled."});if(!s)return Promise.reject({type:ae,reason:"Cannot set translation language before starting live transcription"});if(e){const f=l==null?void 0:l.find(p=>p.code===d);if(f){const{translatedToLanguage:p}=f,h=p.find(g=>g.lang===e);if(h)return Si.setTranslationLanguage(h.code),Ge({event:yo,operations:[oe(g=>g.autoCaption===!0&&g.lang===h.code),ut(1)]},g=>{let{lang:v}=g;return v===h.code})}return Promise.reject({type:ae,reason:`Cannot support translating ${vf[d||0]} to ${e}`})}return Si.setTranslationLanguage(),n(mg(void 0)),Promise.resolve("")}enableManualCaptioner(){const{[Te]:e}=this,{meeting:{meetingOptions:t},liveTranscription:{isManualCaptionerEnabled:n,isHostDisableCaptions:r}}=e();if(r)return Promise.reject({type:ae,reason:"Captions has been disabled by host."});const{isEnableManualCaptions:a,isEnableClosedCaption:s}=t;return a??s?n?Promise.resolve():(Si.enableManualCaption(!0),Ge(yo,l=>{let{autoCaption:d}=l;return d===!1})):Promise.reject({type:ae,reason:"Manual caption is not enabled."})}disableManualCaptioner(){const{[Te]:e}=this,{liveTranscription:{isManualCaptionerEnabled:t}}=e();return t?(Si.enableManualCaption(!1),Ge(yo,n=>{let{autoCaption:r}=n;return r===!0})):Promise.resolve()}assignManualCaption(e){var t;const{[Te]:n}=this,r=n(),{liveTranscription:{isManualCaptionerEnabled:a},participants:{attendeesList:s},meeting:{userId:l}}=r;return a?((t=q1(r))===null||t===void 0?void 0:t.userId)===e?Promise.resolve(""):s.find(f=>f.userId===e)?(Si.assignCC(e,!0),Ge({event:l===e?kr:Oo,operations:[oe(f=>f.userId===e),ut(1)]},f=>f.bCCEditor===!0)):Promise.reject({type:Qe,reason:"Cannot find the user"}):Promise.reject({type:ae,reason:"Cannot assign caption editor due to the manual captioner is not enabled."})}sendCaptionTextManually(e,t){var n;const{[Te]:r,[un]:a}=this,s=r(),{liveTranscription:{lastManualCaption:l},meeting:{userId:d}}=s,f=Ve(s);let p=Promise.resolve();const h=(n=q1(s))===null||n===void 0?void 0:n.userId;return f!=null&&f.isHost&&h!==d&&(p=this.assignManualCaption(d)),p.then(()=>V6(r())?function(g,v,S){const b=g.length,_=[];var E;if(S)_.push({op:"close",text:g,msgId:(E=v==null?void 0:v.msgId)!==null&&E!==void 0?E:Rm()});else if(v&&v!=null&&v.text){const A=v.text.length;let w=0,O=0;for(;g[w]===v.text[w]&&w<b;)O+=hk(g[w]),w+=1;w===A&&w===b?_.push({op:"same"}):w===A&&w<b?_.push({op:"insert",text:g.slice(w),size:0,pos:O,msgId:v.msgId}):w<A&&w===b?_.push({op:"delete",size:0,pos:O,msgId:v.msgId}):(_.push({op:"delete",size:0,pos:O,msgId:v.msgId}),_.push({op:"insert",text:g.slice(w),pos:O,msgId:v.msgId}))}else b>0&&_.push({op:"start",text:g,pos:0,size:0,msgId:Rm()});return _.filter(A=>A.op!=="same")}(e,l,t):Promise.reject({type:nr,reason:"Cannot type caption "})).then(g=>Array.isArray(g)?(g.forEach(v=>{const{text:S,...b}=v;Rn.beginEncrypt({text:S??"",type:Gn.CC_MESSAGE}).then(_=>{Si.sendManualCaption({text:_,...b});const E=t?void 0:{text:S,msgId:v.msgId};a(tU(E))})}),Ge(sf,v=>v.source===Wa.InMeetingManual)):"")}getLiveTranscriptionStatus(){const{[Te]:e}=this,{liveTranscription:{isLiveTranscriptionEnabled:t,isEnableTranslatedCaptions:n,isManualCaptionerEnabled:r,transcriptionLang:a,translatedSetting:s,isHostDisableCaptions:l}}=e();return{isLiveTranscriptionEnabled:t,isLiveTranslationEnabled:n,isHostDisableCaptions:l,isManualCaptionerEnabled:r,transcriptionLanguage:a.map(d=>d.lang).join(";"),translationLanguage:s==null?void 0:s.map(d=>({speakingLanguage:d.lang,translatedToLanguage:d.translatedToLanguage.map(f=>f.lang).join(";")}))}}getLiveTranscriptionSetting(){const{[Te]:e}=this,{meeting:{meetingOptions:t}}=e(),{isEnableManualCaptions:n,isEnableLiveTranscription:r,isEnableClosedCaption:a,isEnableAllowThirdPartyCCToken:s,isEnableViewFullTranscript:l,isEnableSaveCaptions:d}=t||{};return{isEnableManualCaptions:n,isEnableLiveTranscription:r,isEnableClosedCaption:a,isEnableAllowThirdPartyCCToken:s,isEnableViewFullTranscript:l,isEnableSaveCaptions:d}}getCurrentTranscriptionLanguage(){const{[Te]:e}=this,{liveTranscription:{currentTranscriptionLang:t}}=e();return t!==void 0?{code:G1[t],name:vf[t]}:null}getCurrentTranslationLanguage(){const{[Te]:e}=this,{liveTranscription:{currentTranslationLang:t}}=e();return t!==void 0?{code:G1[t],name:vf[t]}:null}getLatestTranscription(){const{[Te]:e}=this,{liveTranscription:{messageRecords:t,isManualCaptionerEnabled:n}}=e(),r=n?Oi.DefaultManualInput:Oi.NoTranslation,a=t.filter(s=>s.language===r);return a.length?a[a.length-1].text:""}getLatestTranslation(){const{[Te]:e}=this,{liveTranscription:{messageRecords:t,currentTranslationLang:n,isEnableTranslatedCaptions:r}}=e();if(r||n!==void 0){const a=t.filter(s=>s.language===n);return a.length?a[a.length-1].text:""}return""}getFullTranscriptionHistory(){const{[Te]:e}=this,t=e(),{liveTranscription:{messageRecords:n,isRecordsReduced:r}}=t;return r?function(a){return window.indexedDB!==void 0?new Promise(s=>{const l=window.indexedDB.open(Em,1);l.addEventListener("success",()=>{const d=l.result;if(d.objectStoreNames.contains(ia)){const f=d.transaction([ia],"readonly").objectStore(ia),p=[],h=a.meeting.meetingId,g=f.openCursor();g.onsuccess=()=>{const v=g.result;v?(v.value.mid===h&&p.push(...v.value.records),v.continue()):(s(p),d.close())}}else s("")})}):Promise.resolve("")}(t).then(a=>Array.isArray(a)?a.concat(n):[...n]):[...n]}getManualCaptionEditor(){const{[Te]:e}=this,t=e(),{closedCaption:{editorId:n}}=t;let r;if(!n)return{};if(r=kt(t).find(h=>h.userId===n),!r)return{};const{userId:a,isHost:s,displayName:l,avatar:d,bCoHost:f,zoomID:p}=r;return{userId:a,isHost:s,displayName:l,avatar:d,bCoHost:f,zoomID:p}}getManualCaptionUrl(){const{[Te]:e}=this,{meeting:{meetingOptions:t,ccUrl:n}}=e(),{isEnableManualCaptions:r}=t||{};return r?n:(console.warn("you not enable manual caption"),"")}},pe(jt.prototype,"startLiveTranscription",[me,qa],Object.getOwnPropertyDescriptor(jt.prototype,"startLiveTranscription"),jt.prototype),pe(jt.prototype,"disableCaptions",[Kt,me,qa],Object.getOwnPropertyDescriptor(jt.prototype,"disableCaptions"),jt.prototype),pe(jt.prototype,"setSpeakingLanguage",[me,qa],Object.getOwnPropertyDescriptor(jt.prototype,"setSpeakingLanguage"),jt.prototype),pe(jt.prototype,"setTranslationLanguage",[me,qa],Object.getOwnPropertyDescriptor(jt.prototype,"setTranslationLanguage"),jt.prototype),pe(jt.prototype,"enableManualCaptioner",[Kt,me,qa],Object.getOwnPropertyDescriptor(jt.prototype,"enableManualCaptioner"),jt.prototype),pe(jt.prototype,"disableManualCaptioner",[Kt,me,qa],Object.getOwnPropertyDescriptor(jt.prototype,"disableManualCaptioner"),jt.prototype),pe(jt.prototype,"assignManualCaption",[me,Kt,qa],Object.getOwnPropertyDescriptor(jt.prototype,"assignManualCaption"),jt.prototype),pe(jt.prototype,"sendCaptionTextManually",[me,qa],Object.getOwnPropertyDescriptor(jt.prototype,"sendCaptionTextManually"),jt.prototype),jt);const x6={epics0:e=>e.pipe(ke(`${Di}`),Ae(t=>{const{payload:{liveTranscription:n}}=t;return WP(n)})),epics1:(e,t)=>Ce(e,ri).pipe(oe(n=>{var r,a;return((r=n.payload.body)===null||r===void 0?void 0:r.NewLttAvaliable)!==void 0||((a=n.payload.body)===null||a===void 0?void 0:a.LiveTransEngineType)!==void 0}),Ae(n=>{const{payload:{body:{NewLttAvaliable:r,LiveTransEngineType:a}}}=n,{liveTranscription:{isEnableAutomatedCaptions:s}}=t.value;return r!==void 0?(k(Qk,!!r),KP(s&&!!r)):XP(a)})),epics2:(e,t)=>Ce(e,7982).pipe(ue(n=>{const{payload:{body:{status:r,gwId:a}}}=n,s=[];switch(r){case Bh.Ready:s.push(QP(a));break;case Bh.ManualCaptionerEnabled:k(yo,{autoCaption:!1}),s.push(iE(!0));break;case Bh.ManualCaptionerDisabled:k(yo,{autoCaption:!0}),s.push(CP({editorId:"",isEditor:!1,editorZoomId:""})),s.push(iE(!1));break;case Bh.UserSub:{k(yo,{autoCaption:t.value.liveTranscription.isLiveTranscriptionEnabled});const{liveTranscription:{stateBeforeFailover:d}}=t.value;if(d!=null&&d.isLiveTranscriptionSubscribed){var l;$1.enableNewLLT();const f=(l=d.currentTranscriptionLang)!==null&&l!==void 0?l:Oi.Unspecified;Sf(f),s.push(hu(f)),d.currentTranslationLang!==void 0&&$1.setTranslationLanguage(d.currentTranslationLang),s.push(eU())}break}}return ve(s)})),epics3:e=>Ce(e,7984).pipe(Ae(t=>{const{payload:{body:{langs:n}}}=t;return ZP(n)})),epics4:e=>Ce(e,8011).pipe(ue(t=>{const{payload:{body:{disabled:n}}}=t,r=[];return k(Um,n),r.push(rU(n)),n&&r.push(oE(!1)),ve(r)})),epics5:e=>Ce(e,7985).pipe(oe(t=>{var n;return((n=t.payload.body)===null||n===void 0?void 0:n.success)===!0}),ue(t=>{const{payload:{body:{src:n,lang:r,success:a}}}=t,s=[];return a&&s.push(oE(!0)),n===Wa.ASR?(r===Oi.NoTranslation?s.push(mg(void 0)):s.push(mg(r)),k(yo,{autoCaption:!0,lang:r})):[Wa.InMeetingManual,Wa.ExternalCaptioner].includes(n)&&k(yo,{autoCaption:!1}),ve(s)})),epics6:(e,t)=>Ce(e,7986).pipe(Ie(t),ue(n=>{let[r,a]=n;const s=Ve(a),{liveTranscription:{currentTranscriptionLang:l}}=a,{payload:{body:d}}=r,f=[];if((d==null?void 0:d.lang)!==void 0){const{lang:p}=d;(s==null?void 0:s.audio)==="computer"&&l!==p&&Sf(p),f.push(hu(p))}return ve(f)})),epics7:(e,t)=>$e(e,ce.JoinComputerAudioComplete).pipe(oe(()=>t.value.liveTranscription.isLiveTranscriptionSubscribed),De(()=>{const{liveTranscription:{currentTranscriptionLang:n}}=t.value;n&&Sf(n)}),je(_e)),epics8:(e,t)=>Ce(e,7983).pipe(oe(n=>n.payload.body!==void 0),ue(n=>{const{payload:{body:{msgType:r,errorCode:a,language:s,source:l,content:d,keyNodeId:f,msgId:p,nodeId:h,pos:g,size:v,audioLanguage:S}}}=n;if(r===Ga.Error){if(a===F1.TranslateNotSupport){const{liveTranscription:{currentTranslationLang:b}}=t.value;b&&k(sf,{error:F1.TranslateNotSupport,errorMessage:`${vf[S]} to ${vf[b]} translation is not supported!`,audioLanguage:S,translationLang:b})}}else{const b=t.value,_=kt(b),{liveTranscription:{isManualCaptionerEnabled:E}}=b;if(E&&l===Wa.ASR)return Promise.resolve();if(function(A,w){const{liveTranscription:{isEnableTranslatedCaptions:O,isLiveTranscriptionEnabled:I},meeting:{meetingOptions:V}}=w,{isEnableManualCaptions:U,isEnableAllowHostAssignTypeCC:x,isEnableClosedCaption:$,isEnableAllowThirdPartyCCToken:W}=V;return A===Wa.ASR?O||I:A===Wa.InMeetingManual?U&&x||U===void 0&&$:A===Wa.ExternalCaptioner?W:void 0}(l,b)&&d&&f){const A=U6(b)[f];if(A)return Rn.beginDecrypt({decryptedText:d,type:Gn.CC_MESSAGE,zoomId:A}).then(w=>{let{message:O}=w;const{liveTranscription:{messageRecords:I}}=t.value,V=[],U=I.find(x=>x.msgId===p);if(U){const{text:x}=U,$=((z,L)=>{if(!z||L===0)return"";let T=0;for(let N=0;N<z.length;N++)if(T+=hk(z[N]),T===L)return z.slice(0,N+1);return z})(x,g);let W;r===Ga.Insert&&v===0||r===Ga.Delete&&v===0?W={...U,text:$+O,msgType:r}:r===Ga.Close&&(W={...U,text:O,msgType:r,done:!0}),W&&(V.push(JP(W)),k(sf,W))}else if([Ga.New,Ga.Close].includes(r)||E&&r===Ga.Insert){const x=_.find(W=>W.userId===h),$={msgId:p,userId:h,displayName:x==null?void 0:x.displayName,avatar:x==null?void 0:x.avatar,text:O,source:l,language:s,timestamp:new Date().getTime(),done:r===Ga.Close};V.push(aE({...$,msgType:r})),k(sf,$)}return V})}}return Promise.resolve()}),ue(n=>Array.isArray(n)?ve(n):_e)),epics9:(e,t)=>e.pipe(ke(`${aE}`),Sr(qf),ue(()=>{const{liveTranscription:{messageRecords:n}}=t.value;return n.length>=1e5?function(r){const{meeting:{meetingId:a},liveTranscription:{messageRecords:s,reducedRecordsCount:l}}=r;return window.indexedDB!==void 0?new Promise(d=>{const f=window.indexedDB.open(Em,1);f.addEventListener("upgradeneeded",()=>{const p=f.result;if(!p.objectStoreNames.contains(ia)){const h=p.createObjectStore(ia,{keyPath:["startIndex","mid"],autoIncrement:!1});h.createIndex("mid","mid",{unique:!1}),h.transaction.oncomplete=()=>{console.log(`Create objectStore [${ia}] complete`)}}}),f.addEventListener("success",()=>{const p=f.result,h=s.length,g=.9*h,v=h-g,S=s.slice(0,g),b=l+S.length,_=p.transaction([ia],"readwrite");_.objectStore(ia).put({startIndex:l,mid:a,records:S}),_.oncomplete=()=>{d(YP({remains:v,reducedRecordsCount:b})),p.close()},_.onerror=()=>{d(""),p.close()}})}):Promise.resolve("")}(t.value):Promise.resolve("")}),oe(n=>typeof n=="object")),epics10:(e,t)=>e.pipe(ke(`${Ef}`,`${fd}`),oe(()=>t.value.liveTranscription.isRecordsReduced),De(()=>{(function(){if(window.indexedDB!==void 0){const n=window.indexedDB.open(Em,1);n.addEventListener("success",()=>{const r=n.result;r.objectStoreNames.contains(ia)&&(window.indexedDB.deleteDatabase(Em),r.close())})}})()}),je(_e)),epics11:(e,t)=>$e(e,[ce.AudiobridgeSetCcLangSuccess,ce.AudiobridgeSetCcLangFailure]).pipe(ue(n=>{const{payload:{type:r,data:a}}=n,{liveTranscription:{currentTranscriptionLang:s}}=t.value,l=[];return r===ce.AudiobridgeSetCcLangSuccess&&a!==s?l.push(hu(a)):r===ce.AudiobridgeSetCcLangFailure&&l.push(hu(void 0)),ve(l)}))},H6=_r(x6),K1={isLiveStreamEnable:!1,status:0},z6=br({[`${oU}`]:B((e,t)=>{let{payload:n}=t;e.isLiveStreamEnable=n}),[`${yg}`]:B((e,t)=>{let{payload:n}=t;e.status=n}),[`${aU}`]:(e,t)=>{let{payload:n}=t;return n?{...e}:{...K1}}},K1);let $a=function(e){return e[e.Ended=0]="Ended",e[e.InProgress=1]="InProgress",e[e.Connecting=2]="Connecting",e[e.Timeout=3]="Timeout",e}({});var Qs;const W1=at.createAgent();let F6=(pe((Qs=class extends To{startLiveStream(e,t,n){const{[Te]:r,[un]:a}=this,{liveStream:{isLiveStreamEnable:s,status:l}}=r();return l===$a.InProgress?Promise.reject({type:ae,reason:"Live stream is already on"}):s?e&&t&&n?(W1.startLiveStream(e,t,n),Ge({event:ff,operations:[oe(d=>d===$a.InProgress),ut(1)]},void 0,3e4).then(()=>"").catch(()=>{const{liveStream:{status:d}}=r();return d===$a.Connecting?(k(ff,$a.Timeout),a(yg($a.Timeout)),Promise.reject({type:bo})):Promise.resolve("")})):Promise.resolve({type:Qe,reason:"parameter cannot be empty"}):Promise.reject({type:ae,reason:"Live stream is not enabled"})}stopLiveStream(){const{[Te]:e,[un]:t}=this,{liveStream:{status:n}}=e();return n===$a.InProgress&&(W1.stopLiveStream(),k(ff,$a.Ended),t(yg($a.Ended))),Promise.resolve("")}isLiveStreamEnabled(){var e;const{[Te]:t}=this;return!((e=t().liveStream)===null||e===void 0||!e.isLiveStreamEnable)}getLiveStreamStatus(){var e;const{[Te]:t}=this;return(e=t().liveStream)===null||e===void 0?void 0:e.status}}).prototype,"startLiveStream",[Kt],Object.getOwnPropertyDescriptor(Qs.prototype,"startLiveStream"),Qs.prototype),pe(Qs.prototype,"stopLiveStream",[Kt],Object.getOwnPropertyDescriptor(Qs.prototype,"stopLiveStream"),Qs.prototype),Qs);const G6=_r({epics0:e=>e.pipe(ke(`${Di}`),Ae(t=>{const{payload:{liveStreamInfo:n}}=t;return oU(!(n==null||!n.isEnabledLiveStream))})),epics1:e=>Ce(e,7970).pipe(Ae(t=>{const{payload:{body:{channelName:n,liveStreamOn:r,isApiCall:a,status:s,viewerUrl:l}}}=t;return k(ff,s),yg(s)}))}),{setSummaryEnable:VV,setSmartSummaryStatus:jV,resetSummary:q6}=bn("SET_SUMMARY_ENABLE","SET_SMART_SUMMARY_STATUS","RESET_SUMMARY"),{setMeetingQueryEnable:BV,setMeetingQueryStatus:xV}=bn("SET_MEETING_QUERY_ENABLE","SET_MEETING_QUERY_STATUS");let os=function(e){return e.Default="",e.Start="Start",e.Paused="Paused",e.Stopped="Stopped",e}({}),cs=function(e){return e[e.GW_IND_NONE=0]="GW_IND_NONE",e[e.GW_IND_START=1]="GW_IND_START",e[e.GW_IND_PAUSE=2]="GW_IND_PAUSE",e[e.GW_IND_STOP=3]="GW_IND_STOP",e}({}),as=function(e){return e.Default="",e.Start="Start",e.Paused="Paused",e.Stopped="Stopped",e}({}),fs=function(e){return e[e.GW_IND_NONE=0]="GW_IND_NONE",e[e.GW_IND_START=1]="GW_IND_START",e[e.GW_IND_PAUSE=2]="GW_IND_PAUSE",e[e.GW_IND_STOP=3]="GW_IND_STOP",e}({});const Q1={summaryStatus:cs.GW_IND_STOP,summaryEnable:!1,meetingQueryStatus:fs.GW_IND_STOP,meetingQueryEnable:!1},$6=br({[`${VV}`]:B((e,t)=>{let{payload:n}=t;e.summaryEnable=n}),[`${jV}`]:B((e,t)=>{let{payload:n}=t;e.summaryStatus=n}),[`${BV}`]:B((e,t)=>{let{payload:n}=t;e.meetingQueryEnable=n}),[`${xV}`]:B((e,t)=>{let{payload:n}=t;e.meetingQueryStatus=n}),[`${q6}`]:()=>({...Q1})},Q1);var Z1,J1,Y1,X1,Kr;const xh=at.createAgent();let K6=(Z1=Re("summary"),J1=Re("summary"),Y1=Re("summary"),X1=Re("summary"),pe((Kr=class extends To{startSummary(){const e=this[Te](),{summary:{summaryEnable:t,summaryStatus:n}}=e;return t?n===cs.GW_IND_START?Promise.resolve(""):(xh.summaryMeeting(!0),Ge(es,r=>r.status===os.Start)):Promise.reject({type:ae,reason:"The account of the meeting disabled the smart summary"})}stopSummary(){const e=this[Te](),{summary:{summaryStatus:t}}=e;return t!==cs.GW_IND_START?Promise.resolve("not start summary, do nothing"):(xh.summaryMeeting(!1),Ge(es,n=>n.status===os.Stopped))}getSummaryStatus(){const e=this[Te](),{summary:{summaryStatus:t}}=e;return t===cs.GW_IND_START?os.Start:t===cs.GW_IND_STOP?os.Stopped:os.Default}isSummaryEnabled(){const e=this[Te](),{summary:{summaryEnable:t}}=e;return t}startMeetingQuery(){const e=this[Te](),{summary:{meetingQueryEnable:t,meetingQueryStatus:n}}=e;return t?n===fs.GW_IND_START?Promise.resolve(""):(xh.startMeetingQuery(!0),Ge(ts,r=>r.status===as.Start)):Promise.reject({type:ae,reason:"The account of the meeting disabled the smart summary"})}stopMeetingQuery(){const e=this[Te](),{summary:{meetingQueryStatus:t}}=e;return t!==fs.GW_IND_START?Promise.resolve("not start meeting query, do nothing"):(xh.startMeetingQuery(!1),Ge(ts,n=>n.status===as.Stopped))}getMeetingQueryStatus(){const e=this[Te](),{summary:{meetingQueryStatus:t}}=e;return t===fs.GW_IND_START?as.Start:t===fs.GW_IND_STOP?as.Stopped:as.Default}isMeetingQueryEnabled(){const e=this[Te](),{summary:{meetingQueryEnable:t}}=e;return t}}).prototype,"startSummary",[Kt,me,Z1],Object.getOwnPropertyDescriptor(Kr.prototype,"startSummary"),Kr.prototype),pe(Kr.prototype,"stopSummary",[Kt,me,J1],Object.getOwnPropertyDescriptor(Kr.prototype,"stopSummary"),Kr.prototype),pe(Kr.prototype,"startMeetingQuery",[Kt,me,Y1],Object.getOwnPropertyDescriptor(Kr.prototype,"startMeetingQuery"),Kr.prototype),pe(Kr.prototype,"stopMeetingQuery",[Kt,me,X1],Object.getOwnPropertyDescriptor(Kr.prototype,"stopMeetingQuery"),Kr.prototype),Kr);const W6=_r({moduleEpics0:e=>Ce(e,8007).pipe(oe(t=>{var n;return((n=t.payload.body)===null||n===void 0?void 0:n.supported)!==void 0}),Ae(t=>{const{supported:n}=t.payload.body;return k(es,{supported:n}),VV(n)})),moduleEpics1:(e,t)=>Ce(e,8008).pipe(oe(n=>{var r;return((r=n.payload.body)===null||r===void 0?void 0:r.status)!==void 0}),Ie(t),ue(n=>{let[r,a]=n;const{status:s}=r.payload.body,{summary:{summaryStatus:l}}=a,d=[];if(s!==l)switch(s){case cs.GW_IND_START:k(es,{status:os.Start});break;case cs.GW_IND_PAUSE:k(es,{status:os.Paused});break;case cs.GW_IND_STOP:k(es,{status:os.Stopped});break;default:k(es,{status:""})}return d.push(jV(s)),ve(d)})),moduleEpics2:(e,t)=>Ce(e,8015).pipe(oe(n=>{var r;return((r=n.payload.body)===null||r===void 0?void 0:r.supported)!==void 0}),Ie(t),Ae(n=>{let[r,a]=n;const{supported:s}=r.payload.body;k(ts,{supported:s});const{meeting:{zlkJwtToken:l}}=a;if(l){const{auto_transcription:d}=Kf(l);d&&(s?at.createAgent().startMeetingQuery(!0):console.warn("You account don't support auto transcription"))}return BV(s)})),moduleEpics3:(e,t)=>Ce(e,8016).pipe(oe(n=>{var r;return((r=n.payload.body)===null||r===void 0?void 0:r.status)!==void 0}),Ie(t),ue(n=>{let[r,a]=n;const{status:s}=r.payload.body,{summary:{meetingQueryStatus:l}}=a,d=[];if(s!==l)switch(s){case fs.GW_IND_START:k(ts,{status:as.Start});break;case fs.GW_IND_PAUSE:k(ts,{status:as.Paused});break;case fs.GW_IND_STOP:k(ts,{status:as.Stopped});break;default:k(ts,{status:""})}return d.push(xV(s)),ve(d)}))});var qc;const Q6={chat:{epic:I4,reducer:O4,Client:T4},logger:{epic:i6,reducer:e6,Client:class extends To{getLogs(e){return Uh.getLogs(this[zt],e)}getStore(){return Uh.doNotUseDirtyGetStore()}setLogOptions(e){e&&this[zt].dispatch(zA(e))}reportToGlobalTracing(e){return Uh.reportToGlobalTracing(e)}reportRating(e,t){const{meeting:n,media:r,socket:a}=this[zt].getState();if(n){var s,l,d,f,p;const{zlkJwtToken:h,meetingStatus:g}=n,{assetsPath:v,enforceMultipleVideos:S,enforceVirtualBackground:b}=r;Uh.report(`rating:${e}, feedback:${t}, appKey:${h?(s=Kf(h))===null||s===void 0?void 0:s.app_key:""}, CPU:${navigator.hardwareConcurrency}, GPU:${(l=Me.gpu)!==null&&l!==void 0?l:""}, browser:${Me.browser} ${Me.browserVersion}, OS:${Me.os} ${Me.osVersion}, SharedArrayBuffer:${!!window.crossOriginIsolated}, assetPath:${v}, enforceMultipleVideos:${S}, enforceVirtualBackground:${b}, ${g===Xt.Joined?`session duration:${Math.floor(((d=performance.now()-(n==null?void 0:n.pingRWCTimestamp))!==null&&d!==void 0?d:0)/1e3)}, rwg:${a==null||(f=a.rwgServerList)===null||f===void 0||(p=f[a.retryCount])===null||p===void 0?void 0:p.rwg}, failover count:${n==null?void 0:n.failover.count}`:""}`,"User Rating","info"),Number(e)<=2&&this.reportToGlobalTracing()}return Promise.resolve()}}},recording:{epic:l6,reducer:a6,Client:s6},cmd:{epic:h6,reducer:d6,Client:c6},breakoutRoom:{epic:P6,reducer:S6,Client:k6},liveTranscription:{epic:H6,reducer:j6,Client:B6},liveStream:{epic:G6,reducer:z6,Client:F6},summary:{epic:W6,reducer:$6,Client:K6}},Z6=at.createAgent();let J6=(qc=class extends b4{constructor(e){super(e),this.mediaStream=void 0,this[Lg]=Q6}getMediaStream(){return this.mediaStream===void 0&&(this.mediaStream=new v6(this[zt])),this.mediaStream}joinInstant(e,t,n,r,a,s){const{[Te]:l,[un]:d}=this,{meeting:{lang:f,meetingStatus:p},socket:{zoomSocketStatus:h}}=l();return t?p!==Xt.Joined&&h===Ot.Closed?(d(_f({topic:e,password:a||"",userName:n,zlk:t,lang:f,cv:r})),s&&d(Dk(s)),Ka(Hx.JoinMeeting)):Promise.reject({type:ae,reason:"duplicated operation"}):Promise.reject({type:ae,reason:"invalid  signature"})}removeUser(e){const t=this[zt].getState(),{participants:{attendeesList:n}}=t;return n.find(a=>a.userId===e)?(Z6.expel(e),Ge(cA,a=>a.some(s=>s.userId===e))):Promise.reject({type:Qe,reason:"no matched user"})}},pe(qc.prototype,"removeUser",[Ci,me],Object.getOwnPropertyDescriptor(qc.prototype,"removeUser"),qc.prototype),qc);class Y6{constructor(t){this.instant=void 0,this.context=void 0,this.script=void 0,this.mic=void 0,this.instant=0,this.context=t,this.mic=null,this.script=t.createScriptProcessor(2048,1,1),this.script.onaudioprocess=n=>{const r=n.inputBuffer.getChannelData(0);let a,s=0;for(a=0;a<r.length;++a)s+=r[a]*r[a];this.instant=Math.sqrt(s/r.length)}}connectToSource(t){console.log("InputMicDetector is listening");try{var n;this.mic=this.context.createMediaStreamSource(t),this.mic.connect(this.script),(n=this.script)===null||n===void 0||n.connect(this.context.destination)}catch(r){console.error(r)}}stop(){var t,n;console.log("Audio Previewer stopped"),(t=this.mic)===null||t===void 0||t.disconnect(),this.mic=null,(n=this.script)===null||n===void 0||n.disconnect(),this.script=null}getMicVolume(){return this.instant}}const X6="https://st1.zoom.us/web_client/4qu8baa/audio/ring.mp3";class eF{constructor(){this.sampleAudio=void 0,this.audioCtx=void 0,this.destinationNode=void 0,this.audioPlayer=void 0,this.analyzserInterval=void 0,this.analyserNode=void 0,this.analyserNodeBufferDataArray=void 0,this.analyserCallback=void 0,this.sourceNode=void 0,this.mAudioStream=void 0,this.mSourceNode=void 0,this.mediaRecorder=void 0,this.isRecording=void 0,this.recorderChunks=[],this.recorderObjUrl=void 0,this.recorderPlayer=void 0,this.maximumRecordingTimer=void 0,this.shouldPlayAfterRecording=!0,this.isRunning=!1}testSpeaker(t){var n;if(typeof AudioContext!="function"||typeof MediaStreamAudioDestinationNode!="function"||!AudioContext.prototype.decodeAudioData)return void console.warn("Cannot test the speaker due to the browser capability");const{speakerId:r,sampleAudioUrl:a=X6,onAnalyseFrequency:s}=t||{};if(this.isRunning)return void console.warn("A tester is running,please stop it first");this.isRunning=!0,this.initAudioContext(),(((n=this.sampleAudio)===null||n===void 0?void 0:n.url)===a&&this.sampleAudio.data?Promise.resolve(this.sampleAudio.data):window.fetch(a).then(d=>d.arrayBuffer()).then(d=>this.audioCtx.decodeAudioData(d)).then(d=>(this.sampleAudio={url:a,data:d},d))).then(d=>{var f,p,h;this.sourceNode=this.audioCtx.createBufferSource(),this.sourceNode.buffer=d,this.sourceNode.loop=!0,r&&(f=this.audioPlayer)!==null&&f!==void 0&&f.setSinkId&&this.audioPlayer.setSinkId(r),s?typeof AudioContext.prototype.createAnalyser=="function"?(this.analyzserInterval&&window.clearInterval(this.analyzserInterval),this.analyserCallback=s,this.initAnalyserNode(),this.analyserNode&&this.sourceNode.connect(this.analyserNode)):(this.sourceNode.connect(this.destinationNode),console.warn("Cannot analyze the stream due to the browser capability")):(this.analyserCallback=void 0,this.sourceNode.connect(this.destinationNode)),this.sourceNode.start(0),((p=this.audioCtx)===null||p===void 0?void 0:p.state)!=="running"&&((h=this.audioCtx)===null||h===void 0||h.resume()),this.audioPlayer&&(this.audioPlayer.muted=!1,this.audioPlayer.currentTime=0,this.audioPlayer.play())});const l=()=>{this.isRunning=!1,this.audioPlayer&&(this.audioPlayer.currentTime=0,this.audioPlayer.pause()),this.analyserNode&&this.analyzserInterval&&(window.clearInterval(this.analyzserInterval),this.analyzserInterval=void 0,this.analyserNodeBufferDataArray=void 0),this.sourceNode&&(this.sourceNode.stop(0),this.sourceNode.disconnect(),this.sourceNode.buffer=null,this.sourceNode=void 0)};return{stop:l,destroy:()=>{var d;l(),this.analyserNode&&this.destinationNode&&(this.analyserNode.disconnect(this.destinationNode),this.analyserNode=void 0),(d=this.audioCtx)===null||d===void 0||d.close(),this.audioCtx=void 0}}}testMicrophone(t){var n;if(typeof AudioContext!="function"||typeof MediaStreamAudioDestinationNode!="function"||typeof AudioContext.prototype.createMediaStreamSource!="function"||typeof((n=navigator.mediaDevices)===null||n===void 0?void 0:n.getUserMedia)!="function")return void console.warn("Cannot test the microphone due to the browser capability");const{microphoneId:r,speakerId:a,recordAndPlay:s,maxRecordDuration:l,onAnalyseFrequency:d,onStartRecording:f,onStopRecording:p,onStartPlayRecording:h,onStopPlayRecording:g}=t||{};if(this.isRunning)return void console.warn("A tester is running,please stop it first");this.isRunning=!0,this.initAudioContext();const v=()=>{s&&this.mediaRecorder&&this.isRecording&&(this.shouldPlayAfterRecording=!0,this.mediaRecorder.state!=="inactive"&&this.mediaRecorder.stop())};window.navigator.mediaDevices.getUserMedia({audio:!r||{deviceId:{exact:r}}}).then(b=>{var _,E,A,w;this.mAudioStream=b,this.mSourceNode=(_=this.audioCtx)===null||_===void 0?void 0:_.createMediaStreamSource(b),this.audioPlayer.muted=!0,d?(this.analyzserInterval&&window.clearInterval(this.analyzserInterval),this.analyserCallback=d,this.initAnalyserNode(),this.analyserNode&&((A=this.mSourceNode)===null||A===void 0||A.connect(this.analyserNode))):this.analyserCallback=void 0,s&&(typeof MediaRecorder=="function"?(this.recorderObjUrl&&window.URL.revokeObjectURL(this.recorderObjUrl),this.mediaRecorder=new MediaRecorder(this.mAudioStream),this.mediaRecorder.ondataavailable=O=>{O.data&&this.recorderChunks.push(O.data)},this.mediaRecorder.onstop=()=>{if(this.isRecording=!1,this.maximumRecordingTimer&&(window.clearTimeout(this.maximumRecordingTimer),this.maximumRecordingTimer=void 0),p==null||p(),this.recorderChunks.length>0){var O;const I=new Blob(this.recorderChunks,{type:((O=this.recorderChunks[0])===null||O===void 0?void 0:O.type)||"audio/ogg; codecs=opus"});this.recorderObjUrl=window.URL.createObjectURL(I),this.shouldPlayAfterRecording&&this.playRecording(this.recorderObjUrl,a,h,g).catch(V=>{this.analyzserInterval&&(window.clearInterval(this.analyzserInterval),this.analyzserInterval=void 0,this.analyserNodeBufferDataArray=void 0),console.warn(V)}),this.recorderChunks=[],this.mediaRecorder&&(this.mediaRecorder.ondataavailable=null,this.mediaRecorder.onstop=null,this.mediaRecorder=void 0)}},this.mediaRecorder.start(),this.isRecording=!0,f==null||f(),this.maximumRecordingTimer=window.setTimeout(()=>{v()},l||1e4)):console.warn("Cannot record the sound due to the browser capability")),((E=this.audioCtx)===null||E===void 0?void 0:E.state)!=="running"&&((w=this.audioCtx)===null||w===void 0||w.resume()),this.audioPlayer&&(this.audioPlayer.currentTime=0,this.audioPlayer.play())});const S=()=>{this.isRunning=!1,this.maximumRecordingTimer&&(window.clearTimeout(this.maximumRecordingTimer),this.maximumRecordingTimer=void 0),this.audioPlayer&&(this.audioPlayer.currentTime=0,this.audioPlayer.pause()),this.analyserNode&&this.analyzserInterval&&(window.clearInterval(this.analyzserInterval),this.analyzserInterval=void 0,this.analyserNodeBufferDataArray=void 0),this.mSourceNode&&(d&&this.analyserNode&&this.mSourceNode.disconnect(this.analyserNode),this.mSourceNode=void 0),this.mAudioStream&&(this.mAudioStream.getAudioTracks().forEach(b=>{b.stop()}),this.mAudioStream=void 0),this.mediaRecorder&&(this.shouldPlayAfterRecording=!1,this.mediaRecorder.ondataavailable=null,this.mediaRecorder.onstop=null,this.mediaRecorder.state!=="inactive"&&this.mediaRecorder.stop(),this.isRecording=!1,this.mediaRecorder=void 0,this.recorderChunks=[]),this.recorderPlayer&&(this.recorderPlayer.currentTime=0,this.recorderPlayer.pause())};return{stop:S,stopRecording:v,destroy:()=>{var b;S(),this.analyserNode&&this.destinationNode&&(this.analyserNode.disconnect(this.destinationNode),this.analyserNode=void 0),(b=this.audioCtx)===null||b===void 0||b.close(),this.audioCtx=void 0}}}initAudioContext(){this.audioCtx&&this.audioPlayer||(this.audioCtx=new AudioContext,this.destinationNode=new MediaStreamAudioDestinationNode(this.audioCtx),this.audioPlayer=new Audio,this.audioPlayer.loop=!0,this.audioPlayer.srcObject=this.destinationNode.stream)}initAnalyserNode(){this.analyserNode||(this.analyserNode=this.audioCtx.createAnalyser(),this.analyserNode.connect(this.destinationNode),this.analyserNode.fftSize=1024);const t=this.analyserNode.frequencyBinCount;this.analyserNodeBufferDataArray=new Uint8Array(t),this.analyzserInterval=window.setInterval(this.audioAnalyserCallback.bind(this),20)}audioAnalyserCallback(){if(this.analyserNodeBufferDataArray&&this.analyserNode&&this.analyserCallback){this.analyserNode.getByteFrequencyData(this.analyserNodeBufferDataArray);let t=0;for(const r of this.analyserNodeBufferDataArray)t+=r;const n=t/this.analyserNodeBufferDataArray.length;this.analyserCallback(n)}}playRecording(t,n,r,a){this.recorderPlayer=new Audio,this.recorderPlayer.src=t,this.recorderPlayer.currentTime=0,this.recorderPlayer.setSinkId&&n&&this.recorderPlayer.setSinkId(n);const s=()=>{a==null||a(),this.recorderPlayer&&(this.recorderPlayer.onpause=null,this.recorderPlayer.onended=null,this.recorderPlayer=void 0,this.isRunning=!1)};return new Promise((l,d)=>{this.recorderPlayer&&(this.recorderPlayer.onpause=()=>{l(!0)},this.recorderPlayer.onended=()=>{l(!0)},this.recorderPlayer.onerror=d,r==null||r(),this.recorderPlayer.play().catch(d))}).finally(()=>{window.URL.revokeObjectURL(t),s()})}}const Ob="AudioNotStartedError";class tF{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";this.audioContext=void 0,this.inputMicDetector=void 0,this.isMicUnmuted=void 0,this.isAudioStarted=void 0,this.audioStream=void 0,this.deviceId=void 0,this.tester=void 0,this.audioContext=null,this.inputMicDetector=null,this.isMicUnmuted=!1,this.isAudioStarted=!1,this.audioStream=null,this.deviceId=t,this.tester=new eF}async start(){if(this.audioStream||this.isAudioStarted)throw new Error("AudioAlreadyStartedError");try{const t=await navigator.mediaDevices.getUserMedia(this.getAudioConstraints());this.audioStream=t,this.isAudioStarted=!0}catch(t){throw t}}async unmute(){if(!this.audioStream||!this.isAudioStarted)throw new Error(Ob);if(this.isMicUnmuted)throw new Error("AudioAlreadyUnmutedError");return this.toggleMicIsMuted(!0)}async mute(){if(!this.audioStream||!this.isAudioStarted)throw new Error(Ob);if(!this.isMicUnmuted)throw new Error("AudioAlreadyMutedError");return this.toggleMicIsMuted(!1)}getCurrentVolume(){return this.inputMicDetector?this.inputMicDetector.getMicVolume():0}async stop(){if(!this.audioStream||!this.isAudioStarted)throw new Error(Ob);this.audioStream.getAudioTracks().forEach(t=>t.stop()),this.audioStream=null,this.isAudioStarted=!1}async toggleMicIsMuted(t){if(t){if(!this.audioContext){const n=window.AudioContext||window.webkitAudioContext;this.audioContext=new n}this.inputMicDetector=new Y6(this.audioContext),this.inputMicDetector.connectToSource(this.audioStream)}else this.inputMicDetector&&this.inputMicDetector.stop(),this.inputMicDetector=null;this.isMicUnmuted=t}getAudioConstraints(){return{audio:this.deviceId===""||{deviceId:{exact:this.deviceId}},video:!1}}testSpeaker(t){return this.tester.testSpeaker(t)}testMicrophone(t){return this.tester.testMicrophone(t)}}const nF={width:{min:1024,ideal:1280,max:1920},height:{min:576,ideal:720,max:1080},aspectRatio:{ideal:1.777777778}};class rF{constructor(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";this.isVideoStarted=void 0,this.videoStream=void 0,this.deviceId=void 0,this.localPreview=void 0,this.vbPreviewInProgress=void 0,this.videoParams=void 0,this.isVideoStarted=!1,this.videoStream=null,this.vbPreviewInProgress=!1,this.deviceId=t,this.localPreview=new wu}async start(t,n){if(!t)throw new Error("Video DOM element is falsy");if(this.isVideoStarted||this.videoStream)throw new Error("VideoAlreadyStartedError");this.videoParams={videoDOMElement:t,virtualBackground:n};const r=async a=>{if(!a||a.name!=="OverconstrainedError"&&a.name!=="ConstraintNotSatisfiedError")throw a;console.log(`Warning: detected ${a.name} -- trying to fall back to lower aspect ratio`);try{const s=await navigator.mediaDevices.getUserMedia(this.getVideoConstraints(!0));return this.tryPlayVideo(t,s)}catch(s){throw s}};if(t instanceof HTMLVideoElement)try{const a=await navigator.mediaDevices.getUserMedia(this.getVideoConstraints());return this.tryPlayVideo(t,a)}catch(a){return r(a)}else{if(!(t instanceof HTMLCanvasElement&&n!=null&&n.imageUrl))throw new Error("Cannot start video with virtual background");this.localPreview.setup().then(()=>this.localPreview.startPreview(t,{...n,deviceId:this.deviceId})).then(()=>{this.vbPreviewInProgress=!0})}}async stop(){if(this.vbPreviewInProgress)await this.localPreview.stopPreview(),this.vbPreviewInProgress=!1;else{if(!this.videoStream||!this.isVideoStarted)throw new Error("VideoNotStartedError");this.videoStream.getVideoTracks().forEach(t=>t.stop()),this.videoStream=null,this.isVideoStarted=!1}}async switchCamera(t){t!==this.deviceId&&(this.deviceId=t,await this.stop(),this.videoParams&&await this.start(this.videoParams.videoDOMElement,this.videoParams.virtualBackground))}async updateVirtualBackground(t,n){this.vbPreviewInProgress&&await this.localPreview.updatePreview(t,n)}getVideoConstraints(){let t=nF;return arguments.length>0&&arguments[0]!==void 0&&arguments[0]?t=this.deviceId===""||{deviceId:{exact:this.deviceId}}:this.deviceId!==""&&(t.deviceId={exact:this.deviceId}),{audio:!1,video:t}}async tryPlayVideo(t,n){if(!t)throw new Error("Video DOM element is falsy");try{this.videoStream=n,t.srcObject=this.videoStream,await t.play(),this.isVideoStarted=!0}catch(r){throw r}}}class go{static createClient(){if(!this.meetingClient){const t=function(){const n=function(d){d===void 0&&(d={});var f,p=new aR.constructor(aR.schedulerActionCtor),h=new Ti,g=function(v){f=v;var S=new Ti,b=new Ti,_=S.asObservable().pipe(Sr(p)),E=new JB(b.pipe(Sr(p)),f.getState());return h.pipe(Ae(function(A){var w=A(_,E,d.dependencies);if(!w)throw new TypeError('Your root Epic "'+(A.name||"<anonymous>")+`" does not return a stream. Double check you're not missing a return statement!`);return w}),ue(function(A){return ve(A).pipe(Vb(p),Sr(p))})).subscribe(f.dispatch),function(A){return function(w){var O=A(w);return b.next(f.getState()),S.next(w),O}}};return g.run=function(v){h.next(v)},g}(),{epicSubject:r,rootEpic:a}=function(){const d=new RB(tk(k3,z3,K3,g4));return{epicSubject:d,rootEpic:(f,p,h)=>d.pipe(ue(g=>g(f,p,h)))}}(),s=[n],l=NM(w0(),v4(function(){for(var d=arguments.length,f=new Array(d),p=0;p<d;p++)f[p]=arguments[p];return function(h){return function(){var g=h.apply(void 0,arguments),v=function(){throw new Error(lr(15))},S={getState:g.getState,dispatch:function(){return v.apply(void 0,arguments)}},b=f.map(function(_){return _(S)});return v=LM.apply(void 0,b)(g.dispatch),cR(cR({},g),{},{dispatch:v})}}}(...s)));return l.asyncReducers={},l.injectReducer=(d,f)=>{l.asyncReducers[d]===void 0&&(l.asyncReducers[d]=f,l.replaceReducer(w0(l.asyncReducers)))},l.injectEpic=d=>{r.next(d)},n.run(a),l}();this.meetingClient=new J6(t)}return this.meetingClient}static destroyClient(){this.meetingClient&&(this.meetingClient.leave().then(()=>{On(500).subscribe(()=>{EA()})}),this.meetingClient=null)}static checkFeatureRequirements(){return function(){const t=[],n=[],{isAndroidOrIOSBrowser:r,browser:a,browserVersion:s,os:l,osVersion:d,isChrome:f,isFirefox:p}=Me;!r&&(f||p)&&Oc()?t.push("Virtual Background"):n.push("Virtual Background"),(r||f)&&Oc()?(t.push("720p Video (send)"),t.push("Share Chrome Tab Audio")):(n.push("720p Video (send)"),n.push("Share Chrome Tab Audio")),(r||f||p)&&Oc()?t.push("Render Multiple Videos"):n.push("Render Multiple Videos"),!r&&Oc()?(t.push("Screen Share (send)"),t.push("720p Video (receive)"),t.push("Share 2nd Camera")):(n.push("Screen Share (send)"),n.push("720p Video (receive)"),n.push("Share 2nd Camera")),Oc()?(t.push("Audio"),t.push("Video"),t.push("Screen Share (receive)"),t.push("Chat"),t.push("Closed Captioning"),t.push("Live Transcription"),t.push("Live Translation"),t.push("Cloud Recording"),t.push("Call Out (PSTN)"),t.push("Command Channel"),t.push("RTMP Live Streaming"),t.push("Encryption")):(n.push("Audio"),n.push("Video"),n.push("Screen Share (receive)"),n.push("Chat"),n.push("Closed Captioning"),n.push("Live Transcription"),n.push("Live Translation"),n.push("Cloud Recording"),n.push("Call Out (PSTN)"),n.push("Command Channel"),n.push("RTMP Live Streaming"),n.push("Encryption"));const h=r?`${l}${d}`:`${a}${s}`;return n.length>0&&console.log("Some features are not supported on your platform, please refer to https://developers.zoom.us/docs/video-sdk/web/browser-support/"),{platform:h,supportFeatures:t,unSupportFeatures:n}}()}static checkSystemRequirements(){return vV()}static getDevices(t){return t?navigator.mediaDevices.enumerateDevices():navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(n=>(n.getTracks().forEach(r=>r.stop()),navigator.mediaDevices.enumerateDevices()))}static createLocalAudioTrack(){return new tF(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"")}static createLocalVideoTrack(){return new rF(arguments.length>0&&arguments[0]!==void 0?arguments[0]:"")}static preloadDependentAssets(t){(async n=>{const r=n||su,a=`${r}/${ou}`,s=[],l=[],d=`${r}/`;if(bh()){const{workers:p,wasms:h}=Hs("audio","simd",d);s.push(...p),l.push(...h)}else{const{workers:p,wasms:h}=Hs("audio","",d);s.push(...p),l.push(...h)}if(bh()&&function(){const{browser:p,browserVersion:h,isAndroidBrowser:g}=Me;return!g&&p.toLowerCase()==="chrome"&&nA(h,"100")>0&&window.crossOriginIsolated}()){const{workers:p,wasms:h}=Hs(["video","sharing"],"videoShare",d);s.push(...p),l.push(...h)}else if(bh()&&dE()){const{workers:p,wasms:h}=Hs(["video","sharing"],"simd,thread",d);s.push(...p),l.push(...h)}else if(dE()){const{workers:p,wasms:h}=Hs(["video","sharing"],"thread",d);s.push(...p),l.push(...h)}else if(bh()){const{workers:p,wasms:h}=Hs(["video","sharing"],"simd",d);s.push(...p),l.push(...h)}else{const{workers:p,wasms:h}=Hs(["video","sharing"],"",d);s.push(...p),l.push(...h)}const f=[NS(a,"script")];s.forEach(p=>{f.push(NS(p,"fetch"))}),l.forEach(p=>{f.push(NS(p,"fetch"))});try{document.head.append(...f)}catch{}})(t)}}go.meetingClient=void 0,go.VERSION=Qg;var tp="1.10.8",Hh="INVALID_PARAMETERS",iF="https://dmogdx0jrul3u.cloudfront.net/videosdk/".concat(tp,"/lib"),oF="https://source.zoom.us/videosdk/".concat(tp,"/lib"),aF="https://jssdk.zoomus.cn/videosdk/".concat(tp,"/lib"),Tb=function(e){return typeof e=="string"&&e.length>0},HV=function(e){var t="";switch(e){case"Global":t=oF;break;case"CN":t=aF;break;case"CDN":t=iF;break;default:t=e}return t},zV=["userId","avatar","displayName","isHost","audio","muted","bVideoOn","sharerOn","sharerPause","userIdentity","isSpeakerOnly","bVideoShare","bShareAudioOn","userGuid","isPhoneUser","isInFailover",{from:"isCoHost",to:"isManager"},{from:"bAllowISORecord",to:"isAllowIndividualRecording"},{from:"bVideoConnect",to:"isVideoConnect"},{from:"bShareToBORooms",to:"bShareToSubsession"},{from:"phoneNumber",to:function(e){return e===void 0?{}:{phoneNumber:e}}}],FV=[].concat(zV,[{from:"userGUID",to:"userGuid"},{from:"bCoHost",to:function(e){return{isManager:!!e}}},{from:"userType",to:function(e){return{isPhoneUser:(5&e)==5}}},{from:"bid",to:function(e){return e?{subsessionId:e}:{}}}]),sF=FV.map(function(e){return typeof e=="string"?e:e.from});function GV(e,t){return typeof e=="string"?kb({},"".concat(e),t):typeof e.to=="string"?kb({},"".concat(e.to),t):e.to(t)}function Gl(e){if(e)return zV.reduce(function(t,n){var r=typeof n=="string"?n:n.from,a=GV(n,e[r]);return Xr(Xr({},t),a)},{})}function Rb(e){if(e)return Object.keys(e).reduce(function(t,n){var r=sF.indexOf(n);if(r>-1){var a=FV[r],s=typeof a=="string"?a:a.from,l=GV(a,e[s]);return Xr(Xr({},t),l)}return t},{})}var eM,tM,nM,rM,iM,oM,aM,sM,fe=Symbol("stream"),uF=function(){function e(t){Ji(this,e),this[fe]=void 0,this[fe]=t}return Yi(e,[{key:"startAudio",value:function(t){return this[fe].startAudio(t)}},{key:"stopAudio",value:function(){return this[fe].stopAudio()}},{key:"muteAudio",value:function(t){return this[fe].muteAudio(t)}},{key:"unmuteAudio",value:function(t){return this[fe].unmuteAudio(t)}},{key:"inviteByPhone",value:function(t,n,r,a){return this[fe].dialOut(t,n,r,a)}},{key:"cancelInviteByPhone",value:function(t,n,r){return this[fe].cancelDialOut(t,n,r)}},{key:"hangup",value:function(){return this[fe].hangup()}},{key:"getCurrentSessionCallinInfo",value:function(){return this[fe].getDialInInfo()}},{key:"muteShareAudio",value:function(t){return this[fe].muteShareAudio(t)}},{key:"unmuteShareAudio",value:function(t){return this[fe].unmuteShareAudio(t)}},{key:"subscribeAudioStatisticData",value:function(t){return this[fe].subscribeAudioStatisticData(t)}},{key:"unsubscribeAudioStatisticData",value:function(t){return this[fe].unsubscribeAudioStatisticData(t)}},{key:"muteUserAudioLocally",value:function(t){return this[fe].muteUserAudioLocally(t)}},{key:"unmuteUserAudioLocally",value:function(t){return this[fe].unmuteUserAudioLocally(t)}},{key:"adjustUserAudioVolumeLocally",value:function(t,n){return this[fe].adjustUserAudioVolumeLocally(t,n)}},{key:"enableBackgroundNoiseSuppression",value:function(t){return this[fe].enableBackgroundNoiseSuppression(t)}},{key:"enableSyncButtonsOnHeadset",value:function(t){return this[fe].enableSyncButtonsOnHeadset(t)}},{key:"muteAllUserAudioLocally",value:function(){return this[fe].muteAllUserAudioLocally()}},{key:"unmuteAllUserAudioLocally",value:function(){return this[fe].unmuteAllUserAudioLocally()}},{key:"enableOriginalSound",value:function(t){return this[fe].enableOriginalSound(t)}},{key:"isAudioMuted",value:function(t){return this[fe].isAudioMuted(t)}},{key:"getMicList",value:function(){return this[fe].getMicList()}},{key:"getSpeakerList",value:function(){return this[fe].getSpeakerList()}},{key:"getActiveMicrophone",value:function(){return this[fe].getActiveMicrophone()}},{key:"getActiveSpeaker",value:function(){return this[fe].getActiveSpeaker()}},{key:"switchMicrophone",value:function(t){return this[fe].switchMicrophone(t)}},{key:"switchSpeaker",value:function(t){return this[fe].switchSpeaker(t)}},{key:"isSupportPhoneFeature",value:function(){return this[fe].isSupportCallOut()}},{key:"getSupportCountryInfo",value:function(){return this[fe].getDialOutCountries()}},{key:"getInviteByPhoneStatus",value:function(){return this[fe].getDialOutStatus()}},{key:"getShareAudioStatus",value:function(){return this[fe].getShareAudioStatus()}},{key:"isOthersShareAudioMutedLocally",value:function(t){return this[fe].isOthersShareAudioMutedLocally(t)}},{key:"getAudioStatisticData",value:function(){return this[fe].getAudioStatisticData()}},{key:"isUserAudioMutedLocally",value:function(t){return this[fe].isUserAudioMutedLocally(t)}},{key:"getUserVolumeLocally",value:function(t){return this[fe].getUserVolumeLocally(t)}},{key:"isSupportMicrophoneAndShareAudioSimultaneously",value:function(){return this[fe].isSupportMicrophoneAndShareAudioSimultaneously()}},{key:"startVideo",value:function(t){return this[fe].startVideo(t)}},{key:"stopVideo",value:function(){return this[fe].stopVideo()}},{key:"renderVideo",value:function(t,n,r,a,s,l,d,f){return this[fe].renderVideo(t,n,r,a,s,l,d,f)}},{key:"stopRenderVideo",value:function(t,n,r,a){var s=arguments.length>4&&arguments[4]!==void 0&&arguments[4],l=arguments.length>5?arguments[5]:void 0;return this[fe].stopRenderVideo(t,n,r,a,s,l)}},{key:"updateVideoCanvasDimension",value:function(t,n,r){return this[fe].updateVideoCanvasDimension(t,n,r)}},{key:"adjustRenderedVideoPosition",value:function(t,n,r,a,s,l,d){return this[fe].adjustRenderedVideoPosition(t,n,r,a,s,l,d)}},{key:"clearVideoCanvas",value:function(t,n){return this[fe].clearVideoCanvas(t,n)}},{key:"mirrorVideo",value:function(t){return this[fe].mirrorVideo(t)}},{key:"enableHardwareAcceleration",value:function(t){return this[fe].enableHardwareAcceleration(t)}},{key:"previewVirtualBackground",value:function(t,n,r){return this[fe].previewVirtualBackground(t,n,r)}},{key:"updateVirtualBackgroundImage",value:function(t,n){return this[fe].updateVirtualBackgroundImage(t,n)}},{key:"stopPreviewVirtualBackground",value:function(){return this[fe].stopPreviewVirtualBackground()}},{key:"previewVideoMask",value:function(t,n){return this[fe].previewVideoMask(t,n)}},{key:"updateVideoMask",value:function(t){return this[fe].updateVideoMask(t)}},{key:"stopPreviewVideoMask",value:function(){return this[fe].stopPreviewVideoMask()}},{key:"switchCamera",value:function(t){return this[fe].switchCamera(t)}},{key:"subscribeVideoStatisticData",value:function(t){return this[fe].subscribeVideoStatisticData(t)}},{key:"unsubscribeVideoStatisticData",value:function(t){return this[fe].unsubscribeVideoStatisticData(t)}},{key:"attachVideo",value:function(t,n,r){return this[fe].attachVideo(t,n,r)}},{key:"detachVideo",value:function(t,n){return this[fe].detachVideo(t,n)}},{key:"isCapturingVideo",value:function(){return this[fe].isCapturingVideo()}},{key:"isCameraTaken",value:function(){return this[fe].isCameraTaken()}},{key:"getActiveVideoId",value:function(){return this[fe].getActiveVideoId()}},{key:"getActiveCamera",value:function(){return this[fe].getActiveCamera()}},{key:"getCameraList",value:function(){return this[fe].getCameraList()}},{key:"isCaptureForbidden",value:function(){return this[fe].isCaptureForbidden()}},{key:"getVideoMaxQuality",value:function(){return this[fe].getVideoMaxQuality()}},{key:"getReceivedVideoDimension",value:function(){return this[fe].getReceivedVideoDimension()}},{key:"isSupportMultipleVideos",value:function(){return this[fe].isSupportMultipleVideos()}},{key:"isSupportHDVideo",value:function(){return this[fe].isSupportHDVideo()}},{key:"isSupportVirtualBackground",value:function(){return this[fe].isSupportVirtualBackground()}},{key:"getVirtualbackgroundStatus",value:function(){return this[fe].getVirtualbackgroundStatus()}},{key:"getVideoStatisticData",value:function(){return this[fe].getVideoStatisticData()}},{key:"isRenderSelfViewWithVideoElement",value:function(){return this[fe].isRenderSelfViewWithVideoElement()}},{key:"getCapturedVideoResolution",value:function(){return this[fe].getCapturedVideoResolution()}},{key:"getVideoMaskStatus",value:function(){return this[fe].getVideoMaskStatus()}},{key:"startShareView",value:function(t,n){return this[fe].startShareView(t,n)}},{key:"stopShareView",value:function(){return this[fe].stopShareView()}},{key:"switchShareView",value:function(t){return this[fe].switchShareView(t)}},{key:"startShareScreen",value:function(t,n){return(n==null?void 0:n.broadcastToSubsession)!==void 0&&Object.assign(n||{},{broadcastToBreakoutRoom:n==null?void 0:n.broadcastToSubsession}),this[fe].startShareScreen(t,n)}},{key:"pauseShareScreen",value:function(){return this[fe].pauseShareScreen()}},{key:"resumeShareScreen",value:function(){return this[fe].resumeShareScreen()}},{key:"stopShareScreen",value:function(){return this[fe].stopShareScreen()}},{key:"lockShare",value:function(t){return this[fe].lockShare(t)}},{key:"updateSharingCanvasDimension",value:function(t,n){return this[fe].updateSharingCanvasDimension(t,n)}},{key:"switchSharingSecondaryCamera",value:function(t){return this[fe].switchSharingSecondaryCamera(t)}},{key:"setSharePrivilege",value:function(t){return this[fe].setSharePrivilege(t)}},{key:"shareToSubsession",value:function(){return this[fe].shareToBreakoutRoom()}},{key:"stopShareToSubsession",value:function(){return this[fe].stopShareToBreakoutRoom()}},{key:"enableOptimizeForSharedVideo",value:function(t){return this[fe].enableOptimizeForSharedVideo(t)}},{key:"updateSharedVideoQuality",value:function(t){return this[fe].updateSharedVideoQuality(t)}},{key:"subscribeShareStatisticData",value:function(t){return this[fe].subscribeShareStatisticData(t)}},{key:"unsubscribeShareStatisticData",value:function(t){return this[fe].unsubscribeShareStatisticData(t)}},{key:"isShareLocked",value:function(){return this[fe].isShareLocked()}},{key:"getSharePrivilege",value:function(){return this[fe].getSharePrivilege()}},{key:"getActiveShareUserId",value:function(){return this[fe].getActiveShareUserId()}},{key:"getShareStatus",value:function(){return this[fe].getShareStatus()}},{key:"getShareUserList",value:function(){return this[fe].getShareUserList().map(function(t){return Gl(t)})}},{key:"isStartShareScreenWithVideoElement",value:function(){return this[fe].isStartShareScreenWithVideoElement()}},{key:"isOptimizeForSharedVideoEnabled",value:function(){return this[fe].isOptimizeForSharedVideoEnabled()}},{key:"isSupportOptimizedForSharedVideo",value:function(){return this[fe].isSupportOptimizedForSharedVideo()}},{key:"getShareStatisticData",value:function(){return this[fe].getShareStatisticData()}},{key:"requestFarEndCameraControl",value:function(t){return this[fe].requestFarEndCameraControl(t)}},{key:"approveFarEndCameraControl",value:function(t){return this[fe].approveFarEndCameraControl(t)}},{key:"declineFarEndCameraControl",value:function(t){return this[fe].declineFarEndCameraControl(t)}},{key:"giveUpFarEndCameraControl",value:function(t){return this[fe].giveUpFarEndCameraControl(t)}},{key:"controlCamera",value:function(t){return this[fe].controlCamera(t)}},{key:"controlFarEndCamera",value:function(t){return this[fe].controlFarEndCamera(t)}},{key:"getFarEndCameraPTZCapability",value:function(t){return this[fe].getFarEndCameraPTZCapability(t)}},{key:"getCameraPTZCapability",value:function(t){return this[fe].getCameraPTZCapability(t)}},{key:"isBrowserSupportPTZ",value:function(){return this[fe].isBrowserSupportPTZ()}},{key:"getNetworkQuality",value:function(t){return this[fe].getNetworkQuality(t)}},{key:"requestRemoteControl",value:function(){return this[fe].requestRemoteControl()}},{key:"giveUpRemoteControl",value:function(){return this[fe].giveUpRemoteControl()}},{key:"startRemoteControl",value:function(t){return this[fe].startRemoteControl(t)}},{key:"grabRemotoControl",value:function(){return this[fe].grabRemotoControl()}},{key:"approveRemoteControl",value:function(t){return this[fe].approveRemoteControl(t)}},{key:"declineRemoteControl",value:function(t){return this[fe].declineRemoteControl(t)}},{key:"stopRemoteControl",value:function(){return this[fe].stopRemoteControl()}},{key:"launchRemoteControlApp",value:function(t){return this[fe].launchRemoteControlApp(t)}},{key:"isRemotelyControlApproved",value:function(){return this[fe].isRemotelyControlApproved()}},{key:"isControllingUserRemotely",value:function(){return this[fe].isControllingUserRemotely()}},{key:"isTargetShareSupportRemoteControl",value:function(t){return this[fe].isTargetShareSupportRemoteControl(t)}},{key:"getRemoteControlAppDownloadUrl",value:function(){return this[fe].getRemoteControlAppDownloadUrl()}},{key:"getRemotelyControllingUser",value:function(){return this[fe].getRemotelyControllingUser()}},{key:"isRemoteControlEnabled",value:function(){return this[fe].isRemoteControlEnabled()}}]),e}(),lF=["isCoHost"],bi=Symbol("chat"),dF=function(){function e(t){Ji(this,e),this[bi]=void 0,this[bi]=t}return Yi(e,[{key:"send",value:function(t,n){return this[bi].send(t,n)}},{key:"sendToAll",value:function(t){return this[bi].send(t,wt.All)}},{key:"sendFile",value:function(t,n){return this[bi].sendFile(t,n)}},{key:"downloadFile",value:function(t,n,r){return this[bi].downloadFile(t,n,r)}},{key:"setPrivilege",value:function(t){return this[bi].setPrivilege(t)}},{key:"getPrivilege",value:function(){return this[bi].getPrivilege()}},{key:"getReceivers",value:function(){return this[bi].getReceivers().map(function(t){return Xr({isManager:t.isCoHost},Am(t,lF))})}},{key:"getHistory",value:function(){return this[bi].getHistory()}},{key:"isFileTransferEnabled",value:function(){return this[bi].isFileTransferEnabled()}},{key:"getFileTransferSetting",value:function(){return this[bi].getFileTransferSetting()}}]),e}(),uo=Symbol("recording"),cF=function(){function e(t){Ji(this,e),this[uo]=void 0,this[uo]=t}return Yi(e,[{key:"canStartRecording",value:function(){return this[uo].isRecordingEnabled()}},{key:"startCloudRecording",value:function(){return this[uo].startRecording()}},{key:"pauseCloudRecording",value:function(){return this[uo].pauseRecording()}},{key:"resumeCloudRecording",value:function(){return this[uo].startRecording()}},{key:"stopCloudRecording",value:function(){return this[uo].stopRecording()}},{key:"getCloudRecordingStatus",value:function(){return this[uo].getRecordingStatus()}},{key:"acceptIndividualRecording",value:function(){return this[uo].accept()}},{key:"declineIndividualRecording",value:function(){return this[uo].decline()}}]),e}(),Ib=Symbol("command"),fF=function(){function e(t){Ji(this,e),this[Ib]=void 0,this[Ib]=t}return Yi(e,[{key:"send",value:function(t,n){return this[Ib].send(t,n)}}]),e}(),pF=["isInRoom"],hF=["isAutoJoinRoom"],Pn=Symbol("breakout-room"),mF=function(){function e(t){Ji(this,e),this[Pn]=void 0,this[Pn]=t}return Yi(e,[{key:"createSubsessions",value:function(t,n){return this[Pn].createRooms(t,n).then(function(r){return r.map(function(a){return{subsessionId:a.roomId,subsessionName:a.name,userList:a.attendeeList}})})}},{key:"openSubsessions",value:function(t,n){var r=n?Xr(Xr({},n),{},{isAutoJoinRoom:n.isAutoJoinSubsession}):void 0,a=t.map(function(s){return{roomId:s.subsessionId,name:s.subsessionName,attendeeList:s.userList}});return this[Pn].openRooms(a,r)}},{key:"joinSubsession",value:function(t){return this[Pn].joinRoom(t)}},{key:"leaveSubsession",value:function(){return this[Pn].leaveRoom()}},{key:"askForHelp",value:function(){return this[Pn].askForHelp()}},{key:"postponeHelping",value:function(t){return this[Pn].postponeHelping(t)}},{key:"broadcast",value:function(t){return this[Pn].broadcast(t)}},{key:"assignUserToSubsession",value:function(t,n){return this[Pn].assignUserToRoom(t,n)}},{key:"moveUserToSubsession",value:function(t,n){return this[Pn].moveUserToRoom(t,n)}},{key:"closeAllSubsessions",value:function(){return this[Pn].closeRoom()}},{key:"getUnassignedUserList",value:function(){return this[Pn].getUnassignedAttendeeList().map(function(t){return Gl(t)})}},{key:"getSubsessionList",value:function(){return this[Pn].getRoomList().map(function(t){return{subsessionId:t.roomId,subsessionName:t.name,userList:t.attendeeList.map(function(n){var r=n;return Xr({isInSubsession:r.isInRoom},Am(r,pF))})}})}},{key:"getUserStatus",value:function(){return this[Pn].getAttendeeStatus()}},{key:"getSubsessionStatus",value:function(){return this[Pn].getRoomStatus()}},{key:"getCurrentSubsession",value:function(){var t=this[Pn].getCurrentRoom();return{userStatus:t.attendeeStatus,subsessionName:t.name,subsessionId:t.roomId}}},{key:"getSubsessionOptions",value:function(){var t=this[Pn].getRoomOptions();return Xr({isAutoJoinSubsession:t.isAutoJoinRoom},Am(t,hF))}}]),e}(),_i=Symbol("liveTranscription"),gF=function(){function e(t){Ji(this,e),this[_i]=void 0,this[_i]=t}return Yi(e,[{key:"startLiveTranscription",value:function(){return this[_i].startLiveTranscription()}},{key:"setSpeakingLanguage",value:function(t){return this[_i].setSpeakingLanguage(t)}},{key:"setTranslationLanguage",value:function(t){return this[_i].setTranslationLanguage(t)}},{key:"getLiveTranscriptionStatus",value:function(){return this[_i].getLiveTranscriptionStatus()}},{key:"getCurrentTranscriptionLanguage",value:function(){return this[_i].getCurrentTranscriptionLanguage()}},{key:"getCurrentTranslationLanguage",value:function(){return this[_i].getCurrentTranslationLanguage()}},{key:"getLatestTranscription",value:function(){return this[_i].getLatestTranscription()}},{key:"getLatestTranslation",value:function(){return this[_i].getLatestTranslation()}},{key:"getFullTranscriptionHistory",value:function(){return this[_i].getFullTranscriptionHistory()}},{key:"disableCaptions",value:function(t){return this[_i].disableCaptions(t)}}]),e}(),Dl=Symbol("liveStream"),yF=function(){function e(t){Ji(this,e),this[Dl]=void 0,this[Dl]=t}return Yi(e,[{key:"startLiveStream",value:function(t,n,r){return this[Dl].startLiveStream(t,n,r)}},{key:"stopLiveStream",value:function(){return this[Dl].stopLiveStream()}},{key:"isLiveStreamEnabled",value:function(){return this[Dl].isLiveStreamEnabled()}},{key:"getLiveStreamStatus",value:function(){return this[Dl].getLiveStreamStatus()}}]),e}(),$c=Symbol("logger"),vF=function(){function e(t,n){if(Ji(this,e),this[$c]=void 0,this[$c]=t,n){var r=n.debugMode,a=n.trackingId;this[$c].setLogOptions({debugMode:r,trackingId:a})}}return Yi(e,[{key:"reportToGlobalTracing",value:function(t){return this[$c].reportToGlobalTracing(t)}},{key:"reportRating",value:function(t,n){return this[$c].reportRating(t,n)}}]),e}(),SF=["roomName"],uM=[{event:"connection-change",originalEvent:"connection-change",payloadTransform:function(e){var t=e.roomName,n=Am(e,SF);return t?Xr(Xr({},n),{},{subsessionName:t}):e}},{event:"user-added",originalEvent:"user-added",payloadTransform:function(e){return e.map(function(t){return Rb(t)})}},{event:"user-updated",originalEvent:"user-updated",payloadTransform:function(e){return e.map(function(t){return Rb(t)})}},{event:"user-removed",originalEvent:"user-removed",payloadTransform:function(e){return e.map(function(t){return Rb(t)})}},{event:"subsession-invite-to-join",originalEvent:"invite-to-join",payloadTransform:function(e){return{subsessionId:e.roomId,subsessionName:e.name}}},{event:"subsession-countdown",originalEvent:"room-countdown"},{event:"subsession-time-up",originalEvent:"room-time-up"},{event:"closing-subsession-countdown",originalEvent:"closing-room-countdown"},{event:"subsession-broadcast-message",originalEvent:"broadcast-message"},{event:"subsession-ask-for-help",originalEvent:"ask-for-help",payloadTransform:function(e){return{userId:e.userId,userGuid:e.userGuid,displayName:e.displayName,subsessionId:e.roomId,subsessionName:e.roomName}}},{event:"subsession-ask-for-help-response",originalEvent:"ask-for-help-response"},{event:"subsession-state-change",originalEvent:"room-state-change"},{event:"host-ask-unmute-audio",originalEvent:"unmute-audio-consent"}],lo=Symbol("summary"),bF=function(){function e(t){Ji(this,e),this[lo]=void 0,this[lo]=t}return Yi(e,[{key:"startSummary",value:function(){return this[lo].startSummary()}},{key:"stopSummary",value:function(){return this[lo].stopSummary()}},{key:"isSummaryEnabled",value:function(){return this[lo].isSummaryEnabled()}},{key:"getSummaryStatus",value:function(){return this[lo].getSummaryStatus()}},{key:"startMeetingQuery",value:function(){return this[lo].startMeetingQuery()}},{key:"stopMeetingQuery",value:function(){return this[lo].stopMeetingQuery()}},{key:"isMeetingQueryEnabled",value:function(){return this[lo].isMeetingQueryEnabled()}},{key:"getMeetingQueryStatus",value:function(){return this[lo].getMeetingQueryStatus()}}]),e}(),gt=Symbol("Client"),zh=new WeakMap,_F=function(){function e(){Ji(this,e),this[gt]=void 0,this.stream=void 0,this.chat=void 0,this.command=void 0,this.recording=void 0,this.subsession=void 0,this.liveTranscription=void 0,this.logger=void 0,this.liveStream=void 0,this.aiClient=void 0,this[gt]=go.createClient(),zh.set(this,new Map)}return Yi(e,[{key:"init",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"en-US",n=arguments.length>2?arguments[2]:void 0,r=HV(arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Global");return window.isSecureContext===!1&&console.warn("The page is not in a secure context, to use audio, video, screen, a secure context must be enabled."),function(){var a="__ZOOM_VIDEO_SDK_DOM_STORAGE_TEST__";try{return localStorage.setItem(a,a),localStorage.removeItem(a),sessionStorage.setItem(a,a),sessionStorage.removeItem(a),!0}catch{return!1}}()||console.warn("localstorage or sessionstorage is not enabled, please enable to use the video sdk,"),this[gt].init("","",{language:t,dependentAssets:r,constraints:Xr(Xr({},go.checkSystemRequirements()),{},{screen:(typeof WebAssembly>"u"?"undefined":Mb(WebAssembly))==="object"&&typeof Worker=="function"}),additionalFeatures:["chat","cmd","recording","breakoutRoom","liveTranscription","logger","liveStream","summary"],webEndpoint:(n==null?void 0:n.webEndpoint)||"zoom.us",skipJsMedia:n==null?void 0:n.skipJsMedia,enforceMultipleVideos:n==null?void 0:n.enforceMultipleVideos,stayAwake:n==null?void 0:n.stayAwake,enforceVirtualBackground:n==null?void 0:n.enforceVirtualBackground,quicklyLeaveMeeting:n==null?void 0:n.leaveOnPageUnload,patchJsMedia:n==null?void 0:n.patchJsMedia,alternativeNameForVideoPlayer:n==null?void 0:n.alternativeNameForVideoPlayer})}},{key:"join",value:function(t,n,r,a,s){return Tb(t)&&Tb(n)&&Tb(r)?t.length>200?Promise.reject({type:Hh,reason:"The maximum length of topic is 200"}):r.length>200?Promise.reject({type:Hh,reason:"The maximum length of username is 200"}):a&&(typeof a!="string"||a.length>10)?Promise.reject({type:Hh,reason:"The maximum length of password is 10"}):this[gt].joinInstant(t,n,r,tp,a,s):Promise.reject({type:Hh,reason:"Topic, token and userName must be string and required"})}},{key:"leave",value:function(){var t;return arguments.length>0&&arguments[0]!==void 0&&arguments[0]?((t=zh.get(this))===null||t===void 0||t.clear(),this[gt].end()):this[gt].leave()}},{key:"on",value:function(t,n){var r=uM.find(function(p){return p.event===t});if(r){var a=r.originalEvent,s=r.payloadTransform;if(s){var l=function(p){var h=s(p);n(h)};this[gt].on(a,l);var d=zh.get(this);if(d){d.has(t)||d.set(t,[]);var f=d.get(t);f==null||f.push({originalCb:n,newCb:l})}}else this[gt].on(a,n)}else this[gt].on(t,n)}},{key:"off",value:function(t,n){var r=uM.find(function(p){return p.event===t});if(r){var a=r.originalEvent;if(r.payloadTransform){var s=zh.get(this);if(s){var l=s.get(t),d=l==null?void 0:l.find(function(p){return p.originalCb===n});if(d&&l){this[gt].off(a,d.newCb);var f=l==null?void 0:l.filter(function(p){return p.originalCb!==n});s.set(t,f)}}}else this[gt].off(a,n)}else this[gt].off(t,n)}},{key:"getMediaStream",value:function(){return this.stream||(this.stream=new uF(this[gt].getMediaStream())),this.stream}},{key:"getChatClient",value:function(){return this.chat||(this.chat=new dF(this[gt].getFeatureModule("chat"))),this.chat}},{key:"getRecordingClient",value:function(){return this.recording||(this.recording=new cF(this[gt].getFeatureModule("recording"))),this.recording}},{key:"getCommandClient",value:function(){return this.command||(this.command=new fF(this[gt].getFeatureModule("cmd"))),this.command}},{key:"getSubsessionClient",value:function(){return this.subsession||(this.subsession=new mF(this[gt].getFeatureModule("breakoutRoom"))),this.subsession}},{key:"getLiveTranscriptionClient",value:function(){return this.liveTranscription||(this.liveTranscription=new gF(this[gt].getFeatureModule("liveTranscription"))),this.liveTranscription}},{key:"getLoggerClient",value:function(t){return this.logger||(this.logger=new vF(this[gt].getFeatureModule("logger"),t)),this.logger}},{key:"getLiveStreamClient",value:function(){return this.liveStream||(this.liveStream=new yF(this[gt].getFeatureModule("liveStream"))),this.liveStream}},{key:"getAIClient",value:function(){return this.aiClient||(this.aiClient=new bF(this[gt].getFeatureModule("summary"))),this.aiClient}},{key:"getSessionInfo",value:function(){var t=this[gt].getMeetingInfo();return{isInMeeting:t.isInMeeting||!1,password:t.password||"",topic:t.topic,userName:t.userName,userId:t.userId,sessionId:t.meetingId}}},{key:"getCurrentUserInfo",value:function(){return Gl(this[gt].getCurrentUserInfo())}},{key:"getUser",value:function(t){return Gl(this[gt].getParticipantsList().find(function(n){return n.userId===t}))}},{key:"getAllUser",value:function(){return this[gt].getParticipantsList().map(function(t){return Gl(t)})}},{key:"changeName",value:function(t,n){return this[gt].changeName(t,n)}},{key:"makeHost",value:function(t){return this[gt].makeHost(t)}},{key:"removeUser",value:function(t){return this[gt].removeUser(t)}},{key:"makeManager",value:function(t){return this[gt].makeCoHost(t)}},{key:"revokeManager",value:function(t){return this[gt].revokeCoHost(t)}},{key:"reclaimHost",value:function(){return this[gt].reclaimHost()}},{key:"isHost",value:function(){return this[gt].isHost()}},{key:"isOriginalHost",value:function(){return this[gt].isOriginHost()}},{key:"getSessionHost",value:function(){return Gl(this[gt].getMeetingHost())}},{key:"isManager",value:function(){return this[gt].isCoHost()}}]),e}(),jE=function(){function e(){Ji(this,e)}return Yi(e,null,[{key:"createClient",value:function(){return this.videoClient||(this.videoClient=new _F),this.videoClient}},{key:"destroyClient",value:function(){this.videoClient&&(this.videoClient.leave(),this.videoClient=null)}},{key:"checkSystemRequirements",value:function(){return go.checkSystemRequirements()}},{key:"checkFeatureRequirements",value:function(){return go.checkFeatureRequirements()}},{key:"getDevices",value:function(t){return go.getDevices(t)}},{key:"createLocalAudioTrack",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return go.createLocalAudioTrack(t)}},{key:"createLocalVideoTrack",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return go.createLocalVideoTrack(t)}},{key:"preloadDependentAssets",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Global";go.preloadDependentAssets(HV(t))}}]),e}();jE.videoClient=void 0,jE.VERSION=tp,function(e){e[e.All=1]="All",e[e.NoOne=4]="NoOne",e[e.EveryonePublicly=5]="EveryonePublicly"}(eM||(eM={})),function(e){e[e.All=0]="All"}(tM||(tM={})),function(e){e[e.Automatically=Tf.Automatically]="Automatically",e[e.Manually=Tf.Manually]="Manually"}(nM||(nM={})),function(e){e[e.Initial=Ue.Initial]="Initial",e[e.Invited=Ue.Invited]="Invited",e[e.Joining=Ue.Joining]="Joining",e[e.InSubsession=Ue.InRoom]="InSubsession",e[e.Leaving=Ue.Leaving]="Leaving",e[e.MainSession=Ue.MainSession]="MainSession"}(rM||(rM={})),function(e){e[e.NotStarted=tt.NotStarted]="NotStarted",e[e.InProgress=tt.InProgress]="InProgress",e[e.Closing=tt.Closing]="Closing",e[e.Closed=tt.Closed]="Closed"}(iM||(iM={})),function(e){e[e.Failover=zn.Failover]="Failover",e[e.JoinSubsession=zn.JoinBreakoutRoom]="JoinSubsession",e[e.MoveToSubsession=zn.MoveToBreakoutRoom]="MoveToSubsession",e[e.BackToMainSession=zn.BackToMainSession]="BackToMainSession"}(oM||(oM={})),function(e){e[e.Unlocked=Jr.HostGrab]="Unlocked",e[e.Locked=Jr.OnlyHost]="Locked",e[e.MultipleShare=Jr.MultipleShare]="MultipleShare"}(aM||(aM={})),function(e){e[e.Unknown=Bn.Unknown]="Unknown",e[e.Uninstalled=Bn.Uninstalled]="Uninstalled",e[e.Installed=Bn.Installed]="Installed",e[e.Unlaunched=zm.Unlaunched]="Unlaunched",e[e.Launched=zm.Launched]="Launched"}(sM||(sM={}));const Db={topic:"6b2a1b1e-3ab4-499e-823e-6fc68726c8fc_1734694920714",token:"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhcHBfa2V5IjoiZ3l0YkpaYlk0U1Q3Rm9ZOFZLaDZ1bklrN2dpMXlLc0JVQTk5IiwidHBjIjoiNmIyYTFiMWUtM2FiNC00OTllLTgyM2UtNmZjNjg3MjZjOGZjXzE3MzQ2OTQ5MjA3MTQiLCJyb2xlX3R5cGUiOjEsImlhdCI6MTczNDY5NDkyMCwiZXhwIjoxNzM0ODY3NzIwfQ.pzVS3toso-497oBJhrKspO5Qy2Y7dMMF93cezqc-J6c",sessionPassword:"e3f7"},lM=()=>{const e=Mr.useRef(jE.createClient()),t=Mr.useRef(null),n=Mr.useRef(null),[r,a]=Mr.useState(!1),[s,l]=Mr.useState(!1),[d,f]=Mr.useState(!1),p=Mr.useCallback(async()=>{try{f(!0),await e.current.join(Db.topic,Db.token,Math.random().toString(36),Db.sessionPassword),t.current=e.current.getMediaStream(),f(!1),a(!0),console.log("Log: Meeting started")}catch(S){f(!1),console.log("Log: Meeting start failed",S),S&&S.reason==="duplicated operation"&&alert("Can only start one meeting at a time")}},[]),h=Mr.useCallback(async()=>{if(n.current&&t.current)try{f(!0),await t.current.startVideo({videoElement:n.current}),f(!1),l(!0),console.log("Log: Camera enabled")}catch(S){f(!1),console.log("Log: Camera enable failed",S)}},[]),g=Mr.useCallback(()=>{var S;(S=t.current)==null||S.stopVideo(),l(!1),console.log("Log: Camera disabled")},[]),v=Mr.useCallback(()=>{var S;(S=t.current)!=null&&S.isCapturingVideo()&&g(),e.current.leave(),a(!1),console.log("Log: Meeting left")},[g]);return Mr.useEffect(()=>(e.current.init("en-US","Global"),()=>{r&&v()}),[]),wn.jsxs("div",{style:{width:"480px"},children:[wn.jsx("video",{ref:n,style:{width:"100%",aspectRatio:16/9,backgroundColor:"black"}}),wn.jsx("div",{style:{display:"flex",gap:"8px",marginTop:"8px"},children:d?"loading...":wn.jsx(wn.Fragment,{children:r?wn.jsxs(wn.Fragment,{children:[s?wn.jsx("button",{onClick:g,children:" Disable Video"}):wn.jsx("button",{onClick:h,children:" Enable Video"}),wn.jsx("button",{onClick:v,children:"End meeting"})]}):wn.jsx("button",{onClick:p,children:" Start meeting"})})})]})},EF=()=>wn.jsxs(wn.Fragment,{children:[wn.jsx(lM,{}),wn.jsx("br",{}),wn.jsx(bB,{style:{width:"500px",height:"320px"},children:wn.jsx(lM,{})})]});vB.createRoot(document.getElementById("root")).render(wn.jsx(EF,{}))});export default AF();
